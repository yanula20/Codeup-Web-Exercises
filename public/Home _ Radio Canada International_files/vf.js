/*! Copyright Viafoura 08233bb 1447961624 | https://cdn.viafoura.net/licenses.txt */
!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(i,s){for(var o,a,l=0,c=[];l<i.length;l++)a=i[l],r[a]&&c.push.apply(c,r[a]),r[a]=0;for(o in s)t[o]=s[o];for(n&&n(i,s);c.length;)c.shift().call(null,e)};var i={},r={0:0};return e.e=function(t,n){if(0===r[t])return n.call(null,e);if(void 0!==r[t])r[t].push(n);else{r[t]=[n];var i=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.src=e.p+"08233bb/"+{1:"9ad1208a39423bd5e8b7",2:"bc12ffda29e5743a147c",3:"c495094ac4220b0915c3",4:"ea9d137044790e661569",5:"cbb6a6136e9f6ccd70dc",6:"ca394099a4a76098bffd"}[t]+".vf.js",i.appendChild(s)}},e.m=t,e.c=i,e.p="",e(0)}([function(t,e,n){var i,r;try{i=[n(1),n(6),n(7),n(68),n(14),n(112),n(153)],r=function(t,e,i){i.isInitializedOnWindow()||(void 0===window.JSON?n.e(6,function(t){window.JSON=n(154),i.init()}):i.init(),t(window).one("unload",function(){i.onUnload()}))}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;(function(s){!function(o,a){function l(t){var e=t.length,n=pt.type(t);return pt.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function c(t){var e=Lt[t]={};return pt.each(t.match(vt)||[],function(t,n){e[n]=!0}),e}function u(t,e,n,i){if(pt.acceptData(t)){var r,s,o=pt.expando,l="string"==typeof e,c=t.nodeType,u=c?pt.cache:t,h=c?t[o]:t[o]&&o;if(h&&u[h]&&(i||u[h].data)||!l||n!==a)return h||(c?t[o]=h=st.pop()||pt.guid++:h=o),u[h]||(u[h]={},c||(u[h].toJSON=pt.noop)),("object"==typeof e||"function"==typeof e)&&(i?u[h]=pt.extend(u[h],e):u[h].data=pt.extend(u[h].data,e)),r=u[h],i||(r.data||(r.data={}),r=r.data),n!==a&&(r[pt.camelCase(e)]=n),l?(s=r[e],null==s&&(s=r[pt.camelCase(e)])):s=r,s}}function h(t,e,n){if(pt.acceptData(t)){var i,r,s,o=t.nodeType,a=o?pt.cache:t,l=o?t[pt.expando]:pt.expando;if(a[l]){if(e&&(s=n?a[l]:a[l].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in s?e=[e]:(e=pt.camelCase(e),e=e in s?[e]:e.split(" "));for(i=0,r=e.length;r>i;i++)delete s[e[i]];if(!(n?f:pt.isEmptyObject)(s))return}(n||(delete a[l].data,f(a[l])))&&(o?pt.cleanData([t],!0):pt.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function d(t,e,n){if(n===a&&1===t.nodeType){var i="data-"+e.replace(It,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Nt.test(n)?pt.parseJSON(n):n}catch(r){}pt.data(t,e,n)}else n=a}return n}function f(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function p(){return!0}function g(){return!1}function v(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function m(t,e,n){if(e=e||0,pt.isFunction(e))return pt.grep(t,function(t,i){var r=!!e.call(t,i,t);return r===n});if(e.nodeType)return pt.grep(t,function(t){return t===e===n});if("string"==typeof e){var i=pt.grep(t,function(t){return 1===t.nodeType});if(Kt.test(e))return pt.filter(e,i,!n);e=pt.filter(e,i)}return pt.grep(t,function(t){return pt.inArray(t,e)>=0===n})}function y(t){var e=Qt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function b(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function w(t){var e=t.getAttributeNode("type");return t.type=(e&&e.specified)+"/"+t.type,t}function _(t){var e=ue.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){for(var n,i=0;null!=(n=t[i]);i++)pt._data(n,"globalEval",!e||pt._data(e[i],"globalEval"))}function k(t,e){if(1===e.nodeType&&pt.hasData(t)){var n,i,r,s=pt._data(t),o=pt._data(e,s),a=s.events;if(a){delete o.handle,o.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)pt.event.add(e,n,a[n][i])}o.data&&(o.data=pt.extend({},o.data))}}function T(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!pt.support.noCloneEvent&&e[pt.expando]){r=pt._data(e);for(i in r.events)pt.removeEvent(e,i,r.handle);e.removeAttribute(pt.expando)}"script"===n&&e.text!==t.text?(w(e).text=t.text,_(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),pt.support.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&ae.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function E(t,e){var n,i,r=0,s=typeof t.getElementsByTagName!==Z?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Z?t.querySelectorAll(e||"*"):a;if(!s)for(s=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||pt.nodeName(i,e)?s.push(i):pt.merge(s,E(i,e));return e===a||e&&pt.nodeName(t,e)?pt.merge([t],s):s}function C(t){ae.test(t.type)&&(t.defaultChecked=t.checked)}function S(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=Ne.length;r--;)if(e=Ne[r]+n,e in t)return e;return i}function A(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)}function L(t,e){for(var n,i,r,s=[],o=0,a=t.length;a>o;o++)i=t[o],i.style&&(s[o]=pt._data(i,"olddisplay"),n=i.style.display,e?(s[o]||"none"!==n||(i.style.display=""),""===i.style.display&&A(i)&&(s[o]=pt._data(i,"olddisplay",M(i.nodeName)))):s[o]||(r=A(i),(n&&"none"!==n||!r)&&pt._data(i,"olddisplay",r?n:pt.css(i,"display"))));for(o=0;a>o;o++)i=t[o],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?s[o]||"":"none"));return t}function N(t,e,n){var i=ke.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function I(t,e,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===e?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=pt.css(t,n+Le[s],!0,r)),i?("content"===n&&(o-=pt.css(t,"padding"+Le[s],!0,r)),"margin"!==n&&(o-=pt.css(t,"border"+Le[s]+"Width",!0,r))):(o+=pt.css(t,"padding"+Le[s],!0,r),"padding"!==n&&(o+=pt.css(t,"border"+Le[s]+"Width",!0,r)));return o}function D(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,s=ve(t),o=pt.support.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,s);if(0>=r||null==r){if(r=me(t,e,s),(0>r||null==r)&&(r=t.style[e]),Te.test(r))return r;i=o&&(pt.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+I(t,e,n||(o?"border":"content"),i,s)+"px"}function M(t){var e=tt,n=Ce[t];return n||(n=q(t,e),"none"!==n&&n||(ge=(ge||pt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ge[0].contentWindow||ge[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=q(t,e),ge.detach()),Ce[t]=n),n}function q(t,e){var n=pt(e.createElement(t)).appendTo(e.body),i=pt.css(n[0],"display");return n.remove(),i}function P(t,e,n,i){var r;if(pt.isArray(e))pt.each(e,function(e,r){n||De.test(t)?i(t,r):P(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==pt.type(e))i(t,e);else for(r in e)P(t+"["+r+"]",e[r],n,i)}function R(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(vt)||[];if(pt.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function O(t,e,n,i){function r(a){var l;return s[a]=!0,pt.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var s={},o=t===Ke;return r(e.dataTypes[0])||!s["*"]&&r("*")}function $(t,e){var n,i,r=pt.ajaxSettings.flatOptions||{};for(i in e)e[i]!==a&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&pt.extend(!0,t,n),t}function j(t,e,n){var i,r,s,o,l=t.contents,c=t.dataTypes,u=t.responseFields;for(o in u)o in n&&(e[u[o]]=n[o]);for(;"*"===c[0];)c.shift(),r===a&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||t.converters[o+" "+c[0]]){s=o;break}i||(i=o)}s=s||i}return s?(s!==c[0]&&c.unshift(s),n[s]):void 0}function H(t,e){var n,i,r,s,o={},a=0,l=t.dataTypes.slice(),c=l[0];if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l[1])for(r in t.converters)o[r.toLowerCase()]=t.converters[r];for(;i=l[++a];)if("*"!==i){if("*"!==c&&c!==i){if(r=o[c+" "+i]||o["* "+i],!r)for(n in o)if(s=n.split(" "),s[1]===i&&(r=o[c+" "+s[0]]||o["* "+s[0]])){r===!0?r=o[n]:o[n]!==!0&&(i=s[0],l.splice(a--,0,i));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:e}}function F(){try{return new o.XMLHttpRequest}catch(t){}}function B(){try{return new o.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function U(){return s(function(){sn=a}),sn=pt.now()}function z(t,e){pt.each(e,function(e,n){for(var i=(hn[e]||[]).concat(hn["*"]),r=0,s=i.length;s>r;r++)if(i[r].call(t,e,n))return})}function W(t,e,n){var i,r,s=0,o=un.length,a=pt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=sn||U(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,s=1-i,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(s);return a.notifyWith(t,[c,s,n]),1>s&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:sn||U(),duration:n.duration,tweens:[],createTween:function(e,n){var i=pt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(V(u,c.opts.specialEasing);o>s;s++)if(i=un[s].call(c,t,u,c.opts))return i;return z(c,u),pt.isFunction(c.opts.start)&&c.opts.start.call(t,c),pt.fx.timer(pt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function V(t,e){var n,i,r,s,o;for(r in t)if(i=pt.camelCase(r),s=e[i],n=t[r],pt.isArray(n)&&(s=n[1],n=t[r]=n[0]),r!==i&&(t[i]=n,delete t[r]),o=pt.cssHooks[i],o&&"expand"in o){n=o.expand(n),delete t[i];for(r in n)r in t||(t[r]=n[r],e[r]=s)}else e[i]=s}function J(t,e,n){var i,r,s,o,a,l,c,u,h,d=this,f=t.style,p={},g=[],v=t.nodeType&&A(t);n.queue||(u=pt._queueHooks(t,"fx"),null==u.unqueued&&(u.unqueued=0,h=u.empty.fire,u.empty.fire=function(){u.unqueued||h()}),u.unqueued++,d.always(function(){d.always(function(){u.unqueued--,pt.queue(t,"fx").length||u.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===pt.css(t,"display")&&"none"===pt.css(t,"float")&&(pt.support.inlineBlockNeedsLayout&&"inline"!==M(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",pt.support.shrinkWrapBlocks||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in e)if(o=e[r],an.exec(o)){if(delete e[r],l=l||"toggle"===o,o===(v?"hide":"show"))continue;g.push(r)}if(s=g.length){a=pt._data(t,"fxshow")||pt._data(t,"fxshow",{}),"hidden"in a&&(v=a.hidden),l&&(a.hidden=!v),v?pt(t).show():d.done(function(){pt(t).hide()}),d.done(function(){var e;pt._removeData(t,"fxshow");for(e in p)pt.style(t,e,p[e])});for(r=0;s>r;r++)i=g[r],c=d.createTween(i,v?a[i]:0),p[i]=a[i]||pt.style(t,i),i in a||(a[i]=c.start,v&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}function X(t,e,n,i,r){return new X.prototype.init(t,e,n,i,r)}function K(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Le[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function G(t){return pt.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var Y,Q,Z=typeof a,tt=o.document,et=o.location,nt=o.jQuery,it=o.$,rt={},st=[],ot="1.9.1",at=st.concat,lt=st.push,ct=st.slice,ut=st.indexOf,ht=rt.toString,dt=rt.hasOwnProperty,ft=ot.trim,pt=function(t,e){return new pt.fn.init(t,e,Q)},gt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=/\S+/g,mt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,yt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,bt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,wt=/^[\],:{}\s]*$/,_t=/(?:^|:|,)(?:\s*\[)+/g,xt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,kt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Tt=/^-ms-/,Et=/-([\da-z])/gi,Ct=function(t,e){return e.toUpperCase()},St=function(t){(tt.addEventListener||"load"===t.type||"complete"===tt.readyState)&&(At(),pt.ready())},At=function(){tt.addEventListener?(tt.removeEventListener("DOMContentLoaded",St,!1),o.removeEventListener("load",St,!1)):(tt.detachEvent("onreadystatechange",St),o.detachEvent("onload",St))};pt.fn=pt.prototype={jquery:ot,constructor:pt,init:function(t,e,n){var i,r;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:yt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:tt,!0)),bt.test(i[1])&&pt.isPlainObject(e))for(i in e)pt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(r=tt.getElementById(i[2]),r&&r.parentNode){if(r.id!==i[2])return n.find(t);this.length=1,this[0]=r}return this.context=tt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?n.ready(t):(t.selector!==a&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return ct.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return pt.each(this,t,e)},ready:function(t){return pt.ready.promise().done(t),this},slice:function(){return this.pushStack(ct.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(pt.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:lt,sort:[].sort,splice:[].splice},pt.fn.init.prototype=pt.fn,pt.extend=pt.fn.extend=function(){var t,e,n,i,r,s,o=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),"object"==typeof o||pt.isFunction(o)||(o={}),c===l&&(o=this,--l);c>l;l++)if(null!=(r=arguments[l]))for(i in r)t=o[i],n=r[i],o!==n&&(u&&n&&(pt.isPlainObject(n)||(e=pt.isArray(n)))?(e?(e=!1,s=t&&pt.isArray(t)?t:[]):s=t&&pt.isPlainObject(t)?t:{},o[i]=pt.extend(u,s,n)):n!==a&&(o[i]=n));return o},pt.extend({noConflict:function(t){return o.$===pt&&(o.$=it),t&&o.jQuery===pt&&(o.jQuery=nt),pt},isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){if(t===!0?!--pt.readyWait:!pt.isReady){if(!tt.body)return s(pt.ready);pt.isReady=!0,t!==!0&&--pt.readyWait>0||(Y.resolveWith(tt,[pt]),pt.fn.trigger&&pt(tt).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?rt[ht.call(t)]||"object":typeof t},isPlainObject:function(t){if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!dt.call(t,"constructor")&&!dt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in t);return n===a||dt.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||tt;var i=bt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=pt.buildFragment([t],e,r),r&&pt(r).remove(),pt.merge([],i.childNodes))},parseJSON:function(t){return o.JSON&&o.JSON.parse?o.JSON.parse(t):null===t?t:"string"==typeof t&&(t=pt.trim(t),t&&wt.test(t.replace(xt,"@").replace(kt,"]").replace(_t,"")))?new Function("return "+t)():void pt.error("Invalid JSON: "+t)},parseXML:function(t){var e,n;if(!t||"string"!=typeof t)return null;try{o.DOMParser?(n=new DOMParser,e=n.parseFromString(t,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t))}catch(i){e=a}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+t),e},noop:function(){},globalEval:function(t){t&&pt.trim(t)&&(o.execScript||function(t){o.eval.call(o,t)})(t)},camelCase:function(t){return t.replace(Tt,"ms-").replace(Et,Ct)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i,r=0,s=t.length,o=l(t);if(n){if(o)for(;s>r&&(i=e.apply(t[r],n),i!==!1);r++);else for(r in t)if(i=e.apply(t[r],n),i===!1)break}else if(o)for(;s>r&&(i=e.call(t[r],r,t[r]),i!==!1);r++);else for(r in t)if(i=e.call(t[r],r,t[r]),i===!1)break;return t},trim:ft&&!ft.call("\ufeffÂ ")?function(t){return null==t?"":ft.call(t)}:function(t){return null==t?"":(t+"").replace(mt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(l(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):lt.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(ut)return ut.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){var n=e.length,i=t.length,r=0;if("number"==typeof n)for(;n>r;r++)t[i++]=e[r];else for(;e[r]!==a;)t[i++]=e[r++];return t.length=i,t},grep:function(t,e,n){var i,r=[],s=0,o=t.length;for(n=!!n;o>s;s++)i=!!e(t[s],s),n!==i&&r.push(t[s]);return r},map:function(t,e,n){var i,r=0,s=t.length,o=l(t),a=[];if(o)for(;s>r;r++)i=e(t[r],r,n),null!=i&&(a[a.length]=i);else for(r in t)i=e(t[r],r,n),null!=i&&(a[a.length]=i);return at.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),pt.isFunction(t)?(n=ct.call(arguments,2),i=function(){return t.apply(e||this,n.concat(ct.call(arguments)))},i.guid=t.guid=t.guid||pt.guid++,i):a},access:function(t,e,n,i,r,s,o){var l=0,c=t.length,u=null==n;if("object"===pt.type(n)){r=!0;for(l in n)pt.access(t,e,l,n[l],!0,s,o)}else if(i!==a&&(r=!0,pt.isFunction(i)||(o=!0),u&&(o?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(pt(t),n)})),e))for(;c>l;l++)e(t[l],n,o?i:i.call(t[l],l,e(t[l],n)));return r?t:u?e.call(t):c?e(t[0],n):s},now:function(){return(new Date).getTime()}}),pt.ready.promise=function(t){if(!Y)if(Y=pt.Deferred(),"complete"===tt.readyState)s(pt.ready);else if(tt.addEventListener)tt.addEventListener("DOMContentLoaded",St,!1),o.addEventListener("load",St,!1);else{tt.attachEvent("onreadystatechange",St),o.attachEvent("onload",St);var e=!1;try{e=null==o.frameElement&&tt.documentElement}catch(n){}e&&e.doScroll&&!function i(){if(!pt.isReady){try{e.doScroll("left")}catch(t){return s(i,50)}At(),pt.ready()}}()}return Y.promise(t)},pt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){rt["[object "+e+"]"]=e.toLowerCase()}),Q=pt(tt);var Lt={};pt.Callbacks=function(t){t="string"==typeof t?Lt[t]||c(t):pt.extend({},t);var e,n,i,r,s,o,l=[],u=!t.once&&[],h=function(a){for(n=t.memory&&a,i=!0,s=o||0,o=0,r=l.length,e=!0;l&&r>s;s++)if(l[s].apply(a[0],a[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,l&&(u?u.length&&h(u.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function s(e){pt.each(e,function(e,n){var i=pt.type(n);"function"===i?t.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),e?r=l.length:n&&(o=i,h(n))}return this},remove:function(){return l&&pt.each(arguments,function(t,n){for(var i;(i=pt.inArray(n,l,i))>-1;)l.splice(i,1),e&&(r>=i&&r--,s>=i&&s--)}),this},has:function(t){return t?pt.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],this},disable:function(){return l=u=n=a,this},disabled:function(){return!l},lock:function(){return u=a,n||d.disable(),this},locked:function(){return!u},fireWith:function(t,n){return n=n||[],n=[t,n.slice?n.slice():n],!l||i&&!u||(e?u.push(n):h(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(n){pt.each(e,function(e,s){var o=s[0],a=pt.isFunction(t[e])&&t[e];r[s[1]](function(){var t=a&&a.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,i):i}},r={};return i.pipe=i.then,pt.each(e,function(t,s){var o=s[2],a=s[3];i[s[1]]=o.add,a&&o.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,s=ct.call(arguments),o=s.length,a=1!==o||t&&pt.isFunction(t.promise)?o:0,l=1===a?t:pt.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?ct.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)s[r]&&pt.isFunction(s[r].promise)?s[r].promise().done(c(r,i,s)).fail(l.reject).progress(c(r,n,e)):--a;return a||l.resolveWith(i,s),l.promise()}}),pt.support=function(){var t,e,n,i,r,s,a,l,c,u,h=tt.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=h.getElementsByTagName("*"),n=h.getElementsByTagName("a")[0],!e||!n||!e.length)return{};r=tt.createElement("select"),a=r.appendChild(tt.createElement("option")),i=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==h.className,leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!i.value,optSelected:a.selected,enctype:!!tt.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==tt.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===tt.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!a.disabled;try{delete h.test}catch(d){t.deleteExpando=!1}i=tt.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),s=tt.createDocumentFragment(),s.appendChild(i),t.appendChecked=i.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})h.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in o||h.attributes[l].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===h.style.backgroundClip,pt(function(){var e,n,i,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=tt.getElementsByTagName("body")[0];s&&(e=tt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(e).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=h.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===h.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,o.getComputedStyle&&(t.pixelPosition="1%"!==(o.getComputedStyle(h,null)||{}).top,t.boxSizingReliable="4px"===(o.getComputedStyle(h,null)||{width:"4px"}).width,n=h.appendChild(tt.createElement("div")),n.style.cssText=h.style.cssText=r,n.style.marginRight=n.style.width="0",h.style.width="1px",t.reliableMarginRight=!parseFloat((o.getComputedStyle(n,null)||{}).marginRight)),typeof h.style.zoom!==Z&&(h.innerHTML="",h.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==h.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(e),e=h=i=n=null)}),e=r=s=a=n=i=null,t}();var Nt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,It=/([A-Z])/g;pt.extend({cache:{},expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando],!!t&&!f(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&pt.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),pt.fn.extend({data:function(t,e){var n,i,r=this[0],s=0,o=null;if(t===a){if(this.length&&(o=pt.data(r),1===r.nodeType&&!pt._data(r,"parsedAttrs"))){for(n=r.attributes;s<n.length;s++)i=n[s].name,i.indexOf("data-")||(i=pt.camelCase(i.slice(5)),d(r,i,o[i]));pt._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){pt.data(this,t)}):pt.access(this,function(e){return e===a?r?d(r,t,pt.data(r,t)):null:void this.each(function(){pt.data(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=pt._data(t,e),n&&(!i||pt.isArray(n)?i=pt._data(t,e,pt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,r=n.shift(),s=pt._queueHooks(t,e),o=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),s.cur=r,r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return pt._data(t,n)||pt._data(t,n,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,n)})})}}),pt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?pt.queue(this[0],t):e===a?this:this.each(function(){var n=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},delay:function(t,e){return t=pt.fx?pt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=s(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=pt.Deferred(),s=this,o=this.length,l=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=a),t=t||"fx";o--;)n=pt._data(s[o],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(l));return l(),r.promise(e)}});var Dt,Mt,qt=/[\t\r\n]/g,Pt=/\r/g,Rt=/^(?:input|select|textarea|button|object)$/i,Ot=/^(?:a|area)$/i,$t=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,jt=/^(?:checked|selected)$/i,Ht=pt.support.getSetAttribute,Ft=pt.support.input;pt.fn.extend({attr:function(t,e){return pt.access(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})},prop:function(t,e){return pt.access(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=a,delete this[t]}catch(e){}})},addClass:function(t){var e,n,i,r,s,o=0,a=this.length,l="string"==typeof t&&t;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(vt)||[];a>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(qt," "):" ")){for(s=0;r=e[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=pt.trim(i)}return this},removeClass:function(t){var e,n,i,r,s,o=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(vt)||[];a>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(qt," "):"")){for(s=0;r=e[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=t?pt.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return pt.isFunction(t)?this.each(function(n){pt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var r,s=0,o=pt(this),a=e,l=t.match(vt)||[];r=l[s++];)a=i?a:!o.hasClass(r),o[a?"addClass":"removeClass"](r);else(n===Z||"boolean"===n)&&(this.className&&pt._data(this,"__className__",this.className),this.className=this.className||t===!1?"":pt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(qt," ").indexOf(e)>=0)return!0;return!1},val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=pt.isFunction(t),this.each(function(e){var r,s=pt(this);1===this.nodeType&&(r=i?t.call(this,e,s.val()):t,null==r?r="":"number"==typeof r?r+="":pt.isArray(r)&&(r=pt.map(r,function(t){return null==t?"":t+""})),n=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,r,"value")!==a||(this.value=r))});if(r)return n=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()],n&&"get"in n&&(e=n.get(r,"value"))!==a?e:(e=r.value,"string"==typeof e?e.replace(Pt,""):null==e?"":e)}}}),pt.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,s="select-one"===t.type||0>r,o=s?null:[],a=s?r+1:i.length,l=0>r?a:s?r:0;a>l;l++)if(n=i[l],(n.selected||l===r)&&(pt.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pt.nodeName(n.parentNode,"optgroup"))){if(e=pt(n).val(),s)return e;o.push(e)}return o},set:function(t,e){var n=pt.makeArray(e);return pt(t).find("option").each(function(){this.selected=pt.inArray(pt(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attr:function(t,e,n){var i,r,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Z?pt.prop(t,e,n):(r=1!==o||!pt.isXMLDoc(t),r&&(e=e.toLowerCase(),i=pt.attrHooks[e]||($t.test(e)?Mt:Dt)),n===a?i&&r&&"get"in i&&null!==(s=i.get(t,e))?s:(typeof t.getAttribute!==Z&&(s=t.getAttribute(e)),null==s?a:s):null!==n?i&&r&&"set"in i&&(s=i.set(t,n,e))!==a?s:(t.setAttribute(e,n+""),n):void pt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,s=e&&e.match(vt);
if(s&&1===t.nodeType)for(;n=s[r++];)i=pt.propFix[n]||n,$t.test(n)?!Ht&&jt.test(n)?t[pt.camelCase("default-"+n)]=t[i]=!1:t[i]=!1:pt.attr(t,n,""),t.removeAttribute(Ht?n:i)},attrHooks:{type:{set:function(t,e){if(!pt.support.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,e,n){var i,r,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return s=1!==o||!pt.isXMLDoc(t),s&&(e=pt.propFix[e]||e,r=pt.propHooks[e]),n!==a?r&&"set"in r&&(i=r.set(t,n,e))!==a?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=t.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):Rt.test(t.nodeName)||Ot.test(t.nodeName)&&t.href?0:a}}}}),Mt={get:function(t,e){var n=pt.prop(t,e),i="boolean"==typeof n&&t.getAttribute(e),r="boolean"==typeof n?Ft&&Ht?null!=i:jt.test(e)?t[pt.camelCase("default-"+e)]:!!i:t.getAttributeNode(e);return r&&r.value!==!1?e.toLowerCase():a},set:function(t,e,n){return e===!1?pt.removeAttr(t,n):Ft&&Ht||!jt.test(n)?t.setAttribute(!Ht&&pt.propFix[n]||n,n):t[pt.camelCase("default-"+n)]=t[n]=!0,n}},Ft&&Ht||(pt.attrHooks.value={get:function(t,e){var n=t.getAttributeNode(e);return pt.nodeName(t,"input")?t.defaultValue:n&&n.specified?n.value:a},set:function(t,e,n){return pt.nodeName(t,"input")?void(t.defaultValue=e):Dt&&Dt.set(t,e,n)}}),Ht||(Dt=pt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&("id"===e||"name"===e||"coords"===e?""!==n.value:n.specified)?n.value:a},set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:a}},pt.attrHooks.contenteditable={get:Dt.get,set:function(t,e,n){Dt.set(t,""===e?!1:e,n)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]=pt.extend(pt.attrHooks[e],{set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}})})),pt.support.hrefNormalized||(pt.each(["href","src","width","height"],function(t,e){pt.attrHooks[e]=pt.extend(pt.attrHooks[e],{get:function(t){var n=t.getAttribute(e,2);return null==n?a:n}})}),pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),pt.support.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||a},set:function(t,e){return t.style.cssText=e+""}}),pt.support.optSelected||(pt.propHooks.selected=pt.extend(pt.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),pt.support.enctype||(pt.propFix.enctype="encoding"),pt.support.checkOn||pt.each(["radio","checkbox"],function(){pt.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]=pt.extend(pt.valHooks[this],{set:function(t,e){return pt.isArray(e)?t.checked=pt.inArray(pt(t).val(),e)>=0:void 0}})});var Bt=/^(?:input|select|textarea)$/i,Ut=/^key/,zt=/^(?:mouse|contextmenu)|click/,Wt=/^(?:focusinfocus|focusoutblur)$/,Vt=/^([^.]*)(?:\.(.+)|)$/;pt.event={global:{},add:function(t,e,n,i,r){var s,o,l,c,u,h,d,f,p,g,v,m=pt._data(t);if(m){for(n.handler&&(c=n,n=c.handler,r=c.selector),n.guid||(n.guid=pt.guid++),(o=m.events)||(o=m.events={}),(h=m.handle)||(h=m.handle=function(t){return typeof pt===Z||t&&pt.event.triggered===t.type?a:pt.event.dispatch.apply(h.elem,arguments)},h.elem=t),e=(e||"").match(vt)||[""],l=e.length;l--;)s=Vt.exec(e[l])||[],p=v=s[1],g=(s[2]||"").split(".").sort(),u=pt.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=pt.event.special[p]||{},d=pt.extend({type:p,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:g.join(".")},c),(f=o[p])||(f=o[p]=[],f.delegateCount=0,u.setup&&u.setup.call(t,i,g,h)!==!1||(t.addEventListener?t.addEventListener(p,h,!1):t.attachEvent&&t.attachEvent("on"+p,h))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),pt.event.global[p]=!0;t=null}},remove:function(t,e,n,i,r){var s,o,a,l,c,u,h,d,f,p,g,v=pt.hasData(t)&&pt._data(t);if(v&&(u=v.events)){for(e=(e||"").match(vt)||[""],c=e.length;c--;)if(a=Vt.exec(e[c])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=pt.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=d.length;s--;)o=d[s],!r&&g!==o.origType||n&&n.guid!==o.guid||a&&!a.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(d.splice(s,1),o.selector&&d.delegateCount--,h.remove&&h.remove.call(t,o));l&&!d.length&&(h.teardown&&h.teardown.call(t,p,v.handle)!==!1||pt.removeEvent(t,f,v.handle),delete u[f])}else for(f in u)pt.event.remove(t,f+e[c],n,i,!0);pt.isEmptyObject(u)&&(delete v.handle,pt._removeData(t,"events"))}},trigger:function(t,e,n,i){var r,s,l,c,u,h,d,f=[n||tt],p=dt.call(t,"type")?t.type:t,g=dt.call(t,"namespace")?t.namespace.split("."):[];if(l=h=n=n||tt,3!==n.nodeType&&8!==n.nodeType&&!Wt.test(p+pt.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[pt.expando]?t:new pt.Event(p,"object"==typeof t&&t),t.isTrigger=!0,t.namespace=g.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=a,t.target||(t.target=n),e=null==e?[t]:pt.makeArray(e,[t]),u=pt.event.special[p]||{},i||!u.trigger||u.trigger.apply(n,e)!==!1)){if(!i&&!u.noBubble&&!pt.isWindow(n)){for(c=u.delegateType||p,Wt.test(c+p)||(l=l.parentNode);l;l=l.parentNode)f.push(l),h=l;h===(n.ownerDocument||tt)&&f.push(h.defaultView||h.parentWindow||o)}for(d=0;(l=f[d++])&&!t.isPropagationStopped();)t.type=d>1?c:u.bindType||p,r=(pt._data(l,"events")||{})[t.type]&&pt._data(l,"handle"),r&&r.apply(l,e),r=s&&l[s],r&&pt.acceptData(l)&&r.apply&&r.apply(l,e)===!1&&t.preventDefault();if(t.type=p,!i&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(n.ownerDocument,e)===!1)&&("click"!==p||!pt.nodeName(n,"a"))&&pt.acceptData(n)&&s&&n[p]&&!pt.isWindow(n)){h=n[s],h&&(n[s]=null),pt.event.triggered=p;try{n[p]()}catch(v){}pt.event.triggered=a,h&&(n[s]=h)}return t.result}},dispatch:function(t){t=pt.event.fix(t);var e,n,i,r,s,o=[],l=ct.call(arguments),c=(pt._data(this,"events")||{})[t.type]||[],u=pt.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(o=pt.event.handlers.call(this,t,c),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,s=0;(i=r.handlers[s++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,n=((pt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,l),n!==a&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,s,o=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(r=[],s=0;l>s;s++)i=e[s],n=i.selector+" ",r[n]===a&&(r[n]=i.needsContext?pt(n,this).index(c)>=0:pt.find(n,this,null,[c]).length),r[n]&&r.push(i);r.length&&o.push({elem:c,handlers:r})}return l<e.length&&o.push({elem:this,handlers:e.slice(l)}),o},fix:function(t){if(t[pt.expando])return t;var e,n,i,r=t.type,s=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=zt.test(r)?this.mouseHooks:Ut.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new pt.Event(s),e=i.length;e--;)n=i[e],t[n]=s[n];return t.target||(t.target=s.srcElement||tt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,s):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,s=e.button,o=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||tt,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?e.toElement:o),t.which||s===a||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},click:{trigger:function(){return pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==tt.activeElement&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===tt.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(t){t.result!==a&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=pt.extend(new pt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?pt.event.trigger(r,null,e):pt.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},pt.removeEvent=tt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Z&&(t[i]=null),t.detachEvent(i,n))},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?p:g):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p,this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,s=t.handleObj;return(!r||r!==i&&!pt.contains(i,r))&&(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),pt.support.submitBubbles||(pt.event.special.submit={setup:function(){return pt.nodeName(this,"form")?!1:void pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=pt.nodeName(e,"input")||pt.nodeName(e,"button")?e.form:a;n&&!pt._data(n,"submitBubbles")&&(pt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),pt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return pt.nodeName(this,"form")?!1:void pt.event.remove(this,"._submit")}}),pt.support.changeBubbles||(pt.event.special.change={setup:function(){return Bt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),pt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),pt.event.simulate("change",this,t,!0)})),!1):void pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Bt.test(e.nodeName)&&!pt._data(e,"changeBubbles")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t,!0)}),pt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pt.event.remove(this,"._change"),!Bt.test(this.nodeName)}}),pt.support.focusinBubbles||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t),!0)};pt.event.special[e]={setup:function(){0===n++&&tt.addEventListener(t,i,!0)},teardown:function(){0===--n&&tt.removeEventListener(t,i,!0)}}}),pt.fn.extend({on:function(t,e,n,i,r){var s,o;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=a);for(s in t)this.on(s,e,n,t[s],r);return this}if(null==n&&null==i?(i=e,n=e=a):null==i&&("string"==typeof e?(i=n,n=a):(i=n,n=e,e=a)),i===!1)i=g;else if(!i)return this;return 1===r&&(o=i,i=function(t){return pt().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=pt.guid++)),this.each(function(){pt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=a),n===!1&&(n=g),this.each(function(){pt.event.remove(this,t,n,e)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?pt.event.trigger(t,e,n,!0):void 0}}),function(t,e){function n(t){return ft.test(t+"")}function i(){var t,e=[];return t=function(n,i){return e.push(n+=" ")>T.cacheLength&&delete t[e.shift()],t[n]=i}}function r(t){return t[j]=!0,t}function s(t){var e=I.createElement("div");try{return t(e)}catch(n){return!1}finally{e=null}}function o(t,e,n,i){var r,s,o,a,l,c,u,f,p,g;if((e?e.ownerDocument||e:H)!==I&&N(e),e=e||I,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(!M&&!i){if(r=gt.exec(t))if(o=r[1]){if(9===a){if(s=e.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(o))&&O(e,s)&&s.id===o)return n.push(s),n}else{if(r[2])return Y.apply(n,Q.call(e.getElementsByTagName(t),0)),n;if((o=r[3])&&F.getByClassName&&e.getElementsByClassName)return Y.apply(n,Q.call(e.getElementsByClassName(o),0)),n}if(F.qsa&&!q.test(t)){if(u=!0,f=j,p=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=h(t),(u=e.getAttribute("id"))?f=u.replace(yt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+d(c[l]);p=dt.test(t)&&e.parentNode||e,g=c.join(",")}if(g)try{return Y.apply(n,Q.call(p.querySelectorAll(g),0)),n}catch(v){}finally{u||e.removeAttribute("id")}}}return w(t.replace(ot,"$1"),e,n,i)}function a(t,e){var n=e&&t,i=n&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,i){for(var r,s=t([],n.length,e),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))})})}function h(t,e){var n,i,r,s,a,l,c,u=W[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=T.preFilter;a;){(!n||(i=at.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),n=!1,(i=lt.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ot," ")}),a=a.slice(n.length));for(s in T.filter)!(i=ht[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),r.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?o.error(t):W(t,l).slice(0)}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,s=U++;return e.first?function(e,n,s){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,s)}:function(e,n,o){var a,l,c,u=B+" "+s;if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(c=e[j]||(e[j]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===k)return a===!0}else if(l=c[i]=[u],l[1]=t(e,n,o)||k,l[1]===!0)return!0}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,e,n,i,r){for(var s,o=[],a=0,l=t.length,c=null!=e;l>a;a++)(s=t[a])&&(!n||n(s,i,r))&&(o.push(s),c&&e.push(a));return o}function v(t,e,n,i,s,o){return i&&!i[j]&&(i=v(i)),s&&!s[j]&&(s=v(s,o)),r(function(r,o,a,l){var c,u,h,d=[],f=[],p=o.length,v=r||b(e||"*",a.nodeType?[a]:a,[]),m=!t||!r&&e?v:g(v,d,t,a,l),y=n?s||(r?t:p||i)?[]:o:m;if(n&&n(m,y,a,l),i)for(c=g(y,f),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[f[u]]=!(m[f[u]]=h));if(r){if(s||t){if(s){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(m[u]=h);s(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=s?Z.call(r,h):d[u])>-1&&(r[c]=!(o[c]=h))}}else y=g(y===o?y.splice(p,y.length):y),s?s(null,o,y,l):Y.apply(o,y)})}function m(t){for(var e,n,i,r=t.length,s=T.relative[t[0].type],o=s||T.relative[" "],a=s?1:0,l=f(function(t){return t===e},o,!0),c=f(function(t){return Z.call(e,t)>-1},o,!0),u=[function(t,n,i){return!s&&(i||n!==L)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];r>a;a++)if(n=T.relative[t[a].type])u=[f(p(u),n)];else{if(n=T.filter[t[a].type].apply(null,t[a].matches),n[j]){for(i=++a;r>i&&!T.relative[t[i].type];i++);return v(a>1&&p(u),a>1&&d(t.slice(0,a-1)).replace(ot,"$1"),n,i>a&&m(t.slice(a,i)),r>i&&m(t=t.slice(i)),r>i&&d(t))}u.push(n)}return p(u)}function y(t,e){var n=0,i=e.length>0,s=t.length>0,a=function(r,a,l,c,u){var h,d,f,p=[],v=0,m="0",y=r&&[],b=null!=u,w=L,_=r||s&&T.find.TAG("*",u&&a.parentNode||a),x=B+=null==w?1:Math.random()||.1;for(b&&(L=a!==I&&a,k=n);null!=(h=_[m]);m++){if(s&&h){for(d=0;f=t[d++];)if(f(h,a,l)){c.push(h);break}b&&(B=x,k=++n)}i&&((h=!f&&h)&&v--,r&&y.push(h))}if(v+=m,i&&m!==v){for(d=0;f=e[d++];)f(y,p,a,l);if(r){if(v>0)for(;m--;)y[m]||p[m]||(p[m]=G.call(c));p=g(p)}Y.apply(c,p),b&&!r&&p.length>0&&v+e.length>1&&o.uniqueSort(c)}return b&&(B=x,L=w),y};return i?r(a):a}function b(t,e,n){for(var i=0,r=e.length;r>i;i++)o(t,e[i],n);return n}function w(t,e,n,i){var r,s,o,a,l,c=h(t);if(!i&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&9===e.nodeType&&!M&&T.relative[s[1].type]){if(e=T.find.ID(o.matches[0].replace(wt,_t),e)[0],!e)return n;t=t.slice(s.shift().value.length)}for(r=ht.needsContext.test(t)?0:s.length;r--&&(o=s[r],!T.relative[a=o.type]);)if((l=T.find[a])&&(i=l(o.matches[0].replace(wt,_t),dt.test(s[0].type)&&e.parentNode||e))){if(s.splice(r,1),t=i.length&&d(s),!t)return Y.apply(n,Q.call(i,0)),n;break}}return S(t,c)(i,e,M,n,dt.test(t)),n}function _(){}var x,k,T,E,C,S,A,L,N,I,D,M,q,P,R,O,$,j="sizzle"+-new Date,H=t.document,F={},B=0,U=0,z=i(),W=i(),V=i(),J=typeof e,X=1<<31,K=[],G=K.pop,Y=K.push,Q=K.slice,Z=K.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=et.replace("w","w#"),it="([*^$|!~]?=)",rt="\\["+tt+"*("+et+")"+tt+"*(?:"+it+tt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+tt+"*\\]",st=":("+et+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),lt=new RegExp("^"+tt+"*([\\x20\\t\\r\\n\\f>+~])"+tt+"*"),ct=new RegExp(st),ut=new RegExp("^"+nt+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),NAME:new RegExp("^\\[name=['\"]?("+et+")['\"]?\\]"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/[\x20\t\r\n\f]*[+~]/,ft=/^[^{]+\{\s*\[native code/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,wt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,_t=function(t,e){var n="0x"+e-65536;return n!==n?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Q.call(H.documentElement.childNodes,0)[0].nodeType}catch(xt){Q=function(t){for(var e,n=[];e=this[t++];)n.push(e);return n}}C=o.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},N=o.setDocument=function(t){var i=t?t.ownerDocument||t:H;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,D=i.documentElement,M=C(i),F.tagNameNoComments=s(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),F.attributes=s(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),F.getByClassName=s(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),F.getByName=s(function(t){t.id=j+0,t.innerHTML="<a name='"+j+"'></a><div name='"+j+"'></div>",D.insertBefore(t,D.firstChild);var e=i.getElementsByName&&i.getElementsByName(j).length===2+i.getElementsByName(j+0).length;return F.getIdNotName=!i.getElementById(j),D.removeChild(t),e}),T.attrHandle=s(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==J&&"#"===t.firstChild.getAttribute("href")})?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},F.getIdNotName?(T.find.ID=function(t,e){if(typeof e.getElementById!==J&&!M){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(T.find.ID=function(t,n){if(typeof n.getElementById!==J&&!M){var i=n.getElementById(t);return i?i.id===t||typeof i.getAttributeNode!==J&&i.getAttributeNode("id").value===t?[i]:e:[]}},T.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var n=typeof t.getAttributeNode!==J&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=F.tagNameNoComments?function(t,e){return typeof e.getElementsByTagName!==J?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},T.find.NAME=F.getByName&&function(t,e){return typeof e.getElementsByName!==J?e.getElementsByName(name):void 0},T.find.CLASS=F.getByClassName&&function(t,e){return typeof e.getElementsByClassName===J||M?void 0:e.getElementsByClassName(t)},P=[],q=[":focus"],(F.qsa=n(i.querySelectorAll))&&(s(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||q.push("\\["+tt+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||q.push(":checked")}),s(function(t){t.innerHTML="<input type='hidden' i=''/>",t.querySelectorAll("[i^='']").length&&q.push("[*^$]="+tt+"*(?:\"\"|'')"),t.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),q.push(",.*:")})),(F.matchesSelector=n(R=D.matchesSelector||D.mozMatchesSelector||D.webkitMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&s(function(t){F.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),P.push("!=",st)}),q=new RegExp(q.join("|")),P=new RegExp(P.join("|")),O=n(D.contains)||D.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=D.compareDocumentPosition?function(t,e){var n;return t===e?(A=!0,0):(n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e))?1&n||t.parentNode&&11===t.parentNode.nodeType?t===i||O(H,t)?-1:e===i||O(H,e)?1:0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,r=0,s=t.parentNode,o=e.parentNode,l=[t],c=[e];if(t===e)return A=!0,0;if(!s||!o)return t===i?-1:e===i?1:s?-1:o?1:0;if(s===o)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===H?-1:c[r]===H?1:0},A=!1,[0,0].sort($),F.detectDuplicates=A,I):I},o.matches=function(t,e){return o(t,null,null,e)},o.matchesSelector=function(t,e){if((t.ownerDocument||t)!==I&&N(t),e=e.replace(bt,"='$1']"),F.matchesSelector&&!M&&(!P||!P.test(e))&&!q.test(e))try{var n=R.call(t,e);if(n||F.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(i){}return o(e,I,null,[t]).length>0},o.contains=function(t,e){return(t.ownerDocument||t)!==I&&N(t),O(t,e)},o.attr=function(t,e){var n;return(t.ownerDocument||t)!==I&&N(t),M||(e=e.toLowerCase()),(n=T.attrHandle[e])?n(t):M||F.attributes?t.getAttribute(e):((n=t.getAttributeNode(e))||t.getAttribute(e))&&t[e]===!0?e:n&&n.specified?n.value:null},o.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},o.uniqueSort=function(t){var e,n=[],i=1,r=0;if(A=!F.detectDuplicates,t.sort($),A){for(;e=t[i];i++)e===t[i-1]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return t},E=o.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=E(e);return n},T=o.selectors={cacheLength:50,createPseudo:r,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||o.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&o.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return ht.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:n&&ct.test(n)&&(e=h(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(wt,_t).toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&z(t,function(t){return e.test(t.className||typeof t.getAttribute!==J&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=o.attr(i,t);return null==r?"!="===e:e?(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p,g=s!==o?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(v){if(s){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?v.firstChild:v.lastChild],o&&y){for(u=v[j]||(v[j]={}),c=u[t]||[],f=c[0]===B&&c[1],d=c[0]===B&&c[2],h=f&&v.childNodes[f];h=++f&&h&&h[g]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[B,f,d];break}}else if(y&&(c=(e[j]||(e[j]={}))[t])&&c[0]===B)d=c[1];else for(;(h=++f&&h&&h[g]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++d||(y&&((h[j]||(h[j]={}))[t]=[B,d]),h!==e)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,e){var n,i=T.pseudos[t]||T.setFilters[t.toLowerCase()]||o.error("unsupported pseudo: "+t);return i[j]?i(e):i.length>1?(n=[t,t,"",e],T.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,n){for(var r,s=i(t,e),o=s.length;o--;)r=Z.call(t,s[o]),t[r]=!(n[r]=s[o])}):function(t){return i(t,0,n)}):i}},pseudos:{not:r(function(t){var e=[],n=[],i=S(t.replace(ot,"$1"));return i[j]?r(function(t,e,n,r){for(var s,o=i(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,r,s){return e[0]=t,i(e,null,s,n),!n.pop()}}),has:r(function(t){return function(e){return o(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:r(function(t){return ut.test(t||"")||o.error("unsupported lang: "+t),t=t.replace(wt,_t).toLowerCase(),function(e){var n;do if(n=M?e.getAttribute("xml:lang")||e.getAttribute("lang"):e.lang)return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return vt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=c(x);S=o.compile=function(t,e){var n,i=[],r=[],s=V[t+" "];if(!s){for(e||(e=h(t)),n=e.length;n--;)s=m(e[n]),s[j]?i.push(s):r.push(s);s=V(t,y(r,i))}return s},T.pseudos.nth=T.pseudos.eq,T.filters=_.prototype=T.pseudos,T.setFilters=new _,N(),o.attr=pt.attr,pt.find=o,pt.expr=o.selectors,pt.expr[":"]=pt.expr.pseudos,pt.unique=o.uniqueSort,pt.text=o.getText,pt.isXMLDoc=o.isXML,pt.contains=o.contains}(o);var Jt=/Until$/,Xt=/^(?:parents|prev(?:Until|All))/,Kt=/^.[^:#\[\.,]*$/,Gt=pt.expr.match.needsContext,Yt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({find:function(t){var e,n,i,r=this.length;if("string"!=typeof t)return i=this,this.pushStack(pt(t).filter(function(){for(e=0;r>e;e++)if(pt.contains(i[e],this))return!0}));for(n=[],e=0;r>e;e++)pt.find(t,this[e],n);return n=this.pushStack(r>1?pt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+t,n},has:function(t){var e,n=pt(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(pt.contains(this,n[e]))return!0;
})},not:function(t){return this.pushStack(m(this,t,!1))},filter:function(t){return this.pushStack(m(this,t,!0))},is:function(t){return!!t&&("string"==typeof t?Gt.test(t)?pt(t,this.context).index(this[0])>=0:pt.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,i=0,r=this.length,s=[],o=Gt.test(t)||"string"!=typeof t?pt(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==e&&11!==n.nodeType;){if(o?o.index(n)>-1:pt.find.matchesSelector(n,t)){s.push(n);break}n=n.parentNode}return this.pushStack(s.length>1?pt.unique(s):s)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?pt(t,e):pt.makeArray(t&&t.nodeType?[t]:t),i=pt.merge(this.get(),n);return this.pushStack(pt.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.fn.andSelf=pt.fn.addBack,pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return pt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return pt.dir(t,"parentNode",n)},next:function(t){return v(t,"nextSibling")},prev:function(t){return v(t,"previousSibling")},nextAll:function(t){return pt.dir(t,"nextSibling")},prevAll:function(t){return pt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return pt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return pt.dir(t,"previousSibling",n)},siblings:function(t){return pt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return pt.sibling(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(n,i){var r=pt.map(this,e,n);return Jt.test(t)||(i=n),i&&"string"==typeof i&&(r=pt.filter(i,r)),r=this.length>1&&!Yt[t]?pt.unique(r):r,this.length>1&&Xt.test(t)&&(r=r.reverse()),this.pushStack(r)}}),pt.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?pt.find.matchesSelector(e[0],t)?[e[0]]:[]:pt.find.matches(t,e)},dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(n===a||1!==r.nodeType||!pt(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Zt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+Qt+")[\\s/>]","i"),ee=/^\s+/,ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ie=/<([\w:]+)/,re=/<tbody/i,se=/<|&#?\w+;/,oe=/<(?:script|style|link)/i,ae=/^(?:checkbox|radio)$/i,le=/checked\s*(?:[^=]|=\s*.checked.)/i,ce=/^$|\/(?:java|ecma)script/i,ue=/^true\/(.*)/,he=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,de={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:pt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},fe=y(tt),pe=fe.appendChild(tt.createElement("div"));de.optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td,pt.fn.extend({text:function(t){return pt.access(this,function(t){return t===a?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||tt).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(n){pt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=0;null!=(n=this[i]);i++)(!t||pt.filter(t,[n]).length>0)&&(e||1!==n.nodeType||pt.cleanData(E(n)),n.parentNode&&(e&&pt.contains(n.ownerDocument,n)&&x(E(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(E(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return pt.access(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===a)return 1===e.nodeType?e.innerHTML.replace(Zt,""):a;if("string"==typeof t&&!oe.test(t)&&(pt.support.htmlSerialize||!te.test(t))&&(pt.support.leadingWhitespace||!ee.test(t))&&!de[(ie.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(ne,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(pt.cleanData(E(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){var e=pt.isFunction(t);return e||"string"==typeof t||(t=pt(t).not(this).detach()),this.domManip([t],!0,function(t){var e=this.nextSibling,n=this.parentNode;n&&(pt(this).remove(),n.insertBefore(t,e))})},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=at.apply([],t);var i,r,s,o,l,c,u=0,h=this.length,d=this,f=h-1,p=t[0],g=pt.isFunction(p);if(g||!(1>=h||"string"!=typeof p||pt.support.checkClone)&&le.test(p))return this.each(function(i){var r=d.eq(i);g&&(t[0]=p.call(this,i,e?r.html():a)),r.domManip(t,e,n)});if(h&&(c=pt.buildFragment(t,this[0].ownerDocument,!1,this),i=c.firstChild,1===c.childNodes.length&&(c=i),i)){for(e=e&&pt.nodeName(i,"tr"),o=pt.map(E(c,"script"),w),s=o.length;h>u;u++)r=c,u!==f&&(r=pt.clone(r,!0,!0),s&&pt.merge(o,E(r,"script"))),n.call(e&&pt.nodeName(this[u],"table")?b(this[u],"tbody"):this[u],r,u);if(s)for(l=o[o.length-1].ownerDocument,pt.map(o,_),u=0;s>u;u++)r=o[u],ce.test(r.type||"")&&!pt._data(r,"globalEval")&&pt.contains(l,r)&&(r.src?pt.ajax({url:r.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):pt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(he,"")));c=i=null}return this}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var n,i=0,r=[],s=pt(t),o=s.length-1;o>=i;i++)n=i===o?this:this.clone(!0),pt(s[i])[e](n),lt.apply(r,n.get());return this.pushStack(r)}}),pt.extend({clone:function(t,e,n){var i,r,s,o,a,l=pt.contains(t.ownerDocument,t);if(pt.support.html5Clone||pt.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(pe.innerHTML=t.outerHTML,pe.removeChild(s=pe.firstChild)),!(pt.support.noCloneEvent&&pt.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(i=E(s),a=E(t),o=0;null!=(r=a[o]);++o)i[o]&&T(r,i[o]);if(e)if(n)for(a=a||E(t),i=i||E(s),o=0;null!=(r=a[o]);o++)k(r,i[o]);else k(t,s);return i=E(s,"script"),i.length>0&&x(i,!l&&E(t,"script")),i=a=r=null,s},buildFragment:function(t,e,n,i){for(var r,s,o,a,l,c,u,h=t.length,d=y(e),f=[],p=0;h>p;p++)if(s=t[p],s||0===s)if("object"===pt.type(s))pt.merge(f,s.nodeType?[s]:s);else if(se.test(s)){for(a=a||d.appendChild(e.createElement("div")),l=(ie.exec(s)||["",""])[1].toLowerCase(),u=de[l]||de._default,a.innerHTML=u[1]+s.replace(ne,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!pt.support.leadingWhitespace&&ee.test(s)&&f.push(e.createTextNode(ee.exec(s)[0])),!pt.support.tbody)for(s="table"!==l||re.test(s)?"<table>"!==u[1]||re.test(s)?0:a:a.firstChild,r=s&&s.childNodes.length;r--;)pt.nodeName(c=s.childNodes[r],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(pt.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(e.createTextNode(s));for(a&&d.removeChild(a),pt.support.appendChecked||pt.grep(E(f,"input"),C),p=0;s=f[p++];)if((!i||-1===pt.inArray(s,i))&&(o=pt.contains(s.ownerDocument,s),a=E(d.appendChild(s),"script"),o&&x(a),n))for(r=0;s=a[r++];)ce.test(s.type||"")&&n.push(s);return a=null,d},cleanData:function(t,e){for(var n,i,r,s,o=0,a=pt.expando,l=pt.cache,c=pt.support.deleteExpando,u=pt.event.special;null!=(n=t[o]);o++)if((e||pt.acceptData(n))&&(r=n[a],s=r&&l[r])){if(s.events)for(i in s.events)u[i]?pt.event.remove(n,i):pt.removeEvent(n,i,s.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==Z?n.removeAttribute(a):n[a]=null,st.push(r))}}});var ge,ve,me,ye=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/,we=/^(top|right|bottom|left)$/,_e=/^(none|table(?!-c[ea]).+)/,xe=/^margin/,ke=new RegExp("^("+gt+")(.*)$","i"),Te=new RegExp("^("+gt+")(?!px)[a-z%]+$","i"),Ee=new RegExp("^([+-])=("+gt+")","i"),Ce={BODY:"block"},Se={position:"absolute",visibility:"hidden",display:"block"},Ae={letterSpacing:0,fontWeight:400},Le=["Top","Right","Bottom","Left"],Ne=["Webkit","O","Moz","ms"];pt.fn.extend({css:function(t,e){return pt.access(this,function(t,e,n){var i,r,s={},o=0;if(pt.isArray(e)){for(r=ve(t),i=e.length;i>o;o++)s[e[o]]=pt.css(t,e[o],!1,r);return s}return n!==a?pt.style(t,e,n):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:A(this))?pt(this).show():pt(this).hide()})}}),pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=me(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":pt.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,l=pt.camelCase(e),c=t.style;if(e=pt.cssProps[l]||(pt.cssProps[l]=S(c,l)),o=pt.cssHooks[e]||pt.cssHooks[l],n===a)return o&&"get"in o&&(r=o.get(t,!1,i))!==a?r:c[e];if(s=typeof n,"string"===s&&(r=Ee.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(pt.css(t,e)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||pt.cssNumber[l]||(n+="px"),pt.support.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&(n=o.set(t,n,i))===a)))try{c[e]=n}catch(u){}}},css:function(t,e,n,i){var r,s,o,l=pt.camelCase(e);return e=pt.cssProps[l]||(pt.cssProps[l]=S(t.style,l)),o=pt.cssHooks[e]||pt.cssHooks[l],o&&"get"in o&&(s=o.get(t,!0,n)),s===a&&(s=me(t,e,i)),"normal"===s&&e in Ae&&(s=Ae[e]),""===n||n?(r=parseFloat(s),n===!0||pt.isNumeric(r)?r||0:s):s},swap:function(t,e,n,i){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=n.apply(t,i||[]);for(s in e)t.style[s]=o[s];return r}}),o.getComputedStyle?(ve=function(t){return o.getComputedStyle(t,null)},me=function(t,e,n){var i,r,s,o=n||ve(t),l=o?o.getPropertyValue(e)||o[e]:a,c=t.style;return o&&(""!==l||pt.contains(t.ownerDocument,t)||(l=pt.style(t,e)),Te.test(l)&&xe.test(e)&&(i=c.width,r=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=o.width,c.width=i,c.minWidth=r,c.maxWidth=s)),l}):tt.documentElement.currentStyle&&(ve=function(t){return t.currentStyle},me=function(t,e,n){var i,r,s,o=n||ve(t),l=o?o[e]:a,c=t.style;return null==l&&c&&c[e]&&(l=c[e]),Te.test(l)&&!we.test(e)&&(i=c.left,r=t.runtimeStyle,s=r&&r.left,s&&(r.left=t.currentStyle.left),c.left="fontSize"===e?"1em":l,l=c.pixelLeft+"px",c.left=i,s&&(r.left=s)),""===l?"auto":l}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&_e.test(pt.css(t,"display"))?pt.swap(t,Se,function(){return D(t,e,i)}):D(t,e,i):void 0},set:function(t,n,i){var r=i&&ve(t);return N(t,n,i?I(t,e,i,pt.support.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,r),r):0)}}}),pt.support.opacity||(pt.cssHooks.opacity={get:function(t,e){return be.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===pt.trim(s.replace(ye,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ye.test(s)?s.replace(ye,r):s+" "+r)}}),pt(function(){pt.support.reliableMarginRight||(pt.cssHooks.marginRight={get:function(t,e){return e?pt.swap(t,{display:"inline-block"},me,[t,"marginRight"]):void 0}}),!pt.support.pixelPosition&&pt.fn.position&&pt.each(["top","left"],function(t,e){pt.cssHooks[e]={get:function(t,n){return n?(n=me(t,e),Te.test(n)?pt(t).position()[e]+"px":n):void 0}}})}),pt.expr&&pt.expr.filters&&(pt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!pt.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||pt.css(t,"display"))},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Le[i]+e]=s[i]||s[i-2]||s[0];return r}},xe.test(t)||(pt.cssHooks[t+e].set=N)});var Ie=/%20/g,De=/\[\]$/,Me=/\r?\n/g,qe=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&Pe.test(this.nodeName)&&!qe.test(t)&&(this.checked||!ae.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:pt.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:n.replace(Me,"\r\n")}}).get()}}),pt.param=function(t,e){var n,i=[],r=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===a&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(n in t)P(n,t[n],e,r);return i.join("&").replace(Ie,"+")},pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),pt.fn.hover=function(t,e){return this.mouseenter(t).mouseleave(e||t)};var Re,Oe,$e=pt.now(),je=/\?/,He=/#.*$/,Fe=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ue=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ze=/^(?:GET|HEAD)$/,We=/^\/\//,Ve=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Je=pt.fn.load,Xe={},Ke={},Ge="*/".concat("*");try{Oe=et.href}catch(Ye){Oe=tt.createElement("a"),Oe.href="",Oe=Oe.href}Re=Ve.exec(Oe.toLowerCase())||[],pt.fn.load=function(t,e,n){if("string"!=typeof t&&Je)return Je.apply(this,arguments);var i,r,s,o=this,l=t.indexOf(" ");return l>=0&&(i=t.slice(l,t.length),t=t.slice(0,l)),pt.isFunction(e)?(n=e,e=a):e&&"object"==typeof e&&(s="POST"),o.length>0&&pt.ajax({url:t,type:s,dataType:"html",data:e}).done(function(t){r=arguments,o.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){o.each(n,r||[t.responseText,e,t])}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,n,i,r){return pt.isFunction(n)&&(r=r||i,i=n,n=a),pt.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oe,type:"GET",isLocal:Ue.test(Re[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":o.String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,pt.ajaxSettings),e):$(pt.ajaxSettings,t)},ajaxPrefilter:R(Xe),ajaxTransport:R(Ke),ajax:function(t,e){function n(t,e,n,i){var r,s,d,b,w,x=e;2!==_&&(_=2,c&&clearTimeout(c),h=a,l=i||"",k.readyState=t>0?4:0,n&&(b=j(f,k,n)),t>=200&&300>t||304===t?(f.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(pt.lastModified[o]=w),w=k.getResponseHeader("etag"),w&&(pt.etag[o]=w)),204===t?(r=!0,x="nocontent"):304===t?(r=!0,x="notmodified"):(r=H(f,b),x=r.state,s=r.data,d=r.error,r=!d)):(d=x,(t||!x)&&(x="error",0>t&&(t=0))),k.status=t,k.statusText=(e||x)+"",r?v.resolveWith(p,[s,x,k]):v.rejectWith(p,[k,x,d]),k.statusCode(y),y=a,u&&g.trigger(r?"ajaxSuccess":"ajaxError",[k,f,r?s:d]),m.fireWith(p,[k,x]),u&&(g.trigger("ajaxComplete",[k,f]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=a),e=e||{};var i,r,o,l,c,u,h,d,f=pt.ajaxSetup({},e),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?pt(p):pt.event,v=pt.Deferred(),m=pt.Callbacks("once memory"),y=f.statusCode||{},b={},w={},_=0,x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!d)for(d={};e=Be.exec(l);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?l:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=w[n]=w[n]||t,b[t]=e),this},overrideMimeType:function(t){return _||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)y[e]=[y[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||x;return h&&h.abort(e),n(0,e),this}};if(v.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,f.url=((t||f.url||Oe)+"").replace(He,"").replace(We,Re[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=pt.trim(f.dataType||"*").toLowerCase().match(vt)||[""],null==f.crossDomain&&(i=Ve.exec(f.url.toLowerCase()),f.crossDomain=!(!i||i[1]===Re[1]&&i[2]===Re[2]&&(i[3]||("http:"===i[1]?80:443))==(Re[3]||("http:"===Re[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=pt.param(f.data,f.traditional)),O(Xe,f,e,k),2===_)return k;u=f.global,u&&0===pt.active++&&pt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!ze.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(je.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Fe.test(o)?o.replace(Fe,"$1_="+$e++):o+(je.test(o)?"&":"?")+"_="+$e++)),f.ifModified&&(pt.lastModified[o]&&k.setRequestHeader("If-Modified-Since",pt.lastModified[o]),pt.etag[o]&&k.setRequestHeader("If-None-Match",pt.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ge+"; q=0.01":""):f.accepts["*"]);for(r in f.headers)k.setRequestHeader(r,f.headers[r]);if(f.beforeSend&&(f.beforeSend.call(p,k,f)===!1||2===_))return k.abort();x="abort";for(r in{success:1,error:1,complete:1})k[r](f[r]);if(h=O(Ke,f,e,k)){k.readyState=1,u&&g.trigger("ajaxSend",[k,f]),f.async&&f.timeout>0&&(c=s(function(){k.abort("timeout")},f.timeout));try{_=1,h.send(b,n)}catch(T){if(!(2>_))throw T;n(-1,T)}}else n(-1,"No Transport");return k},getScript:function(t,e){return pt.get(t,a,e,"script")},getJSON:function(t,e,n){return pt.get(t,e,n,"json")}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){t.cache===a&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=tt.head||pt("head")[0]||tt.documentElement;return{send:function(i,r){e=tt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(a,!0)}}}});var Qe=[],Ze=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qe.pop()||pt.expando+"_"+$e++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,s,l=t.jsonp!==!1&&(Ze.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(t.data)&&"data");return l||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=pt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,l?t[l]=t[l].replace(Ze,"$1"+i):t.jsonp!==!1&&(t.url+=(je.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||pt.error(i+" was not called"),s[0]},t.dataTypes[0]="json",r=o[i],o[i]=function(){s=arguments},n.always(function(){o[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,Qe.push(i)),s&&pt.isFunction(r)&&r(s[0]),s=r=a}),"script"):void 0});var tn,en,nn=0,rn=o.ActiveXObject&&function(){var t;for(t in tn)tn[t](a,!0)};pt.ajaxSettings.xhr=o.ActiveXObject?function(){return!this.isLocal&&F()||B()}:F,en=pt.ajaxSettings.xhr(),pt.support.cors=!!en&&"withCredentials"in en,en=pt.support.ajax=!!en,en&&pt.ajaxTransport(function(t){if(!t.crossDomain||pt.support.cors){var e;return{send:function(n,i){var r,l,c=t.xhr();if(t.username?c.open(t.type,t.url,t.async,t.username,t.password):c.open(t.type,t.url,t.async),t.xhrFields)for(l in t.xhrFields)c[l]=t.xhrFields[l];t.mimeType&&c.overrideMimeType&&c.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(l in n)c.setRequestHeader(l,n[l])}catch(u){}c.send(t.hasContent&&t.data||null),e=function(n,s){var o,l,u,h;try{if(e&&(s||4===c.readyState))if(e=a,r&&(c.onreadystatechange=pt.noop,rn&&delete tn[r]),s)4!==c.readyState&&c.abort();else{h={},o=c.status,l=c.getAllResponseHeaders(),"string"==typeof c.responseText&&(h.text=c.responseText);try{u=c.statusText}catch(d){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=h.text?200:404}}catch(f){s||i(-1,f)}h&&i(o,u,h,l)},t.async?4===c.readyState?s(e):(r=++nn,rn&&(tn||(tn={},pt(o).unload(rn)),tn[r]=e),c.onreadystatechange=e):e()},abort:function(){e&&e(a,!0)}}}});var sn,on,an=/^(?:toggle|show|hide)$/,ln=new RegExp("^(?:([+-])=|)("+gt+")([a-z%]*)$","i"),cn=/queueHooks$/,un=[J],hn={"*":[function(t,e){var n,i,r=this.createTween(t,e),s=ln.exec(e),o=r.cur(),a=+o||0,l=1,c=20;if(s){if(n=+s[2],i=s[3]||(pt.cssNumber[t]?"":"px"),"px"!==i&&a){a=pt.css(r.elem,t,!0)||n||1;do l=l||".5",a/=l,pt.style(r.elem,t,a+i);while(l!==(l=r.cur()/o)&&1!==l&&--c)}r.unit=i,r.start=a,r.end=s[1]?a+(s[1]+1)*n:n}return r}]};pt.Animation=pt.extend(W,{tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],hn[n]=hn[n]||[],hn[n].unshift(e)},prefilter:function(t,e){e?un.unshift(t):un.push(t)}}),pt.Tween=X,X.prototype={constructor:X,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(pt.cssNumber[n]?"":"px")},cur:function(){var t=X.propHooks[this.prop];return t&&t.get?t.get(this):X.propHooks._default.get(this)},run:function(t){var e,n=X.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):X.propHooks._default.set(this),this}},X.prototype.init.prototype=X.prototype,X.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[pt.cssProps[t.prop]]||pt.cssHooks[t.prop])?pt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.each(["toggle","show","hide"],function(t,e){var n=pt.fn[e];pt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(K(e,!0),t,i,r)}}),pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(A).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=pt.isEmptyObject(t),s=pt.speed(e,n,i),o=function(){var e=W(this,pt.extend({},t),s);o.finish=function(){e.stop(!0)},(r||pt._data(this,"finish"))&&e.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=a),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=pt.timers,o=pt._data(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&cn.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(n),e=!1,s.splice(r,1));(e||!n)&&pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=pt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=pt.timers,o=i?i.length:0;for(n.finish=!0,pt.queue(this,t,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;o>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),pt.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return i.duration=pt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in pt.fx.speeds?pt.fx.speeds[i.duration]:pt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},pt.timers=[],pt.fx=X.prototype.init,pt.fx.tick=function(){var t,e=pt.timers,n=0;for(sn=pt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||pt.fx.stop(),sn=a},pt.fx.timer=function(t){t()&&pt.timers.push(t)&&pt.fx.start()},pt.fx.interval=13,pt.fx.start=function(){on||(on=setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){clearInterval(on),on=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fx.step={},pt.expr&&pt.expr.filters&&(pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length}),pt.fn.offset=function(t){if(arguments.length)return t===a?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],s=r&&r.ownerDocument;if(s)return e=s.documentElement,pt.contains(e,r)?(typeof r.getBoundingClientRect!==Z&&(i=r.getBoundingClientRect()),n=G(s),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},pt.offset={setOffset:function(t,e,n){var i=pt.css(t,"position");"static"===i&&(t.style.position="relative");var r,s,o=pt(t),a=o.offset(),l=pt.css(t,"top"),c=pt.css(t,"left"),u=("absolute"===i||"fixed"===i)&&pt.inArray("auto",[l,c])>-1,h={},d={};u?(d=o.position(),r=d.top,s=d.left):(r=parseFloat(l)||0,s=parseFloat(c)||0),pt.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+s),"using"in e?e.using.call(t,h):o.css(h)}},pt.fn.extend({position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===pt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(n=t.offset()),n.top+=pt.css(t[0],"borderTopWidth",!0),n.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-pt.css(i,"marginTop",!0),left:e.left-n.left-pt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||tt.documentElement;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||tt.documentElement})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);pt.fn[t]=function(i){return pt.access(this,function(t,i,r){var s=G(t);return r===a?s?e in s?s[e]:s.document.documentElement[i]:t[i]:void(s?s.scrollTo(n?pt(s).scrollLeft():r,n?r:pt(s).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){pt.fn[i]=function(i,r){var s=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return pt.access(this,function(e,n,i){var r;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):i===a?pt.css(e,n,o):pt.style(e,n,i,o)},e,s?i:a,s,null)}})}),n(5)&&n(5).jQuery&&(i=[],r=function(){return pt}.apply(e,i),!(r!==a&&(t.exports=r)))}(window)}).call(e,n(2))},function(t,e,n){var i,r;try{i=[n(3)],r=function(t){return function(e,n){return window.setTimeout(function(){try{e()}catch(n){t(n)}},n)}}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(4)],r=function(t){return function(e){if(t.debug===!0)throw console.error("Error logger: "),e;var n,i,r=e.message||"Error",i={env:{location:{href:location.href,protocol:location.protocol,hostname:location.hostname,pathname:location.pathname},userAgent:navigator.userAgent,hash:t.gitHash},error:{stack:e.stackTrace||e.stack,message:e.message}};i=JSON.stringify(i),n=new Image,n.src=[t.api_url,"front-log?","level=error","&msg=",encodeURIComponent(r),"","&meta=",encodeURIComponent(i),""].join("")}}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i;i=function(){var t,e,i,r,s,o,a="08233bb",l={"test.vf-staging.com":{endpoint:"prelive"},"gusmelo.com":{requiredParam:!0,endpoint:"prelive"},"victoranjos.com":{requiredParam:!0,endpoint:"prelive"}},c=!1;for(var u in l)if(window.location.hostname===u){var h=l[u];c=!0,h.requiredParam?-1!=window.location.search.indexOf("src=prelive")?s=h.endpoint:c=!1:s=h.endpoint;break}var d="https",f="wss";"http:"===window.location.protocol&&(d="http");var p=navigator.userAgent.toLowerCase().indexOf("windows nt 5.1")>0;return p&&!document.addEventListener&&(d="http",f="ws"),c?(t="https://"+s+".viafoura.com/v2/",i="https://"+s+".viafoura.com/api/1/",r="https://"+s+".viafoura.com",n.p=d+"://cdn-"+s+".viafoura.net/",
e=n.p+a+"/",o=("https:"===window.location.protocol?"wss:":"ws:")+"//subsub.viafoura.net"):(t="https://api.viafoura.com/v2/",i="https://api.viafoura.com/api/1/",r="https://api.viafoura.com",n.p=d+"://cdn.viafoura.net/",e=n.p+a+"/",o=("https:"===window.location.protocol?"wss:":"ws:")+"//subsub.viafoura.net"),{loginradius_api_key:"fb763410-afd1-4646-8232-5a5a4f0d9bae",loginradius_url:"https://viafoura-login.hub.loginradius.com/RequestHandlor.aspx",asset_url:e,video_poll:!0,css_url:e+"viafoura.css",api_url:t,api_url_v1:i,api_url_root:r,api_url_v3:"viafoura.com/v3/",realtime_socket:o,analytics_url:"//v3-i.viafoura.com/v3/{DOMAIN}/ingest",gitHash:a}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e){(function(e){t.exports=e}).call(e,{jQuery:!0})},function(t,e,n){var i,r;try{i=[n(1)],r=function(t){t.fn.serializeObject=function(){var e={},n=this.serializeArray();return t.each(n,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(10),n(12),n(19),n(17),n(11),n(20),n(22),n(3),n(25),n(27),n(33),n(35),n(36),n(37),n(43),n(44),n(8),n(46),n(47),n(48),n(55),n(56),n(4),n(58),n(26),n(60),n(30),n(64),n(65),n(67)],r=function(t,e,n,i,r,s,o,a,l,c,u,h,d,f,p,g,v,m,y,b,w,_,x,k,T,E,C,S,A,L){var N=function(){e.bindAll(this,"onUserLoad","onPageLoad","onSettingsLoad","onSectionTreeLoad","onError","onUnload"),C.core=this,E.core=this,S.core=this,this.restAPI=new m,this.V3APIs=new y,this.current={},this.current.settings=new d,this.current.page=new h,this.current.session=new c,this.current.user=new u,this.current.section_tree=new f,this.modules=new _(this),this.modules.add("google_analytics",x),this.widgetManager=new g,this.toolTip=new T(this.current.settings),this.userManager=new v(this.current.session,this.current.user,this.current.settings),this.listenTo(this.userManager,"session:change",this.onSessionChange),this.loginManager=new p(this.restAPI,this.current.session,this.current.settings),this.listenTo(this.loginManager,"login",this.onLogin),this.listenTo(this.loginManager,"logout",this.onLogout),this.required={settings:!1,page:!1,language:!1,user:!1,section_tree:!1},this.isModalInitialized=!1,this.hasAnalyticsFired=!1,this.isCSSLoaded=!1,this.areModalsLoaded=!1,this.readyDeferred=new t.Deferred,this.listenTo(this.current.settings,"change:google_analytics",this.onGAChange),this.listenTo(this.current.settings,"change:enable_anonymous_comments",this.onAnonymousChange),this.listenTo(this.current.settings,"change:wowza_connection",this.onWowzaChange),this.listenTo(this.current.settings,"change:lang",this.onLangChange),this.deferredEvents=[]};return e.extend(N.prototype,n.Events,{Backbone:n,$:t,_:e,events:s,i18n:a,util:r,setReady:function(t){this.required[t]=!0,e.every(this.required,e.identity)&&(this.readyDeferred.resolve(),this.onReady())},ready:function(t){return this.readyDeferred.done(t),this.readyDeferred.promise()},register:function(t){return this.widgetManager.register(t)},unregister:function(t){return this.widgetManager.unregister(t)},poll:function(t){var n=this,i=function(){if(n.widgetManager.count()&&!n.isModalInitialized){n.isModalInitialized=!0;var i=n.ensureModals();i()}e.isFunction(t)&&t()};return this.widgetManager.poll(i,this.current.settings.attributes)},reset:function(t){var e=this;b.unsubscribeAll(),b.close(!0),this.locations=i(),this.widgetManager.removeAll(),this.modules.stopAll(),this.modules.startAll();var n={success:function(){e.toolTip.refresh(),e.poll(t)},error:this.onError};if(this.loadLanguage(function(){e.loadPage(n)}),this.hasAnalytics()){var r=this.analyticsMeta();this.hasAnalyticsFired&&w.trackEngagement(r),w.trackView(r,!0)}},loadPage:function(t){var e=this.locations,n={title:e.title||e.domain+e.path,path:e.path};if(e.image&&(n.image_url=e.image),e.description&&(n.description=e.description),e.unique_id&&(n.unique_id=e.unique_id,n.unique_id.length>100)){var i="The unique_id field must be less than 100 characters";this.deferredEvents.push(i)}this.current.page.getPage(n,t)},singleLoadCSS:function(t){this.isCSSLoaded?e.isFunction(t)&&t():this.loadCSS(t)},loadCSS:function(n){var i=this;i.isCSSLoaded=!0;var r=k.css_url||k.asset_url+"viafoura.css";t('link[href="'+r+'"]',"head").length||t('<link href="'+r+'" rel="stylesheet">').appendTo("head"),e.isFunction(n)&&n()},loadLanguage:function(t){var e=this.current.settings.get("lang"),n=this.locations.lang||e;this.i18n.loadLanguage(n,e).then(t)},triggerInitCallbacks:function(){"function"==typeof window.vfAsyncInit&&r.guard(window.vfAsyncInit)()},isInitializedOnWindow:function(){return window.viafoura&&window.viafoura.core},fetch:function(){this.current.settings.fetch({batch:!0,computerTime:new Date,success:this.onSettingsLoad,error:this.onError}),this.userManager.fetchUser({success:this.onUserLoad,error:this.onError}),this.loadPage({success:this.onPageLoad,error:this.onError}),this.current.section_tree.fetch({batch:!0,success:this.onSectionTreeLoad})},init:function(){this.locations=i(),this.loadCSS(),o(this),this.i18n.asset_url=k.asset_url,this.restAPI.setAPIUrl(k.api_url),this.restAPI.setSite(this.locations.domain),this.restAPI.setSection(this.locations.section),this.V3APIs.init({api_url:k.api_url_v3,domain:this.locations.domain,section:this.locations.section}),this.userManager.detectSession(),this.modules.startAll(),this.fetch(),clearTimeout(this.restAPI.timer),this.restAPI.onTimeoutFinish(),this.widgetManager.loadDeps(),this.initModal(),this.initAnalytics()},initModal:function(){this.areModalsLoaded||t(function(){new L({el:t("body")}),this.areModalsLoaded=!0}.bind(this))},triggerDeferredEvents:function(){for(var t=0;t<this.deferredEvents.length;t++)s.trigger("widget/init/invalidID",this.deferredEvents[t])},destroy:function(){this.stopListening()},parseLocationTracker:function(t){var e=r.parseUri(t||window.location.href),n=e.queryKey&&e.queryKey.__vfz?e.queryKey.__vfz:null,i={};if(n)for(var s=n.split("|"),o=0;o<s.length;o++){var a=decodeURIComponent(s[o]),l=a.split("=");i[l[0]]=l[1]}var c=A.parseHash();return c&&(i.comment_share=c),i},analyticsMeta:function(){return{domain:this.locations.domain,site_id:this.current.section_tree.get("section_id"),section_id:this.current.section_tree.getId(this.locations.section),ref:this.parseLocationTracker(),page:this.current.page.attributes,user:this.current.user.attributes,settings:this.current.settings.attributes}},hasAnalytics:function(){return void 0===this.ingestTrackingEnabled&&(this.current.settings.isEnabled("enable_ingest_tracking")?this.ingestTrackingEnabled=100*Math.random()<=this.current.settings.get("ingest_tracking_throttle"):this.ingestTrackingEnabled=!1),this.ingestTrackingEnabled},onPageLoad:function(){this.setReady("page")},onUserLoad:function(){this.setReady("user")},onSettingsLoad:function(){this.setReady("settings")},onSectionTreeLoad:function(){this.setReady("section_tree")},onReady:function(){this.triggerInitCallbacks(),this.triggerDeferredEvents(),this.loginManager.autoLogin(),this.toolTip.refresh(),this.toolTip.start(),this.poll(),this.hasAnalytics()&&(w.start(),w.trackView(this.analyticsMeta())),this.hasAnalyticsFired=!0},onUnload:function(){this.hasAnalyticsFired&&this.hasAnalytics()&&w.trackEngagement(this.analyticsMeta())},onSessionChange:function(t){this.restAPI.setSession(t)},onAnonymousChange:function(t){this.current.user.forceAnonymous=t.isEnabled("enable_anonymous_comments")},onWowzaChange:function(t){this.locations.wowza_connection=t.get("wowza_connection")},onLangChange:function(t){var e=this;this.loadLanguage(function(){e.setReady("language")})},onLogin:function(t,e){this.userManager.resetUser(t,e),e?(s.trigger("/user/login/success",this.user),s.trigger("/modal/close")):this.userManager.fetchUser({success:function(){s.trigger("/user/login/success",this.user),s.trigger("/modal/close")}})},onLogout:function(){this.userManager.logout()},onError:function(t,e,n){var i,r;n&&n.data?(i=n.data.verb,r=n.data.route):e&&e.data&&(i=e.data.verb,r=e.data.route),l({message:"Failed to load: "+t.error+" Code: "+t.http_status+" "+i+" "+r})},ensureModals:function(t){var n=this;return function(){n.singleLoadCSS(function(){e.isFunction(t)&&n.ready(function(){n.initModal(),t()})})}},initAnalytics:function(){this.events.on("page:load",function(n,i,r){var s=["beta-admin.viafoura.com","prelive-admin.viafoura.com"];if(!k.debug&&s.indexOf(location.host)<0)return void l(new Error("Analytics page cannot be loaded because the domain, "+location.host+", is unauthorized"));this.restAPI.apiUrl="//"+r,this.restAPI.site=i,this.locations.domain=i,this.current.settings.set("disable_widget_logins",1),this.current.page.attributes=e.extend(this.current.page.attributes,n.attributes),this.current.page.id=n.get("id"),this.current.page.set("status","closed"),viafoura.subscribe("onCommentingThread",function(e){var n=t(document).find(".comments-stats"),i=n.find("p");t(i[0]).html(e.num_replies)});var o=0,a=0,c=0;viafoura.subscribe("onCommentingCommentRender",function(e,n){if(0===o){var i=t(document).find(".viafoura .vf-comments"),r=i.find(".vf-comments-setting").parent().addClass("comments-header");r.prepend("<h5>TOP COMMENTS</h5>"),r=r.detach();var s=i.find(".vf-load-more-con").detach();i.find(".vf-horizontal-list").first().wrap("<div></div>").parent().prepend(r).append(s)}if(e.thread_id!==a||e.id===c){a=e.thread_id,c=e.id;var l=new Date(1e3*e.date_created);t(n).find(".vf-username").before("BY ").after(' ON <span class="date">'+l.toDateString()+'</span> AT <span class="date">'+l.toLocaleTimeString()+"</span>"),t(n).find("ul.vf-user-meta").append('<li class="comment-counters"><span><i class="fa fa-chevron-up"></i>'+e.num_likes+' likes</span> <span><i class="fa fa-reply"></i>'+e.num_replies+" replies</span></li>"),o++}}.bind(this)),t(".vf-widget").attr("data-path",n.get("path")),this.poll()}.bind(this))}}),new N}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;(function(s){try{i=[n(12),n(10),n(1),n(11),n(13),n(14),n(9),n(17),n(4),n(18)],r=function(t,e,n,i,r,o,a,l,c){var u=function(t,n,i){e.bindAll(this,"onTimeoutFinish","onSuccess"),this.batchDelay=250,this.requestLengthLimit=1900,this.progressKey="X-Progress-ID",this.batch=new r,this.waitingBatch=new r,this.forceBatchOff=!1,this.setAPIUrl(t),this.setSite(n),this.setSection(i)};return e.extend(u.prototype,{destroy:function(){},ajax:function(t,e,i,r){i=i||{},i.xhr&&o.assert(l.supportXDomain()||l.supportCORS(),"ajaxXHR not supported");var s={type:i.xhr?"POST":"GET",dataType:i.xhr?"json":"jsonp",url:t,data:this.JSONPWrap(e),success:r};return i.xhr&&l.supportXDomain()&&(s.xDomain=!0,s.url=this.matchHostProtocol(window.location.protocol,s.url)),n.ajax(s)},matchHostProtocol:function(t,e){return"https:"===t&&null!==e.match(/^http:/)?e.replace(/^http/,"https"):"http:"===t&&null!==e.match(/^https:/)?e.replace(/^https/,"http"):e},add:function(t){return this.batch.add(t)},checkRequestLength:function(){for(var t=[];this.getTotalLength()>this.requestLengthLimit&&this.batch.length();){var e=this.batch.pop();this.getSingleRequestLength(e)>this.requestLengthLimit&&(l.supportXDomain()||l.supportCORS())&&(e.options.xhr=!0,e.options.batch=!1),t.push(e)}return t.length?(0===this.batch.length()&&1===t.length?l.supportXDomain()||l.supportCORS()?this.batch.requests=this.batch.requests.concat(t):this.failAll(t):(this.run(),this.batch.requests=this.batch.requests.concat(t)),!0):!1},startTimer:function(){return this.timer?!1:(this.timer=s(this.onTimeoutFinish,this.batchDelay),!0)},onTimeoutFinish:function(){this.timer=!1,this.run()},createRequest:function(t,n,i,r){var s=e.clone(i);return void 0!==s&&(void 0===s.section&&void 0!==this.section&&(s.section=this.section),null===s.section&&delete s.section),r.section===!1&&delete s.section,"/"!==n.charAt(0)&&(n="/"+n),new a(t,n,s,r)},prepareRequests:function(){this.waitingBatch.add(this.batch.requests),this.batch.reset()},run:function(){if(!this.batch.isEmpty()){var t=this.batch.toData(),e=this.batch.canUseXHR(),n=this.apiUrl;o.enabled()&&(n+=this.getDebugURL()),this.prepareRequests(),this.ajax(n,{requests:t},{xhr:e&&(l.supportCORS()||l.supportXDomain())},this.onSuccess)}return this},failAll:function(t){s(function(){for(;t.length;){var e=t.pop();e.handle({http_status:403,error:"Request too long"})}},50)},onSuccess:function(t){var e=t.responses;for(var n in e)this.handleRequestResponse(e[n],n)},handleRequestResponse:function(t,e){t.session&&i.trigger("/session/found",t.session);var n=this.waitingBatch.find(e);o.assert(n,"Request could not be found "+e),n&&(c.APIMiddleware&&(t=c.APIMiddleware(n,t)),n.handle(t),this.waitingBatch.remove(n.id))},getDebugURL:function(){for(var t="",e=this.batch.requests,n=[],i=0;i<e.length;i++){var r=e[i];n.push(r.route+"="+r.verb)}return t+=-1!==t.indexOf("?")?"&":"?",n.push("debug=true"),t+=n.join("&")},toJSON:function(){return this.JSONPWrap({requests:this.batch.toData()})},getTotalLength:function(){return encodeURIComponent(this.toJSON().json).length},getSingleRequestLength:function(t){var e={};return e[t.id]=t.toData(),encodeURIComponent(this.JSONPWrap({requests:e}).json).length},addParams:function(t){var n=e.extend({site:this.site},t);return this.session&&(n.session=this.session),n},JSONPWrap:function(t){var e=this.addParams(t);return{json:JSON.stringify(e)}},setSession:function(t){this.session=t},setSite:function(t){this.site=t},setAPIUrl:function(t){this.apiUrl=t},setSection:function(t){this.section=t},request:function(t,e,n,i){"object"==typeof t&&(e=t.route,n=t.data,i=t,t=i.verb||"get",delete i.verb,delete i.route,delete i.data),i=i||{};var r=this.createRequest(t,e,n,i);this.add(r)?(i.xhr||this.checkRequestLength(),i.batch&&!this.forceBatchOff?this.startTimer():this.run()):o.assert(!1,"Duplicate request "+r.id)},getTrackUploadPath:function(t){var e=c.api_url_root+"/track_upload?"+this.progressKey+"="+t+"&session="+this.session;return e},trackUpload:function(t,e){var i=this.getTrackUploadPath(t);n.ajax({url:i,dataType:"jsonp",success:l.wrap(e.success,c.APITrackUpload)})},password:function(t,e,n){this.request("post","/account/password",{email:t},{success:e,error:n})}}),u}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(o){var a=n(3);a(o)}}).call(e,n(2))},function(t,e,n){var i,r;try{i=[n(10),n(11)],r=function(t,e){var n=function(e,i,r,s){t.bindAll(this,"success","error","XHRError"),this.id=++n._id,this.verb=e,this.route=i,this.data=r,this.options=s||{},this.options.data={},this.options.data.verb=this.verb,this.options.data.route=this.route,this.handled=!1};return n._id=0,n.prototype={handle:function(t){this.isSuccessful(t.http_status)?this.success(t):this.error(t)},success:function(t){this.options.success&&this.options.success(t,this.options,t.http_status),this.handled=!0},error:function(t){this.options.error&&this.options.error(t,this.options,t.http_status),this.handled=!0},XHRError:function(t){var e;try{e=JSON.parse(t.responseText)}catch(n){e={api_code:0,http_status:500}}this.error(e,this.options,t.status),this.handled=!0},isSuccessful:function(t){return t>=200&&299>=t},toData:function(){var e=t.extend({},this.data);return t.extend(e,{verb:this.verb,route:this.route})}},n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i;(function(r){(function(){function s(t,e,n){for(var i=(n||0)-1,r=t?t.length:0;++i<r;)if(t[i]===e)return i;return-1}function o(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||"undefined"==typeof n)return 1;if(i>n||"undefined"==typeof i)return-1}return t.index-e.index}function a(){return Ct.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function l(){}function c(t){var e=t.cache;e&&c(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,Ct.length<Lt&&Ct.push(t)}function u(t){return t instanceof u?t:new h(t)}function h(t,e){this.__chain__=!!e,this.__wrapped__=t}function d(t,e,n){if("function"!=typeof t)return mt;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,s){return t.call(e,n,i,r,s)}}return ut(t,e)}function f(t,e,n,i){for(var r=(i||0)-1,s=t?t.length:0,o=[];++r<s;){var a=t[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&(ae(a)||w(a))){e||(a=f(a,e,n));var l=-1,c=a.length,u=o.length;for(o.length+=c;++l<c;)o[u++]=a[l]}else n||o.push(a)}return o}function p(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;var r=typeof t,s=typeof e;if(!(t!==t||t&&Ht[r]||e&&Ht[s]))return!1;if(null==t||null==e)return t===e;var o=Xt.call(t),a=Xt.call(e);if(o!=a)return!1;switch(o){case Mt:case qt:return+t==+e;case Rt:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case $t:case jt:return t==String(e)}var l=o==Dt;if(!l){if(Vt.call(t,"__wrapped__ ")||e instanceof u)return p(t.__wrapped__||t,e.__wrapped__||e,n,i);if(o!=Ot)return!1;var c=t.constructor,h=e.constructor;if(c!=h&&!(L(c)&&c instanceof c&&L(h)&&h instanceof h))return!1}n||(n=[]),i||(i=[]);for(var d=n.length;d--;)if(n[d]==t)return i[d]==e;var f=!0,g=0;if(n.push(t),i.push(e),l){if(g=e.length,f=g==t.length)for(;g--&&(f=p(t[g],e[g],n,i)););return f}return de(e,function(e,r,s){return Vt.call(s,r)?(g++,!(f=Vt.call(t,r)&&p(t[r],e,n,i))&&At):void 0}),f&&de(t,function(t,e,n){return Vt.call(n,e)?!(f=--g>-1)&&At:void 0}),f}function g(t){return function(e,n,i){var r={};n=dt(n,i,3);var s=-1,o=e?e.length:0;if("number"==typeof o)for(;++s<o;){var a=e[s];t(r,a,n(a,s,e),e)}else fe(e,function(e,i,s){t(r,e,n(e,i,s),s)});return r}}function v(t,e,n,i,r,s){var o=1&e,a=2&e,l=4&e,c=8&e,u=16&e,h=32&e,d=t;if(!a&&!L(t))throw new TypeError;if(u&&!n.length&&(e&=-17,u=n=!1),h&&!i.length&&(e&=-33,h=i=!1),o&&!(a||l||h)&&(oe.fastBind||Gt&&u)){if(u){var f=[r];Jt.apply(f,n)}var p=u?Gt.apply(t,f):Gt.call(t,r)}else p=function(){var f=arguments,g=o?r:this;if((l||u||h)&&(f=ie.call(f),u&&Kt.apply(f,n),h&&Jt.apply(f,i),l&&f.length<s))return e|=16,v(t,c?e:-4&e,f,null,r,s);if(a&&(t=g[d]),this instanceof p){g=m(t.prototype);var y=t.apply(g,f);return N(y)?y:g}return t.apply(g,f)};return p}function m(t){return N(t)?Yt(t):{}}function y(t){return ue[t]}function b(){var t=(t=u.indexOf)===it?s:t;return t}function w(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Xt.call(t)==It||!1}function _(t){if(!t)return t;for(var e=1,n=arguments.length;n>e;e++){var i=arguments[e];if(i)for(var r in i)t[r]=i[r]}return t}function x(t){return N(t)?ae(t)?ie.call(t):_({},t):t}function k(t){if(!t)return t;for(var e=1,n=arguments.length;n>e;e++){var i=arguments[e];if(i)for(var r in i)"undefined"==typeof t[r]&&(t[r]=i[r])}return t}function T(t){var e=[];return de(t,function(t,n){L(t)&&e.push(n)}),e.sort()}function E(t,e){return t?Vt.call(t,e):!1}function C(t){for(var e=-1,n=ce(t),i=n.length,r={};++e<i;){var s=n[e];r[t[s]]=s}return r}function S(t){if(!t)return!0;if(ae(t)||D(t))return!t.length;for(var e in t)if(Vt.call(t,e))return!1;return!0}function A(t,e){return p(t,e)}function L(t){return"function"==typeof t}function N(t){return!(!t||!Ht[typeof t])}function I(t){return t&&Ht[typeof t]?Xt.call(t)==$t:!1}function D(t){return"string"==typeof t||Xt.call(t)==jt}function M(t){var e=b(),n=f(arguments,!0,!1,1),i={};return de(t,function(t,r){e(n,r)<0&&(i[r]=t)}),i}function q(t){for(var e=-1,n=ce(t),i=n.length,r=Array(i);++e<i;){var s=n[e];r[e]=[s,t[s]]}return r}function P(t){for(var e=-1,n=f(arguments,!0,!1,1),i=n.length,r={};++e<i;){var s=n[e];s in t&&(r[s]=t[s])}return r}function R(t){for(var e=-1,n=ce(t),i=n.length,r=Array(i);++e<i;)r[e]=t[n[e]];return r}function O(t,e){var n=b(),i=t?t.length:0,r=!1;return i&&"number"==typeof i?r=n(t,e)>-1:fe(t,function(t){return(r=t===e)&&At}),r}function $(t,e,n){var i=!0;e=dt(e,n,3);var r=-1,s=t?t.length:0;if("number"==typeof s)for(;++r<s&&(i=!!e(t[r],r,t)););else fe(t,function(t,n,r){return!(i=!!e(t,n,r))&&At});return i}function j(t,e,n){var i=[];e=dt(e,n,3);var r=-1,s=t?t.length:0;if("number"==typeof s)for(;++r<s;){var o=t[r];e(o,r,t)&&i.push(o)}else fe(t,function(t,n,r){e(t,n,r)&&i.push(t)});return i}function H(t,e,n){e=dt(e,n,3);var i=-1,r=t?t.length:0;if("number"!=typeof r){var s;return fe(t,function(t,n,i){return e(t,n,i)?(s=t,At):void 0}),s}for(;++i<r;){var o=t[i];if(e(o,i,t))return o}}function F(t,e,n){var i=-1,r=t?t.length:0;if(e=e&&"undefined"==typeof n?e:d(e,n,3),"number"==typeof r)for(;++i<r&&e(t[i],i,t)!==At;);else fe(t,e)}function B(t,e){var n=t?t.length:0;if("number"==typeof n)for(;n--&&e(t[n],n,t)!==!1;);else{var i=ce(t);n=i.length,fe(t,function(t,r,s){return r=i?i[--n]:--n,e(s[r],r,s)===!1&&At})}}function U(t,e){var n=ie.call(arguments,2),i=-1,r="function"==typeof e,s=t?t.length:0,o=Array("number"==typeof s?s:0);return F(t,function(t){o[++i]=(r?e:t[e]).apply(t,n)}),o}function z(t,e,n){var i=-1,r=t?t.length:0;if(e=dt(e,n,3),"number"==typeof r)for(var s=Array(r);++i<r;)s[i]=e(t[i],i,t);else s=[],fe(t,function(t,n,r){s[++i]=e(t,n,r)});return s}function W(t,e,n){var i=-(1/0),r=i,s=-1,o=t?t.length:0;if(e||"number"!=typeof o)e=dt(e,n,3),F(t,function(t,n,s){var o=e(t,n,s);o>i&&(i=o,r=t)});else for(;++s<o;){var a=t[s];a>r&&(r=a)}return r}function V(t,e,n){var i=1/0,r=i,s=-1,o=t?t.length:0;if(e||"number"!=typeof o)e=dt(e,n,3),F(t,function(t,n,s){var o=e(t,n,s);i>o&&(i=o,r=t)});else for(;++s<o;){var a=t[s];r>a&&(r=a)}return r}function J(t,e,n,i){if(!t)return n;var r=arguments.length<3;e=d(e,i,4);var s=-1,o=t.length;if("number"==typeof o)for(r&&(n=t[++s]);++s<o;)n=e(n,t[s],s,t);else fe(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)});return n}function X(t,e,n,i){var r=arguments.length<3;return e=d(e,i,4),B(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)}),n}function K(t,e,n){return e=dt(e,n,3),j(t,function(t,n,i){return!e(t,n,i)})}function G(t){var e=-1,n=t?t.length:0,i=Array("number"==typeof n?n:0);return F(t,function(t){var n=bt(++e);i[e]=i[n],i[n]=t}),i}function Y(t){var e=t?t.length:0;return"number"==typeof e?e:ce(t).length}function Q(t,e,n){var i;e=dt(e,n,3);var r=-1,s=t?t.length:0;if("number"==typeof s)for(;++r<s&&!(i=e(t[r],r,t)););else fe(t,function(t,n,r){return(i=e(t,n,r))&&At});return!!i}function Z(t,e,n){var i=-1,r=t?t.length:0,s=Array("number"==typeof r?r:0);for(e=dt(e,n,3),F(t,function(t,n,r){s[++i]={criteria:e(t,n,r),index:i,value:t}}),r=s.length,s.sort(o);r--;)s[r]=s[r].value;return s}function tt(t){return ae(t)?ie.call(t):t&&"number"==typeof t.length?z(t):R(t)}function et(t){for(var e=-1,n=b(),i=t.length,r=f(arguments,!0,!0,1),s=[];++e<i;){var o=t[e];n(r,o)<0&&s.push(o)}return s}function nt(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var s=-1;for(e=dt(e,n,3);++s<r&&e(t[s],s,t);)i++}else if(i=e,null==i||n)return t?t[0]:Et;return ie.call(t,0,ee(te(0,i),r))}function it(t,e,n){if("number"==typeof n){var i=t?t.length:0;n=0>n?te(0,i+n):n||0}else if(n){var r=lt(t,e);return t[r]===e?r:-1}return s(t,e,n)}function rt(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var s=r;for(e=dt(e,n,3);s--&&e(t[s],s,t);)i++}else i=null==e||n?1:e||i;return ie.call(t,0,ee(te(0,r-i),r))}function st(t,e,n){var i=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var s=r;for(e=dt(e,n,3);s--&&e(t[s],s,t);)i++}else if(i=e,null==i||n)return t?t[r-1]:Et;return ie.call(t,te(0,r-i))}function ot(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?te(0,i+n):ee(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function at(t,e,n){if("number"!=typeof e&&null!=e){var i=0,r=-1,s=t?t.length:0;for(e=dt(e,n,3);++r<s&&e(t[r],r,t);)i++}else i=null==e||n?1:te(0,e);return ie.call(t,i)}function lt(t,e,n,i){var r=0,s=t?t.length:r;for(n=n?dt(n,i,1):mt,e=n(e);s>r;){var o=r+s>>>1;n(t[o])<e?r=o+1:s=o}return r}function ct(t){return et(t,ie.call(arguments,1))}function ut(t,e){return arguments.length>2?v(t,17,ie.call(arguments,2),null,e):v(t,1,null,null,e)}function ht(t){for(var e=arguments.length>1?f(arguments,!0,!1,1):T(t),n=-1,i=e.length;++n<i;){var r=e[n];t[r]=v(t[r],1,null,null,t)}return t}function dt(t,e,n){var i=typeof t;if(null==t||"function"==i)return d(t,e,n);if("object"!=i)return function(e){return e[t]};var r=ce(t);return function(e){for(var n=r.length,i=!1;n--&&(i=e[r[n]]===t[r[n]]););return i}}function ft(t,e,n){var i,s,o,a,l,c,u,h=0,d=!1,f=!0;if(!L(t))throw new TypeError;if(e=te(0,e)||0,n===!0){var p=!0;f=!1}else N(n)&&(p=n.leading,d="maxWait"in n&&(te(e,n.maxWait)||0),f="trailing"in n?n.trailing:f);var g=function(){var n=e-(new Date-a);if(0>=n){s&&clearTimeout(s);var d=u;s=c=u=Et,d&&(h=+new Date,o=t.apply(l,i))}else c=r(g,n)},v=function(){c&&clearTimeout(c),s=c=u=Et,(f||d!==e)&&(h=+new Date,o=t.apply(l,i))};return function(){if(i=arguments,a=+new Date,l=this,u=f&&(c||!p),d===!1)var n=p&&!c;else{s||p||(h=a);var m=d-(a-h);0>=m?(s&&(s=clearTimeout(s)),h=a,o=t.apply(l,i)):s||(s=r(v,m))}return c||e===d||(c=r(g,e)),n&&(o=t.apply(l,i)),o}}function pt(t){var e,n;if(!L(t))throw new TypeError;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function gt(t,e,n){var i=!0,r=!0;if(!L(t))throw new TypeError;n===!1?i=!1:N(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),n=a(),n.leading=i,n.maxWait=e,n.trailing=r;var s=ft(t,e,n);return c(n),s}function vt(t){return null==t?"":String(t).replace(he,y)}function mt(t){return t}function yt(t){F(T(t),function(e){var n=u[e]=t[e];u.prototype[e]=function(){var t=[this.__wrapped__];Jt.apply(t,arguments);var e=n.apply(u,t);return this.__chain__&&(e=new h(e),e.__chain__=!0),e}})}function bt(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e?(e=t,t=0):e=+e||0,t+Wt(ne()*(e-t+1))}function wt(t,e){if(t){var n=t[e];return L(n)?t[e]():n}}function _t(t){var e=++St+"";return t?t+e:e}function xt(t){return t=new h(t),t.__chain__=!0,t}function kt(){return this.__chain__=!0,this}function Tt(){return this.__wrapped__}var Et,Ct=[],St=0,At={},Lt=40,Nt=/\bthis\b/,It="[object Arguments]",Dt="[object Array]",Mt="[object Boolean]",qt="[object Date]",Pt="[object Function]",Rt="[object Number]",Ot="[object Object]",$t="[object RegExp]",jt="[object String]",Ht={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Ft=Ht[typeof window]&&window||this,Bt=[],Ut=Object.prototype,zt=RegExp("^"+String(Ut.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Wt=Math.floor,Vt=Ut.hasOwnProperty,Jt=Bt.push,Xt=Ut.toString,Kt=Bt.unshift,Gt=zt.test(Gt=Xt.bind)&&Gt,Yt=zt.test(Yt=Object.create)&&Yt,Qt=zt.test(Qt=Array.isArray)&&Qt,Zt=zt.test(Zt=Object.keys)&&Zt,te=Math.max,ee=Math.min,ne=Math.random,ie=Bt.slice,re=zt.test(Ft.attachEvent),se=Gt&&!/\n|true/.test(Gt+re);h.prototype=u.prototype;var oe={};!function(){var t={0:1,length:1};oe.fastBind=Gt&&!se,oe.funcDecomp=!zt.test(Ft.WinRTError)&&Nt.test(function(){return this}),oe.spliceObjects=(Bt.splice.call(t,0,1),!t[0])}(1),Yt||(m=function(t){if(N(t)){l.prototype=t;var e=new l;l.prototype=null}return e||{}}),w(arguments)||(w=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Vt.call(t,"callee")||!1});var ae=Qt||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Xt.call(t)==Dt||!1},le=function(t){var e,n=t,i=[];if(!n)return i;if(!Ht[typeof t])return i;for(e in n)Vt.call(n,e)&&i.push(e);return i},ce=Zt?function(t){return N(t)?Zt(t):[]}:le,ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},he=RegExp("["+ce(ue).join("")+"]","g"),de=function(t,e){var n,i=t,r=i;if(!i)return r;if(!Ht[typeof i])return r;for(n in i)if(e(i[n],n,t)===At)return r;return r},fe=function(t,e){var n,i=t,r=i;if(!i)return r;if(!Ht[typeof i])return r;for(n in i)if(Vt.call(i,n)&&e(i[n],n,t)===At)return r;return r};L(/x/)&&(L=function(t){return"function"==typeof t&&Xt.call(t)==Pt});var pe=g(function(t,e,n){Vt.call(t,n)?t[n]++:t[n]=1}),ge=g(function(t,e,n){(Vt.call(t,n)?t[n]:t[n]=[]).push(e)});u.bind=ut,u.bindAll=ht,u.chain=xt,u.countBy=pe,u.debounce=ft,u.defaults=k,u.difference=et,u.filter=j,u.forEach=F,u.functions=T,u.groupBy=ge,u.initial=rt,u.invert=C,u.invoke=U,u.keys=ce,u.map=z,u.max=W,u.min=V,u.omit=M,u.once=pt,u.pairs=q,u.pick=P,u.reject=K,u.rest=at,u.shuffle=G,u.sortBy=Z,u.throttle=gt,u.toArray=tt,u.values=R,u.without=ct,u.collect=z,u.drop=at,u.each=F,u.extend=_,u.methods=T,u.select=j,u.tail=at,u.clone=x,u.contains=O,u.escape=vt,u.every=$,u.find=H,u.has=E,u.identity=mt,u.indexOf=it,u.isArguments=w,u.isArray=ae,u.isEmpty=S,u.isEqual=A,u.isFunction=L,u.isObject=N,u.isRegExp=I,u.isString=D,u.lastIndexOf=ot,u.mixin=yt,u.random=bt,u.reduce=J,u.reduceRight=X,u.result=wt,u.size=Y,u.some=Q,u.sortedIndex=lt,u.uniqueId=_t,u.all=$,u.any=Q,u.detect=H,u.foldl=J,u.foldr=X,u.include=O,u.inject=J,u.first=nt,u.last=st,u.take=nt,u.head=nt,yt(u),u.VERSION="2.1.0",u.prototype.chain=kt,u.prototype.value=Tt,F(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Bt[t];u.prototype[t]=function(){var t=this.__wrapped__;return e.apply(t,arguments),oe.spliceObjects||0!==t.length||delete t[0],this}}),F(["concat","join","slice"],function(t){var e=Bt[t];u.prototype[t]=function(){var t=this.__wrapped__,n=e.apply(t,arguments);return this.__chain__&&(n=new h(n),n.__chain__=!0),n}}),i=function(){return u}.call(e,n,e,t),!(i!==Et&&(t.exports=i))}).call(this)}).call(e,n(2))},function(t,e,n){var i,r;try{i=[n(10),n(12),n(1)],r=function(t,e,n){return e.Events}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;i=[n(1),n(10)],r=function(t,i){var r={$:t,_:i};return function(){var t,i=this,r=i.Backbone,s=[],o=s.push,a=s.slice,l=s.splice;t=e,t.VERSION="1.0.0";var c=i._;c||(c=n(10)),t.$=i.jQuery||i.Zepto||i.ender||i.$,t.noConflict=function(){return i.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=t.Events={on:function(t,e,n){if(!d(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!d(this,"once",t,[e,n])||!e)return this;var i=this,r=c.once(function(){i.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var i,r,s,o,a,l,u,h;if(!this._events||!d(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(o=t?[t]:c.keys(this._events),a=0,l=o.length;l>a;a++)if(t=o[a],s=this._events[t]){if(this._events[t]=i=[],e||n)for(u=0,h=s.length;h>u;u++)r=s[u],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!d(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&f(n,e),i&&f(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t);for(var s in i)i[s].off(e,n,this),r&&delete this._listeners[s];return this}},h=/\s+/,d=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(h.test(n)){for(var s=n.split(h),o=0,a=s.length;a>o;o++)t[e].apply(t,[s[o]].concat(i));return!1}return!0},f=function(t,e){var n,i=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,s,o,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);
}},p={listenTo:"on",listenToOnce:"once"};c.each(p,function(t,e){u[e]=function(e,n,i){var r=this._listeners||(this._listeners={}),s=e._listenerId||(e._listenerId=c.uniqueId("l"));return r[s]=e,"object"==typeof n&&(i=this),e[t](n,i,this),this}}),u.bind=u.on,u.unbind=u.off,c.extend(t,u);var g=t.Model=function(t,e){var n,i=t||{};e||(e={}),this.cid=c.uniqueId("c"),this.attributes={},c.extend(this,c.pick(e,v)),e.parse&&(i=this.parse(i,e)||{}),(n=c.result(this,"defaults"))&&(i=c.defaults({},i,n)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},v=["url","urlRoot","collection"];c.extend(g.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return c.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return c.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,s,o,a,l,u,h;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;s=n.unset,a=n.silent,o=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=c.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)e=r[i],c.isEqual(h[i],e)||o.push(i),c.isEqual(u[i],e)?delete this.changed[i]:this.changed[i]=e,s?delete h[i]:h[i]=e;if(!a){o.length&&(this._pending=!0);for(var d=0,f=o.length;f>d;d++)this.trigger("change:"+o[d],this,h[o[d]],n)}if(l)return this;if(!a)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,c.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,c.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!c.isEmpty(this.changed):c.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?c.clone(this.changed):!1;var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in t)c.isEqual(i[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(t){t=t?c.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(n&&n(e,i,t),void e.trigger("sync",e,i,t)):!1},L(this,t),this.sync("read",this,t)},save:function(t,e,n){var i,r,s,o=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,i&&(!n||!n.wait)&&!this.set(i,n))return!1;if(n=c.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=c.extend({},o,i)),void 0===n.parse&&(n.parse=!0);var a=this,l=n.success;return n.success=function(t){a.attributes=o;var e=a.parse(t,n);return n.wait&&(e=c.extend(i||{},e)),c.isObject(e)&&!a.set(e,n)?!1:(l&&l(a,t,n),void a.trigger("sync",a,t,n))},L(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),s=this.sync(r,this,n),i&&n.wait&&(this.attributes=o),s},destroy:function(t){t=t?c.clone(t):{};var e=this,n=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(r){(t.wait||e.isNew())&&i(),n&&n(e,r,t),e.isNew()||e.trigger("sync",e,r,t)},this.isNew())return t.success(),!1;L(this,t);var r=this.sync("delete",this,t);return t.wait||i(),r},url:function(){var t=c.result(this,"urlRoot")||c.result(this.collection,"url")||A();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},c.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=c.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,c.extend(e||{},{validationError:n})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];c.each(m,function(t){g.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),c[t].apply(c,e)}});var y=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,c.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,merge:!1,remove:!1};c.extend(y.prototype,u,{model:g,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,c.defaults(e||{},w))},remove:function(t,e){t=c.isArray(t)?t.slice():[t],e||(e={});var n,i,r,s;for(n=0,i=t.length;i>n;n++)s=this.get(t[n]),s&&(delete this._byId[s.id],delete this._byId[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,e.silent||(e.index=r,s.trigger("remove",s,this,e)),this._removeReference(s));return this},set:function(t,e){e=c.defaults(e||{},b),e.parse&&(t=this.parse(t,e)),c.isArray(t)||(t=t?[t]:[]);var n,i,r,s,a,u=e.at,h=this.comparator&&null==u&&e.sort!==!1,d=c.isString(this.comparator)?this.comparator:null,f=[],p=[],g={};for(n=0,i=t.length;i>n;n++)(r=this._prepareModel(t[n],e))&&((s=this.get(r))?(e.remove&&(g[s.cid]=!0),e.merge&&(s.set(r.attributes,e),h&&!a&&s.hasChanged(d)&&(a=!0))):e.add&&(f.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)));if(e.remove){for(n=0,i=this.length;i>n;++n)g[(r=this.models[n]).cid]||p.push(r);p.length&&this.remove(p,e)}if(f.length&&(h&&(a=!0),this.length+=f.length,null!=u?l.apply(this.models,[u,0].concat(f)):o.apply(this.models,f)),a&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=f.length;i>n;n++)(r=f[n]).trigger("add",r,this,e);return a&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,c.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,c.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,c.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null!=t?this._byId[null!=t.id?t.id:t.cid||t]:void 0},at:function(t){return this.models[t]},where:function(t,e){return c.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var i=c.isFunction(e)?e:function(t){return t.get(e)};return c.sortedIndex(this.models,t,i,n)},pluck:function(t){return c.invoke(this.models,"get",t)},fetch:function(t){t=t?c.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},L(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?c.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,i=e.success;return e.success=function(r){e.wait&&n.add(t,e),i&&i(t,r,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof g)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];c.each(_,function(t){y.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),c[t].apply(c,e)}});var x=["groupBy","countBy","sortBy"];c.each(x,function(t){y.prototype[t]=function(e,n){var i=c.isFunction(e)?e:function(t){return t.get(e)};return c[t](this.models,i,n)}});var k=t.View=function(t){this.cid=c.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},T=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];c.extend(k.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=c.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(c.isFunction(n)||(n=this[t[e]]),n){var i=e.match(T),r=i[1],s=i[2];n=c.bind(n,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,n):this.$el.on(r,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=c.extend({},c.result(this,"options"),t)),c.extend(this,c.pick(t,E)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var e=c.extend({},c.result(this,"attributes"));this.id&&(e.id=c.result(this,"id")),this.className&&(e["class"]=c.result(this,"className"));var n=t.$("<"+c.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,i){var r=C[e];c.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(i.url||(s.url=c.result(n,"url")||A()),null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",i.emulateJSON&&(s.data._method=r);var o=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"!==s.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=i.xhr=t.ajax(c.extend(s,i));return n.trigger("request",n,a,i),a};var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var S=function(t,e){var n,i=this;n=t&&c.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},c.extend(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&c.extend(n.prototype,t),n.__super__=i.prototype,n};g.extend=y.extend=k.extend=S;var A=function(){throw new Error('A "url" property or function must be specified')},L=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}}}.call(r),r.Backbone}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;try{i=[n(10),n(9)],r=function(t,e){var n=function(){this.requests=[],this.removed=[]};return n.prototype={add:function(e){t.isArray(e)||(e=[e]);for(var n,i=0;i<e.length;i++)if(n=e[i],this.has(n))return!1;for(var r=0;r<e.length;r++)n=e[r],this.requests.push(n);return!0},canUseXHR:function(){return 1==this.length()&&this.requests[0].options.xhr===!0},has:function(t){return!!this.find(t)},length:function(){return this.requests.length},find:function(e){return e.id&&(e=e.id),t.find(this.requests,function(t){return t.id===(0|e)})},findByRoute:function(e,n){return t.find(this.requests,function(t){return t.verb===e&&t.route===n})},pop:function(){return this.requests.pop()},remove:function(t){t.id&&(t=t.id);for(var e=0;e<this.requests.length;e++){var n=this.requests[e];if(n.id===(0|t)){var i=this.requests.splice(e,1)[0];return this.removed.push(i),i}}},reset:function(){this.requests=[]},isEmpty:function(){return t.isEmpty(this.requests)},toData:function(){var e={};return t.each(this.requests,function(t){e[t.id]=t.toData()}),e}},n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(4),n(15),n(1)],r=function(t,e,n){var i={enabled:function(){return t.debug||"true"==e.getItem("vf-debug")||window.viafoura&&window.viafoura.debug||this.debug},assert:function(t,e){if(!t&&this.enabled())throw"Assert Fail: "+e},log:function(){this.enabled()&&window.console&&"function"==typeof window.console.log&&console.log.apply(window.console,arguments)},warn:function(){window.console&&"function"==typeof window.console.warn&&console.warn.apply(window.console,arguments)}};return i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(16)],r=function(t){var e=function(){var t="test";try{window.sessionStorage.setItem(t,t),window.sessionStorage.removeItem(t)}catch(e){return!1}return!0};return e()?window.sessionStorage:t}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[],r=function(){var t={length:0,setItem:function(t,e,n){var i=t+"="+e+";path=/";if("number"==typeof n&&n){var r=new Date;r.setTime(r.getTime()+1e3*n),i+=";max-age="+n+";expires="+r.toGMTString()}document.cookie=i,this.length++},getItem:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0,r=n.length;r>i;i++){for(var s=n[i];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return null},removeItem:function(t){this.setItem(t,"",-1),this.length--},clear:function(){for(var t=document.cookie.split(";"),e=0,n=t.length;n>e;e++){for(var i=t[e];" "===i.charAt(0);)i=i.substring(1,i.length);var r=i.substring(0,i.indexOf("="));this.removeItem(r)}this.length=0},key:function(t){var e=document.cookie.split(";");if(t>=e.length||isNaN(parseFloat(t))||!isFinite(t))return null;for(var n=e[t];" "===n.charAt(0);)n=n.substring(1,n.length);return n.substring(0,n.indexOf("="))}};return t}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;(function(s){try{i=[n(10),n(1)],r=function(t,e){var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,i={argsResult:function(e,n){var i=e[n];if(t.isFunction(i)){var r=Array.prototype.slice.call(arguments,2,arguments.length);return i.apply(e,r)}return i},isMobile:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},isMobileOrTablet:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Mobile/i)||navigator.userAgent.match(/iOS/i))},isSmartphone:function(){return this.isMobileOrTablet()&&window.innerWidth<765?!0:!1},stringToBoolean:function(e,n){if(!t.isString(e))return n;var i=e.replace(/^\s+(.*)\s+$/,"$1").toLowerCase();return"true"===i||1==i},isElementPartiallyInViewport:function(t){if("function"==typeof e&&t instanceof e&&(t=t[0]),"function"!=typeof t.getBoundingClientRect)return!0;var n=t.getBoundingClientRect();return(n.top>=0&&n.top<=e(window).height()||n.bottom>=0&&n.bottom<=e(window).height())&&(n.left>=0&&n.left<=e(window).width()||n.right>=0&&n.right<=e(window).width())},isElementInViewport:function(t){if("function"==typeof e&&t instanceof e&&(t=t[0]),"function"!=typeof t.getBoundingClientRect)return!0;var n=t.getBoundingClientRect();return void 0===n||n.top>=0&&n.left>=0&&n.bottom<=e(window).height()&&n.right<=e(window).width()},isElementPortionInViewport:function(t,n){if("function"==typeof e&&t instanceof e&&(t=t[0]),"function"!=typeof t.getBoundingClientRect)return!0;n=n||{};var i=t.getBoundingClientRect(),r=i.width*i.height,s=[i.width,i.height];i.top<0&&(s[1]=Math.max(0,s[1]+i.top)),i.left<0&&(s[0]=Math.max(0,s[0]+i.left)),i.right>e(window).width()&&(s[0]=Math.max(0,s[0]+(e(window).width()-i.right))),i.bottom>e(window).height()&&(s[1]=Math.max(0,s[1]+(e(window).height()-i.bottom)));var o=!0;return void 0!==n.a&&(o=o&&n.a<=s[0]*s[1]/r),void 0!==n.h&&(o=o&&n.h<=s[0]/i.width),void 0!==n.v&&(o=o&&n.v<=s[1]/i.height),void 0!==n.vAbs&&(o=o&&n.vAbs<=s[1]),void 0!==n.hAbs&&(o=o&&n.hAbs<=s[0]),o},wrap:function(t,e){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}},insideWebview:function(){return/CriOS\//.test(navigator.userAgent)},getIEVersion:function(){var t=0,e=/MSIE (\d+\.\d+);/.test(navigator.userAgent),n=!!navigator.userAgent.match(/Trident\/7.0/),i=navigator.userAgent.indexOf("rv:11.0");return e&&(t=new Number(RegExp.$1)),-1!=navigator.appVersion.indexOf("MSIE 10")&&(t=10),n&&-1!=i&&(t=11),t},supportCORS:function(){if(void 0!==this.supportCORSCache)return this.supportCORSCache;var t=new XMLHttpRequest;return this.supportCORSCache="withCredentials"in t,this.supportCORSCache},supportXDomain:function(){return"undefined"!=typeof XDomainRequest},guard:function(t,e){return t.__wrap||(t.__wrap=function(){try{t.apply(e||this,arguments)}catch(n){window.setTimeout(function(){throw n},0)}}),t.__wrap},getTimeLeft:function(t,e){e=e||new Date;var n=1e3*t-e;return 0>n&&(n=0),n},parseUri:function(t){for(var e={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e,i=n.parser[n.strictMode?"strict":"loose"].exec(t),r={},s=14;s--;)r[n.key[s]]=i[s]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(t,e,i){e&&(r[n.q.name][e]=i)}),r},toUuid:function(t){if("number"!=typeof t){if(n.test(t))return t;throw new Error("invalid argument: "+t)}if(0>t)throw new Error("invalid argument: "+t);var e=t.toString(16);return e=Array(17-e.length).join("0")+e,"00000000-0000-400"+e.charAt(0)+"-8"+e.substring(1,4)+"-"+e.substring(4,16)},toVfId:function(t){if("string"!=typeof t||"36"!=t.length||!n.test(t))throw new Error("invalid argument");return parseInt(t[17]+t.substring(20,23)+t.substring(24,36),16)},uuid4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})},isWebkitBrowser:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?!0:void 0},stringifyUriPath:function(e){var n=e.path;if(t.size(e.queryKey)){n+="?";var i=[];t.each(e.queryKey,function(t,e){i.push(e+"="+t)}),n+=i.join("&")}return e.anchor&&(n+="#"+e.anchor),n},shortenCounts:function(t){for(var e,n=["k","m","b","t","q"],i=n.length-1;i>=0;i--)if(e=Math.pow(10,3*(i+1)),t>=e)return t=Math.round(t/(e/10))/10,t>9&&(t=Math.round(t)),t.toString(10)+n[i];return t.toString(10)},protocolRelative:function(t){return t.replace(/^https?:\/\//,"//")},addTapholdListener:function(t,e,n){var i=0;t.on("touchstart",function(){i=s(e,n)}).bind("touchend",function(){clearTimeout(i)})}};return i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(o){var a=n(3);a(o)}}).call(e,n(2))},function(t,e,n){var i,r;try{i=[n(1)],r=function(t){window.XDomainRequest&&t.ajaxTransport(function(e){if(e.xDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var n;return{send:function(i,r){function s(e,i,s,o){n.onload=n.onerror=n.ontimeout=n.onprogress=t.noop,n=void 0,r(e,i,s,o)}n=new XDomainRequest,n.open(e.type,e.url),n.onload=function(){s(200,"OK",{text:n.responseText},"Content-Type: "+n.contentType)},n.onerror=function(){s(403,"Server error")},n.onprogress=function(){},e.xdrTimeout&&(n.ontimeout=function(){s(0,"timeout")},n.timeout=e.xdrTimeout),n.send(e.hasContent&&e.data||null)},abort:function(){n&&(n.onerror=t.noop(),n.abort())}}}})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(1),n(14),n(4),n(17)],r=function(t,e,n,i,r){var s=function(){};return s.prototype={parsePath:function(t){if(t){var e;return t=decodeURIComponent(t),e=t.match(/^([a-z]+):\/\/\/?([^\/]+)(\/[^#]*)?/i),e&&4==e.length?e[3]||"/":(e=("/"===t[0]?t:"/"+t).match(/^([^#]+)/),e[1])}},fetchPath:function(){var t,s,o=this.parsePath(location.href),a=e('meta[property="og:url"]').attr("content");a&&(s=a.match(/^([a-z]+):\/\/([^\/]+)([^#]+)/i),s&&s.length>=4?s=s[3]:(n.warn("og:url is invalid ("+a+")"),s=null)),t=i.path||s||o||location.pathname;var l=r.parseUri(t);return l.queryKey&&l.queryKey.__vfz&&delete l.queryKey.__vfz,t=decodeURIComponent(r.stringifyUriPath(l))||"/"},fetchTitle:function(){var t=e("meta");return(t.filter('[property="vf:title"]').attr("content")||t.filter('[name="vf:title"]').attr("content")||t.filter('[property="og:title"]').attr("content")||t.filter('[name="og:title"]').attr("content")||t.filter('[property="twitter:title"]').attr("content")||t.filter('[name="twitter:title"]').attr("content")||e("title").first().text()||"").substring(0,500)},fetchImage:function(){var t=e("meta");return t.filter('[property="vf:image"]').attr("content")||t.filter('[name="vf:image"]').attr("content")||t.filter('[property="og:image"]').attr("content")||t.filter('[name="og:image"]').attr("content")||t.filter('[property="twitter:image"]').attr("content")||t.filter('[name="twitter:image"]').attr("content")||e("link").filter("[rel=image_src]").attr("href")||""},fetchDescription:function(){var t=e("meta");return(t.filter('[property="vf:description"]').attr("content")||t.filter('[name="vf:description"]').attr("content")||t.filter('[property="og:description"]').attr("content")||t.filter('[name="og:description"]').attr("content")||t.filter('[property="description"]').attr("content")||t.filter('[name="description"]').attr("content")||t.filter('[property="twitter:description"]').attr("content")||t.filter('[name="twitter:description"]').attr("content")||"").substring(0,500)},refresh:function(){var t=e("meta"),n=r.parseUri(location.href);this.domain=i.domain||n.host||location.hostname,this.path=this.fetchPath(),this.title=this.fetchTitle(),this.image=this.fetchImage(),this.description=this.fetchDescription(),this.unique_id=t.filter('[property="vf:unique_id"]').attr("content")||t.filter('[name="vf:unique_id"]').attr("content"),this.lang=t.filter('[property="vf:lang"]').attr("content")||t.filter('[name="vf:lang"]').attr("content"),this.section=t.filter('[property="vf:section"]').attr("content")||t.filter('[name="vf:section"]').attr("content")}},function(){var t=new s;return t.refresh(),t}}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(7),n(11),n(14),n(17),n(21)],r=function(t,e,n,i,r,s){function o(e){var r,o,a=window.viafoura||{},l={onLoginSuccess:"/user/login/success",onLogoutSuccess:"/user/logout",onLoginFail:"/user/login/fail",onError:"widget/init/invalidID",onCommentingPageLoadMore:"/commenting/page/load-more",onCommentingPageRTLoad:"/commenting/page/rt-load-more",onCommentingCommentLoadReplies:"/commenting/comment/load-replies",onCommentingCommentRTLoad:"/commenting/comment/rt-load-replies",onCommentingCommentRender:"/commenting/comment/render",onCommentingThread:"/commenting/page/load-thread",onShareClick:"/share/click"};r={current:function(){var t=e.current.user.toJSON();return t.logged_in=e.current.user.isLoggedIn(),t},cookieLogin:function(){e.loginManager.cookieAutoLogin()},updateDisplayName:function(t){return s.can("updateName",e.current.user)?(e.current.user.save({name:t}),!0):!1}},o={current:function(){return{id:e.current.session.id}},logout:function(){n.trigger("/user/logout/click"),n.trigger("/modal/close")},login:{social:function(t){return e.loginManager.socialLogin(t)},cookie:function(t){return"string"==typeof t?(e.loginManager.cookieLogin.login(t),!0):!1},session:function(t,n){if("function"!=typeof n)throw new TypeError("Invalid Callback. Callback has to be a function.");var i=function(){n(e.current.user.toJSON())};e.userManager.resetUser(t)?e.userManager.fetchUser({success:i,error:i}):i()}}},e.current.user.on("change",function(t){t.get("id")&&!t.changed.id&&n.trigger("onUserChange",t.changed)}),e.ready(function(){e.current.user.on("change",function(t){window.Viafoura.Data.user=t.isLoggedIn()})}),window.viafoura=t.defaults(a,{core:e,users:r,session:o,ready:function(t){return"function"==typeof t?e.ready(t):void i.warn("viafoura.ready only accepts a function")},poll:function(){var t=Array.prototype.slice.apply(arguments);e.ready(function(){e.poll.apply(e,t)})},reset:function(t){e.ready(function(){e.reset(function(){n.trigger("onReset"),"function"==typeof t&&t()})})},Data:{user:!1},ui:{login:{show:e.ensureModals(function(){n.trigger("/user/login/click")}),hide:e.ensureModals(function(){n.trigger("/modal/close")})},signup:{show:e.ensureModals(function(){n.trigger("/user/signup/click")}),hide:e.ensureModals(function(){n.trigger("/modal/close")})},profile:{show:e.ensureModals(function(){n.trigger("/user/account/click",e.current.user)}),hide:e.ensureModals(function(){n.trigger("/modal/close")})}},publish:n.trigger.bind(n),subscribe:function(e,i,r){if("function"!=typeof i)return!1;switch(e){case"onLoginSuccess":case"onLogoutSuccess":case"onLoginFail":case"onError":n.on(l[e],i);break;case"onCommentPost":n.on("comment:created",function(t){t.get("thread_id")===t.get("id")&&i.call(this,t.toJSON())},r);break;case"onCommentReply":n.on("comment:created",function(t){t.get("thread_id")!==t.get("id")&&i.call(this,t.toJSON())},r);break;case"onCommentingPageLoadMore":case"onCommentingPageRTLoad":case"onCommentingCommentLoadReplies":case"onCommentingCommentRTLoad":case"onCommentingCommentRender":case"onCommentingThread":case"onShareClick":n.on(l[e],function(){var e=[];t.each(arguments,function(t){e.push(t&&t.toJSON?t.toJSON():t)}),i.apply(this,e)},r);break;case"onReset":case"onWidgetLoad":n.on(e,i,r);break;default:n.on(e,i,r)}}}),window.Viafoura=window.viafoura}return o}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(11)],r=function(t,e){return{authorize:function(t,n){return this.can(t,n)?!0:(e.trigger("onLoginRequired"),!1)},isLoggedIn:function(){return this.currentUser.isLoggedIn()},can:function(t,e){return n(7).userManager.ability.check(t,e)}}}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;(function(s){try{i=[n(10),n(1),n(23),n(24),n(11)],r=function(t,e,n,i,r){var o=function(t){var e=this;t=t||{},this.asset_url=t.asset_url,this.translation={},this.cache={},n.registerHelper("i18n",function(){return e.translate.apply(e,arguments)})};return t.extend(o.prototype,{languages:{en:"en_us.js",fr:"fr.js",nl:"nl.js",sr:"sr_rs.js",ar:"ar.js",es:"es.js"},url:function(){return this.asset_url+"languages/"+this.languages[this.language]},hasLanguage:function(e){return t.has(this.languages,e)},loadLanguage:function(t,n){this.hasLanguage(t)?this.language=t:n?this.language=n:this.language="en","ar"===this.language?e("body").addClass("vf-rtl"):e("body").removeClass("vf-rtl");var i=e.Deferred();return this.cache[this.language]?(this.translation=this.cache[this.language],i.resolve()):(r.once("language:load",function(t){this.cache[this.language]=t,this.translation=t,s(function(){i.resolve()},0)},this),e.ajax({dataType:"script",url:this.url(),cache:!0}).fail(function(){i.fail()})),i.promise()},translate:function(t){var e="",r="";return t&&!this.translation[t]?"No translation found.":("function"==typeof this.translation[t]?r=this.translation[t].apply(null,Array.prototype.slice.call(arguments,1)):"string"==typeof this.translation[t]&&(r=this.translation[t]),e=i.apply(null,[r].concat(Array.prototype.slice.call(arguments,1))),new n.SafeString(e))}}),new o}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(o){var a=n(3);a(o)}}).call(e,n(2))},function(t,e,n){var i;i=function(){var t={};return function(t,e){t.VERSION="1.0.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},t.helpers={},t.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";t.registerHelper=function(e,i,s){if(n.call(e)===r){if(s||i)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,e)}else s&&(i.not=s),this.helpers[e]=i},t.registerPartial=function(e,i){n.call(e)===r?t.Utils.extend(this.partials,e):this.partials[e]=i},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return e;throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,r){var s=r.inverse||function(){},o=r.fn,a=n.call(e);return a===i&&(e=e.call(this)),e===!0?o(this):e===!1||null==e?s(this):"[object Array]"===a?e.length>0?t.helpers.each(e,r):s(this):o(e)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var n=new t.K;return t.K.prototype=null,n},t.registerHelper("if",function(e,r){var s=n.call(e);return s===i&&(e=e.call(this)),!e||t.Utils.isEmpty(e)?r.inverse(this):r.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn})});var s=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(t){for(var e=Error.prototype.constructor.apply(this,arguments),n=0;n<s.length;n++)this[s[n]]=e[s[n]]},t.Exception.prototype=new Error,t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return this.string.toString()};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/[&<>"'`]/g,l=/[&<>"'`]/,c=function(t){return o[t]||"&amp;"};t.Utils={extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},escapeExpression:function(e){return e instanceof t.SafeString?e.toString():null==e||e===!1?"":(e=e.toString(),l.test(e)?e.replace(a,c):e)},isEmpty:function(t){return t||0===t?"[object Array]"===n.call(t)&&0===t.length?!0:!1:!0}},t.VM={template:function(e){var n={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,n,i){var r=this.programs[e];return i?r=t.VM.program(e,n,i):r||(r=this.programs[e]=t.VM.program(e,n)),r},merge:function(e,n){var i=e||n;return e&&n&&(i={},t.Utils.extend(i,n),t.Utils.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var s=e.call(n,t,i,r.helpers,r.partials,r.data),o=n.compilerInfo||[],a=o[0]||1,l=t.COMPILER_REVISION;
if(a!==l){if(l>a){var c=t.REVISION_CHANGES[l],u=t.REVISION_CHANGES[a];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+u+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return s}},programWithDepth:function(t,e,n){var i=Array.prototype.slice.call(arguments,3),r=function(t,r){return r=r||{},e.apply(this,[t,r.data||n].concat(i))};return r.program=t,r.depth=i.length,r},program:function(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,r,s,o,a){var l={helpers:s,partials:o,data:a};if(n===e)throw new t.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(r,l);if(t.compile)return o[i]=t.compile(n,{data:a!==e}),o[i](r,l);throw new t.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template}(t),t}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i,r;i=[],r=function(){return function(t){var e=1,n=arguments;return t.replace(/%s/g,function(t){var i=n[e++];return void 0===i?t:i})}}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;try{i=[n(1),n(26),n(15),n(4)],r=function(t,e,n,i){var r=e.extend({initialize:function(t){e.prototype.initialize.apply(this,arguments),this.sessionKey=r.sessionKey,this.id=null,t&&this.set(t.session)},get:function(){return this.id?this.id:void 0},set:function(t){return n&&t&&t.length>=16&&t.length<=32&&t.match(/^[a-z0-9]+$/)?(n.setItem(this.sessionKey,t),this.id=t,!0):!1},destroy:function(){n&&(n.setItem(this.sessionKey,""),this.id=null)},hasSession:function(){return!!this.id}},{sessionKey:"_vf_sid"});return r}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(12),n(10)],r=function(t,e,n){var i=e.Model.extend({initialize:function(t,e){e=e||{},this.restAPI=e.restAPI||i.core.restAPI,this.domainSettings=e.domainSettings||i.core.current.settings},getRoute:function(){var t="function"==typeof this.url?this.url():this.url;return this.attributes.id&&(t+="/"+this.attributes.id),t},sync:function(t,e,i){var r={};i.params&&n.extend(r,this.toJSON());var s,o=this.getRoute(i);"read"===t?s="get":"create"===t?(n.extend(r,e),s="post"):"delete"===t?s="delete":"update"===t&&(n.extend(r,e),s="patch"),this.restAPI.request(s,o,r,i)},save:function(t,e){var n="",i=this;e=e||{},e.data=t;var r=e.success;return e.success=function(t,e){i.set(t.result),r&&r(t,e)},n=this.isNew()?"create":"update",this.sync(n,t,e)},parse:function(t){return t.result||t},toJSON:function(){return n.clone(this.attributes)},getShareCount:function(t){var e=this.get("shares");return e?0|e[t]:0},reset:function(t){this.clear(t),this.set(this.defaults,t)}});return i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(26),n(28),n(4)],r=function(t,e,i,r){var s=e.extend({url:function(){return"/users"},defaults:{username:"guest",name:"Guest",pic_small:r.asset_url+"img/defaultavatar.png"},initialize:function(){e.prototype.initialize.apply(this,arguments),t.bindAll(this,"updateFollow")},comments:function(e,i){var r=n(29),s=new r(i);return s.rootUrl="/users/"+this.id,t.extend(s.settings,{limit:10,show:""},e),s.user=this,s},parse:function(e){var n=e.result||e;return t.defaults(n,this.defaults)},toJSON:function(){var e=t.clone(this.attributes);return e},updateFollow:function(t,e,n){"delete"===e.verb?this.set("subscribed",!1):this.set("subscribed",!0)},isGuest:function(){return"guest"===this.get("user_privilege")||!!this.get("anonymous")},canAnonymouslyPost:function(){return!this.isLoggedIn()&&this.forceAnonymous},getRoute:function(t){var e="function"==typeof this.url?this.url():this.url;return t.current?e+="/current":t.login?e+="/login":t.logout?e+="/logout":this.attributes.id&&(e+="/"+this.attributes.id),e},hasSubscribed:function(){return!!this.get("subscribed")},toggleFollow:function(t,e){t=t||{},t.success=n(17).wrap(t.success,this.updateFollow);var i="put";this.hasSubscribed()&&(i="delete"),t.verb=i,this.restAPI.request(i,"follows/"+this.id,e||{},t)},isLoggedIn:function(){return!!this.id},isBanned:function(){var t=this.get("ban_level");return"posting"===t||"ghost"===t||"login"===t||"hide"===t},hasGhostBan:function(){return"ghost"===this.get("ban_level")},hasPostingBan:function(){return"posting"===this.get("ban_level")},hasLoginBan:function(){return"login"===this.get("ban_level")},hasHideBan:function(){return"hide"===this.get("ban_level")},isAdmin:function(){return"administrator"===this.get("user_privilege")},isModerator:function(){return"moderator"===this.get("user_privilege")},isModOrAdmin:function(){return"moderator"===this.get("user_privilege")||"administrator"===this.get("user_privilege")},isTrusted:function(){return!!this.get("badge_trusted")},isViafouraAccount:function(){return!this.isCustomAccount()&&!this.isSocialAccount()&&!this.isWordpressAccount()},isCustomAccount:function(){return"Viafoura Defined Cookie"===this.get("social_login_provider")},isSocialAccount:function(){return this.has("social_login_provider")&&null!==this.get("social_login_provider").match(/facebook|google|linkedin|twitter|live|yahoo|backplane/)},isSocialEmailAccount:function(){return this.isSocialAccount()&&this.has("email")},isWordpressAccount:function(){return"oauth"===this.get("social_login_provider")}});return s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(1),n(22)],r=function(t,e,n){var i={minLength:function(t,e){return t&&t.length>=e},maxLength:function(t,e){return t&&t.length<=e},empty:function(t){return t&&t.length>0},modemail:function(t){return t&&t.length>0},email:function(t){return t&&t.length>0&&t.length<=250&&!!t.match(/^(?:[-\w!\#\$%\&\'*+~/^`|{}]+(?:\.[-\w!\#\$%\&\'*+~/^`|{}]+)*)@((?:[a-z0-9](?:[-a-z0-9]*[a-z0-9])?\.)*[a-z0-9](?:[-a-z0-9]*[a-z0-9])?)\.((?:([^- ])[-a-z]*[-a-z]))$/i)},required:function(t){return!("undefined"==typeof t||null===t||""===t)},name:function(t){return t&&t.length>0},digits:function(t){return t&&!!(t+"").match(/^\d+$/)},username:function(t){return t&&t.length>0},oldPassword:function(t){return t&&t.length>=1},password:function(t,e){return e=e||8,t&&t.length>=e},confirmPassword:function(t,e,n){return t===e},min:function(t,e){return t&&t>=e},max:function(t,e){return t&&e>=t},errorMessage:function(t,e){return e=e||[],e.unshift("verror_"+t),n.translate.apply(n,e)},check:function(e,n){var i,r,s,o={};for(var a in n)if(i=n[a],r=e[a],"undefined"!=typeof r)for(var l in i)s=i[l],t.isArray(s)||(s=[s]),s.unshift(r),this[l].apply(this,s)||(o[a]||(o[a]=[]),o[a].push(this.errorMessage(l,s)));return t.keys(o).length?o:void 0}};return i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(30),n(32),n(11),n(27)],r=function(t,e,n,i,r){var s=e.extend({model:n,url:function(){var t="/comments";return this.page&&(t="/pages/"+this.page.getRouteId()+t),t},initialize:function(n,i){e.prototype.initialize.apply(this,arguments),i&&(this.page=i.page),this.settings={limit:5},i&&i.settings&&t.extend(this.settings,i.settings)}});return s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(10),n(12),n(11),n(31)],r=function(t,e,n,i,r){var s=n.Collection.extend({initialize:function(t,e){e=e||{},this.after_count=0,this.before_count=0,this.total_count=0,this.settings={},this.restAPI=e.restAPI||s.core.restAPI,e.rootUrl&&(this.rootUrl=e.rootUrl)},getUrl:function(){var t="function"==typeof this.url?this.url():this.url;return this.rootUrl&&(t=this.rootUrl+t),t},sync:function(t,e,n){var i,r=this.getUrl(n),s=this.settings;"read"===t?i="get":"create"===t?i="post":"delete"===t?i="delete":"update"===t&&(i="put"),this.restAPI.request(i,r,s,n)},parse:function(t,e){var n=t.result;return e.setCounts!==!1&&this.setCounts(n),e.setBeforeAfterIDs!==!1&&this.setBeforeAfterIDs(n),"prepend"===e.insert_method&&(e.at=0),e.reverse===!0&&n.results.reverse(),n.actual_list&&this.parseActualList(n.actual_list),n.results},parseActualList:function(t){var e=t.split("_"),n=e.length;this.window=e[n-2],this.page_age=e[n-1]},setCounts:function(t){(void 0===this.settings.after_id||0===this.length)&&(this.before_count=t.before_count),(void 0===this.settings.before_id||0===this.length)&&(this.after_count=t.after_count),this.total_count=t.total_count},setBeforeAfterIDs:function(t){this.before_id=this.before_id||e.result(e.first(t.results),"id"),this.after_id=this.after_id||e.result(e.last(t.results),"id")},fetchBeginning:function(t){t=t||{},t.reset=!0,this.clearAfter(),this.clearBefore(),this.fetch(t)},fetchPageBefore:function(t){this.fetchBeforeId(this.before_id,t)},fetchPageAfter:function(t){this.fetchAfterId(this.after_id,t)},fetchBeforeId:function(t,e){delete this.settings.after_id,delete this.before_id,this.settings.before_id=t,e=e||{},"undefined"==typeof e.add&&(e.add=!0),e.remove=!1,this.fetch(e)},fetchAfterId:function(t,e){delete this.settings.before_id,delete this.after_id,this.settings.after_id=t,e=e||{},"undefined"==typeof e.add&&(e.add=!0),e.remove=!1,e.append=!0,this.fetch(e)},clearAfter:function(){delete this.after_id,delete this.settings.after_id},clearBefore:function(){delete this.before_id,delete this.settings.before_id},multiFetch:function(t){return new r(this,t)}});return s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(10)],r=function(t,e){function n(t,n,i){return this.collection=t,this.Model=t.model,this.count=0,this.parsedResults=[],this.models=[],this.errors=[],this.defaultOptions=e.defaults({},n,{silent:!0,success:function(){},error:function(){}}),this.fetchFunc=i||"fetch",this.hasSuccess=!1,this.hasError=!1,this.successFunc=r.bind(this),this}function i(t,n){return e.isArray(n)||(n=[n]),Array.prototype.push.apply(t,n),t}var r=function(t,e){this.collection.add(t),this.collection.trigger("sync")};return n.prototype.processAddition=function(n,i,r){if(i=e.clone(i||{}),e.isString(n)&&void 0!==this.collection[n]&&e.isFunction(this.collection[n]))return r=n,i.add=i.add||!1,i.remove=i.remove||!1,[this.collection,i,r];if(t.isNumeric(n)){var s=parseInt(n);if(s%1===0)return[new this.Model({id:n}),i,r]}return n instanceof this.Model?[n,i,r]:void 0},n.prototype.add=function(t,n,r){return t=i([],t),t.length<1?this:(e.each(t,function(t){this.addSingle.apply(this,this.processAddition(t,n,r))}.bind(this)),this)},n.prototype.addSingle=function(t,n,i){if(void 0===t)return this;e.defaults(n,this.defaultOptions),i=i||this.fetchFunc,this.count+=1;var r=n.success,s=n.error;return n.success=this.getSuccessFunc(t,r,n),n.error=this.getErrorFunc(t,s),t[i](n),this},n.prototype.getSuccessFunc=function(t,e){return function(n,i,r){this.hasSuccess=!0,this.updateResults(t,i,r),this.updateModels(t,i,r),e.apply(t,arguments),this.complete()}.bind(this)},n.prototype.getErrorFunc=function(t,e){return function(n,i){this.hasError=!0,this.errors.push(i),e.apply(t,arguments),this.complete()}.bind(this)},n.prototype.complete=function(){return this.count-=1,0===this.count&&(this.hasSuccess?this.successFunc(this.models,this.parsedResults,this.errors):this.hasError&&this.errorFunc(this.models,this.parsedResults,this.errors)),this},n.prototype.updateResults=function(t,e,n){var r=t.parse(e,n);return i(this.parsedResults,r),r},n.prototype.updateModels=function(t,n,r){t instanceof this.Model&&this.models.push(t),e.each(i([],t.parse(n,r)),function(t){this.models.push(new this.Model(t,r))}.bind(this))},n.prototype.success=function(t){return this.successFunc=t,this},n.prototype.error=function(t){return this.errorFunc=t,this},n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(26),n(28),n(27),n(17),n(11)],r=function(t,e,i,r,s,o){var a=null,l=e.extend({defaults:{num_likes:0,num_dislikes:0,liked:0,disliked:0},url:function(){return"/comments"},initialize:function(i,r){if(e.prototype.initialize.apply(this,arguments),r=r||{},t.bindAll(this,"updateLikes"),t.bindAll(this,"updateDislikes"),i){this.setUser(i.user);var s=n(33);this.page=new s(i.page||{}),this.setThread(i.thread),this.setRealtimeNew(r.realtimeNewComment)}},getThreadsAsc:function(){return this.thread.models.reverse()},updateCounts:function(t,e,n){var i,r="liked"==t?"disliked":"liked",s="liked"==t?"num_likes":"num_dislikes",o="disliked"==t?"num_likes":"num_dislikes",a={};"delete"===n.verb?(i=this.get(s),a[t]=0,a[s]=0===i?0:i-1):(a[t]=1,a[s]=this.get(s)+1,a[o]=1===this.get(r)?this.get(o)-1:this.get(o),a[o]=a[o]<0?0:a[o],a[r]=0),this.set(a)},updateLikes:function(t,e){this.updateCounts("liked",t,e)},updateDislikes:function(t,e){this.updateCounts("disliked",t,e)},getThread:function(t){t=t||{};var e=n(34),i=new e([],{page:this.page}),r=i.url;return i.url="/comments/"+this.id+"/context",i.fetch(t),i.url=r,i},replies:function(t){t=t||{};var e=n(34),i=new e;return i.pageId=this.get("parent_id"),i.id=this.get("thread_id"),i},shareLink:function(){return window.location.protocol+"//"+window.location.host+this.page.get("path")+encodeURIComponent("#")+"vf-"+this.id},parse:function(t,e){return t=t.result||t,this.setUser(t.user),this.setRealtimeNew(e.realtimeNewComment),t},setUser:function(t){t=t||{},a=n(7),this.user=t.id===a.current.user.id?a.current.user:new r(t)},setThread:function(t){t&&(this.thread||(this.thread=this.replies()),this.thread.add(t.results),this.thread.after_count=t.after_count,this.thread.before_count=t.before_count,this.thread.total_count=t.total_count)},setRealtimeNew:function(t){t=!!t,this.set("realtimeNewComment",t),this.thread&&this.thread.each(function(e){e.setRealtimeNew(t)})},toJSON:function(){var e=t.clone(this.attributes);return e.video&&e.video.thumbs&&(e.video_placeholder=this.attributes.video.thumbs.medium),this.user&&(e.user=this.user.toJSON()),e.picture&&(e.imageURL=this.largestImage().url,e.thumbURL=this.largestImageBelow("s").url),e.comment_url=this.getPageUrl()+"#vf-"+this.id,e.page_url=this.getPageUrl(),e},getPageUrl:function(){var t="",e=this.attributes.page;return e&&(t=location.host+e.path),t},hasLiked:function(){return 1!==this.get("liked")},hasDisliked:function(){return 1!==this.get("disliked")},toggleLike:function(t){t=t||{},t.success=n(17).wrap(t.success,this.updateLikes);var e="delete";this.hasLiked()&&(e="put"),t.verb=e,this.restAPI.request(e,"likes/"+this.id,{},t)},toggleDislike:function(t){t=t||{},t.success=n(17).wrap(t.success,this.updateDislikes);var e="delete";this.hasDisliked()&&(e="put"),t.verb=e,this.restAPI.request(e,"dislikes/"+this.id,{},t)},largestImage:function(){var t=this.attributes;return t.picture.l||t.picture.m||t.picture.s||t.picture.t},largestImageBelow:function(t){for(var e=this.attributes,n=["x","l","m","s","t"],i=!0,r=0;r<n.length;r++)if(i&&(i=n[r]!=t),!i&&e.picture[n[r]])return e.picture[n[r]];return e.picture[n.pop()]},isVideoProcessing:function(){return this.has("video")&&"in_progress"==this.attributes.video.processing_status},isVideoComplete:function(){return this.has("video")&&"completed"==this.attributes.video.processing_status},isRemoved:function(){return"removed"==this.get("processing_status")},isSpam:function(){return"spam"==this.get("processing_status")},isDisabled:function(){return"disabled"==this.get("processing_status")},hasMedia:function(){return this.has("picture")||this.has("video")||this.has("media_id")},getEditTimeLeft:function(){return Math.min(this.get("date_created")+this.domainSettings.get("user_comment_edit_timeout"),this.get("date_locked"))},hasEditTimeLeft:function(){return s.getTimeLeft(this.getEditTimeLeft(),this.domainSettings.currentTime())>0},hasEditTimeLimit:function(){return this.hasEditTimeLeft()&&!(this.get("date_locked")===this.domainSettings.foreverTimeout&&this.domainSettings.hasForeverTimeout())}});return l}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(26),n(29),n(34)],r=function(t,e,i,r){var s=e.extend({url:"/pages",initialize:function(){e.prototype.initialize.apply(this,arguments),t.bindAll(this,"updateFollow")},toJSON:function(){var e=t.clone(this.attributes);return e.host=window.location.host,e.rating&&e.rating.toFixed&&(e.rating=e.rating.toFixed(1)),e},updateFollow:function(t,e){"delete"===e.verb?this.set({subscribed:!1}):this.set({subscribed:!0})},rate:function(t){var e=this.get("rating"),n=this.get("num_ratings")+1;this.set({num_ratings:n,rating:e+(t-e)/n})},comments:function(){var t=new i;return t.url="/pages/"+this.getRouteId()+"/comments",t},threads:function(t){var e=new r([],t);return e.page=this,e},hasSubscribed:function(){return!!this.get("subscribed")},toggleFollow:function(t){t=t||{},t.success=n(17).wrap(t.success,this.updateFollow);var e="put";this.hasSubscribed()&&(e="delete"),t.verb=e,this.restAPI.request(e,"follows/"+this.id,{},t)},getRouteId:function(){return this.id?this.id:encodeURIComponent(this.get("path"))},getPage:function(e,n){this.unset("id",{silent:!0}),this.save(e,t.extend({},n,{batch:!0}))},isHidden:function(){return"hidden"===this.get("status")},isClosed:function(){return"closed"===this.get("status")},canComment:function(){return!this.isHidden()&&!this.isClosed()}});return s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(11),n(30),n(12),n(32)],r=function(t,e,i,r,s){var o=i.extend({model:s,defaultSort:"newest",url:function(){var t="/threads";return this.page&&(t="/pages/"+this.page.getRouteId()+t),this.id&&(t="/threads/"+this.id+"/comments"),this.editor&&(t="/pages/"+this.page.getRouteId()+"/comments"),this.context&&(t="/comments/"+this.context+"/context"),t},setOptions:function(t){},sortBy:function(t){switch(t){case"likes":case"activity":case"newest":case"oldest":case"replies":case"editor-picks":return delete this.settings.show,delete this.settings.sort,"editor-picks"==t?(this.settings.show=t,this.editor=!0):(this.editor=!1,this.settings.sort=t),!0}return!1},initialize:function(r,s){i.prototype.initialize.apply(this,arguments),t.bindAll("cleanRealtimeNew"),this.model=n(32),s&&(this.page=s.page),this.settings={sort:this.defaultSort,limit:10,original_parent_id:this.page&&this.page.id},s&&s.settings&&t.extend(this.settings,s.settings),this.listenTo(e,"threads:cleanRealtimeNew",this.cleanRealtimeNew)},fetchItem:function(e,n){var i=t.clone(this.settings);delete this.settings.limit,t.extend(this.settings,{item_id:e,max_before:4,max_after:4}),this.fetch(n),this.settings=i},fetchBeginning:function(t){this.setPage(),i.prototype.fetchBeginning.apply(this,arguments)},fetchPageBefore:function(t){this.setPage(),t=t||{},t.remove=!1,t.reverse=!0,i.prototype.fetchPageBefore.call(this,t)},fetchPageAfter:function(t){this.setPage(),t=t||{},t.remove=!1,t.append=!0,i.prototype.fetchPageAfter.call(this,t)},setPage:function(){this.page&&this.pageId&&this.settings.original_parent_id||!(this.models.length>0)?!this.settings.original_parent_id&&this.pageId&&(this.settings.original_parent_id=this.pageId):(this.page=this.models[0].page,this.pageId=this.page.id,this.settings.original_parent_id=this.page.id)},isLoadedThread:function(t){return this.some(function(e){return e.id===t?!0:!1})},fetchMissing:function(e){var n=this;t.each(e.ids,function(t){if(!n.isLoadedThread(t)){var i=new s({id:t});i.fetch({success:function(t){n.add(t)},error:e.error})}})},cleanRealtimeNew:function(t){this.each(function(e){(void 0===t||t===e.get("thread_id"))&&e.set("realtimeNewComment",!1)})}});return o}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(26),n(17)],r=function(t,e){var n=t.extend({url:"/settings",foreverTimeout:4294967295,isEnabled:function(t){return 1===this.get(t)},isDisabled:function(t){return 0===this.get(t)},currentTime:function(){var t=new Date;return t.getTime()+this.timeOffset},hasEditTimeLimit:function(){return this.get("user_comment_edit_timeout")!==this.foreverTimeout},hasForeverTimeout:function(){return this.get("user_comment_edit_timeout")===this.foreverTimeout},parse:function(t,n){var i=e.getIEVersion();if((!e.supportCORS()&&!e.supportXDomain()||0!=i&&9>=i)&&t.result.comment_max_length>1400&&(t.result.comment_max_length=1400),void 0!==t.result.server_time){this.serverTime=new Date(1e3*t.result.server_time);var r=n.computerTime||new Date;this.timeOffset=this.serverTime.getTime()-r.getTime()+this.restAPI.batchDelay}else this.timeOffset=0;return t.result}});return n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(26)],r=function(t,e){var n=e.extend({defaults:{descendants:[]},idAttribute:"section_id",url:"/sections/root",initialize:function(n,i){e.prototype.initialize.call(this,n,i),this.has("descendants")&&this.set("names",t.invert(this.get("descendants")))},parse:function(){var n=e.prototype.parse.apply(this,arguments);return n.names=t.invert(n.descendants),n},getId:function(t,e){return e=void 0===e?this.id:e,this.get("descendants")[t]||e},getName:function(t,e){return this.id===t?"root":(e=void 0===e?"root":e,this.get("names")[t]||e)}});return n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(12),n(10),n(39),n(40),n(41),n(38),n(42),n(4)],r=function(t,e,n,i,r,s,o,a){var l=function(t,e,l){this.restAPI=t,this.session=e,this.settings=l,this.oAuthLogin=new n(e),this.cookieLogin=new i(e,l),this.backplaneLogin=new r(t),this.gigyaLogin=new s(e),this.loginRadiusLogin=new o(t,a.loginradius_api_key,a.loginradius_url),this.listenTo(this.settings,"change:authprovider_oauth_enabled",this.onOAuthChange),this.listenTo(this.settings,"change:authprovider_custom_cookie_name",this.onCookieChange),this.listenTo(this.settings,"change:authprovider_backplane_v2_enabled",this.onBackplaneChange),this.listenTo(this.settings,"change:authprovider_backplane_v1_2_enabled",this.onBackplaneChange),this.listenTo(this.settings,"change:authprovider_gigya_poll",this.onGigyaPollChange),this.listenTo(this.oAuthLogin,"login",this.onLogin),this.listenTo(this.oAuthLogin,"login:fail",this.onLoginFail),this.listenTo(this.backplaneLogin,"login",this.onLogin),this.listenTo(this.backplaneLogin,"login:fail",this.onLoginFail),this.listenTo(this.gigyaLogin,"login",this.onLogin),this.listenTo(this.gigyaLogin,"login:fail",this.onLoginFail),this.listenTo(this.gigyaLogin,"logout",this.onLogout),this.listenTo(this.cookieLogin,"login",this.onLogin),this.listenTo(this.cookieLogin,"login:fail",this.onLoginFail),this.listenTo(this.loginRadiusLogin,"login",this.onLogin),this.listenTo(this.loginRadiusLogin,"login:fail",this.onLoginFail),this.loginRadiusLogin.setup()};return e.extend(l.prototype,t.Events,{socialLogin:function(t){return this.loginRadiusLogin.login(t)},cookieAutoLogin:function(){this.cookieLogin.autoLogin()},autoLogin:function(){return this.cookieLogin.autoLogin()?!0:this.oAuthLogin.autoLogin()},onOAuthChange:function(t){t.isEnabled("authprovider_oauth_enabled")?this.oAuthLogin.setup(t.get("authprovider_oauth_key")):this.oAuthLogin.teardown()},onCookieChange:function(t){this.cookieLogin.setup(t.get("authprovider_custom_cookie_name"))},onBackplaneChange:function(t){t.isEnabled("authprovider_backplane_v2_enabled")?this.backplaneLogin.setup("2"):t.isEnabled("authprovider_backplane_v1_2_enabled")?this.backplaneLogin.setup("1.2"):this.backplaneLogin.teardown()},onLogin:function(t,e){this.trigger("login",t,e)},onLogout:function(){this.trigger("logout")},onLoginFail:function(t){this.trigger("login:fail",t)},onGigyaPollChange:function(t){t.isEnabled("authprovider_gigya_poll")?this.gigyaLogin.setup():this.gigyaLogin.teardown()}}),l}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;(function(s){try{i=[n(1),n(10),n(12),n(11),n(4),n(19)],r=function(t,e,n,i,r,o){var a=function(t){e.bindAll(this,"timer","gigyaLoginHandler","gigyaLogoutHandler","onSuccess","onError","onGetUserInfo"),this.loaded=!1,this.session=t,this.totalTime=6e4};return e.extend(a.prototype,n.Events,{setup:function(){this.active=!0,this.loaded||this.pollForScript()},teardown:function(){this.active=!1},pollForScript:function(){this.timeout=0,this.elapsedTime=0,this.timer()},timer:function(){this.loaded||(window.gigya?(this.loaded=!0,this.addEvents()):this.elapsedTime<this.totalTime&&(this.timeout+=1e3,this.elapsedTime+=this.timeout,s(this.timer,this.timeout)))},addEvents:function(){window.gigya.socialize.addEventHandlers({onLogin:this.gigyaLoginHandler,onLogout:this.gigyaLogoutHandler}),window.gigya.accounts&&window.gigya.accounts.addEventHandlers({onlogin:this.gigyaLoginHandler,onlogout:this.gigyaLogoutHandler}),window.viafoura.core.current.user.isLoggedIn()||window.gigya.socialize.getUserInfo({callback:this.onGetUserInfo})},onGetUserInfo:function(t){t&&t.user&&t.user.isLoggedIn&&window.gigya.accounts.getAccountInfo({callback:this.gigyaLoginHandler})},gigyaLogoutHandler:function(){this.active&&this.trigger("logout")},gigyaLoginHandler:function(e){if(this.active){var n={json:JSON.stringify({requests:[{api:"user",type:"loginGigya",params:{uid:e.UID,uid_signature:e.UIDSignature,uid_timestamp:e.signatureTimestamp,step:"login"}}]})};n.host=o().domain,n.s=this.session.get(),n.u="login",t.ajax({url:r.api_url_v1,dataType:"jsonp",data:n,success:this.onSuccess,error:this.onError})}},onSuccess:function(t){if(t.requests[0].error)return i.trigger("/user/login/fail",t.requests[0].error.text),void this.trigger("login:fail",t.requests[0].error.text);var e=t.requests[0],n=e.data[0],r=t.users[n];this.trigger("login",t.sid,r)},onError:function(){i.trigger("/user/login/fail","Social login failed."),this.trigger("login:fail","Social login failed.")}}),a}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(o){var a=n(3);a(o)}}).call(e,n(2))},function(t,e,n){var i,r;try{i=[n(1),n(12),n(10),n(11),n(16),n(4)],r=function(t,e,n,i,r,s){var o=function(e){this.session=e,this.popup={width:780,height:492},this.wordPressKey="VFWPAuth",n.bindAll(this,"onSuccess","isWindowClosed","onError"),this.windowDelay=250,this.endpoint=s.api_url_v1,this.popup.top=(t(window).height()-this.popup.height)/2,this.popup.left=(t(window).width()-this.popup.width)/2};return n.extend(o.prototype,e.Events,{setup:function(t){this.active=!0,this.cookieKey="oauth_login_"+t},teardown:function(){this.active=!1},isWindowClosed:function(){this.window&&this.window.closed&&(clearInterval(this.timer),this.login())},openWindow:function(){this.window=window.open(this.getUrl(),"vf_login_window","location=1,scrollbars=0,height="+this.popup.height+",width="+this.popup.width+",top="+this.popup.top+",left="+this.popup.left),this.timer=setInterval(this.isWindowClosed,this.windowDelay)},getToken:function(){var t=r.getItem(this.cookieKey);return t?decodeURIComponent(t):null},isLoggedIntoWordpress:function(){var t=window[this.wordPressKey];return t&&"true"===t.isLoggedin&&this.getToken()},autoLogin:function(){return this.active&&this.isLoggedIntoWordpress()?(this.request({mode:"jsonp",mode_data:this.getToken()}),!0):!1},login:function(){this.request({step:"login"})},getParams:function(t){t=t||{},n.extend(t,{provider:"oauth",callback_base:this.endpoint});var e={json:JSON.stringify({requests:[{api:"user",type:"loginOAuth",params:t}]})};return e.host=location.hostname,e.s=this.session.get(),e.u="login",e},getUrl:function(e){return this.endpoint+"?"+t.param(this.getParams(e))},request:function(e){var n=this.getParams(e);t.ajax({url:this.endpoint,dataType:"jsonp",data:n,success:this.onSuccess,error:this.onError})},onSuccess:function(t){if(t.error)i.trigger("/user/login/fail","OAuth login failed."),this.trigger("login:fail","OAuth login failed.");else{var e=t.requests[0];if(e.error)i.trigger("/user/login/fail",e.error.text),this.trigger("login:fail",e.error.text);else{var r=e.data[0],s=t.users[r];if(n.isArray(s.badges)){for(var o={videostar:0,authoritative:0,active:0,connected:0,engaged:0},a=s.badges.length;a--;)o[s.badges[a]]=1;s.badges=o}s.id=+s.id,""===s.pic_small&&delete s.pic_small,this.trigger("login",t.sid,s)}}},onError:function(){i.trigger("/user/login/fail","OAuth login failed."),this.trigger("login:fail","OAuth login failed.")}}),o}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(1),n(12),n(4),n(11),n(16),n(19)],r=function(t,e,i,r,s,o,a){var l=function(e){t.bindAll(this,"autoLogin","onSuccess","onError"),this.session=e};return t.extend(l.prototype,i.Events,{setup:function(t){this.cookieKey=t,this.listenTo(s,"user.custom_login",this.onCookieLogin)},teardown:function(){this.stopListening()},autoLogin:function(){var t=this.getCookie();return t?this.login(t):!1},login:function(t){return this.loginWithData({site:"viafouraDefinedCookie",cookie:t,page_id:n(7).current.page.get("id")})},getCookie:function(){return this.cookieKey?o.getItem(this.cookieKey):void 0},onCookieLogin:function(t){this.loginWithData(t)},loginWithData:function(t){var n={json:JSON.stringify({requests:[{api:"user",type:"loginCustom",params:t}]}),u:"login",host:a().domain,s:this.session.get()};return e.ajax({url:r.api_url_v1,data:n,dataType:"jsonp",success:this.onSuccess,error:this.onError}),!0},onSuccess:function(t){var e;t.requests&&t.requests[0].error?e=t.requests[0].error.text:t.error&&(e=t.error.text),e?(s.trigger("/user/login/fail",e),this.trigger("login:fail",e)):this.trigger("login",t.sid)},onError:function(){var t="Cookie login timed out.";s.trigger("/user/login/fail",t),this.trigger("login:fail",t)}}),l}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;(function(s){try{i=[n(12),n(10),n(11),n(4)],r=function(t,e,n,i){var r=function(t){e.bindAll(this,"poll","onSuccess","onError","onBackplaneMessage"),this.restAPI=t,this.loaded=!1,this.active=!1,this.pollDelay=100};return e.extend(r.prototype,t.Events,{setup:function(t){this.active=!0,this.backplaneVersion=t,this.loaded||this.poll()},teardown:function(){this.active=!1,this.backplaneVersion=null},poll:function(){window.Backplane&&("2"===this.backplaneVersion||window.janrain)?this.onBackplaneReady():s(this.poll,this.pollDelay)},onBackplaneReady:function(){this.loaded=!0,window.Backplane.getChannelID()!==!1&&(window.escSubscription=Backplane.subscribe(this.onBackplaneMessage)),"2"!==this.backplaneVersion&&window.janrain.events.onCaptureSessionEnded.addHandler(this.onJanrainLogout)},onBackplaneMessage:function(t){return this.active?"identity/login"==t.type?("2"===this.backplaneVersion?this.restAPI.request("post","/users/backplane",{messageChannel:t.channel,messageid:t.messageURL},{success:this.onSuccess,error:this.onError}):this.restAPI.request("post","/users/backplane_v1_2",{backplane_id:t.payload.identities.entry.id},{success:this.onSuccess,error:this.onError}),!1):void("identity/logout"==t.type&&this.onJanrainLogout()):void 0},onJanrainLogout:function(){n.trigger("/user/logout/click"),n.trigger("/modal/close"),this.trigger("logout")},onSuccess:function(t){this.trigger("login",t.session,t.result)},onError:function(t){n.trigger("/user/login/fail",t.error),this.trigger("login:fail",t.error)}}),r}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(o){var a=n(3);a(o)}}).call(e,n(2))},function(t,e,n){var i,r;(function(s){try{i=[n(10),n(1),n(12),n(4),n(11),n(17),n(14)],r=function(t,e,i,r,o,a,l){var c=function(e,n,i){t.bindAll(this),this.api_key=n,this.storageKey="vf_social_token",this.loginRadiusUrl=i,this.restAPI=e,this.loaded=!1,this.loginId=null,this.popup=null,this.loginRadiusReceived=!1,this.listeningMode=null};return t.extend(c.prototype,i.Events,{setup:function(){return this.loaded?!1:(this.loaded=!0,void this.onload())},teardown:function(){this.loaded=!1,window.removeEventListener?window.removeEventListener("message",this.onLoginRadiusEvent,!1):window.detachEvent("onmessage",this.onLoginRadiusEvent);
},login:function(t){if(!this.loaded)return!1;switch(t){case"facebook":case"google":case"twitter":case"linkedin":case"yahoo":case"paypal":return this.triggerFlow(t),!0;case"live_id":return this.triggerFlow("live"),!0;case"aol":return this.triggerFlow("http://openid.aol.com"),!0;case"vkontakte":case"amazon":case"disqus":case"foursquare":case"github":case"hyves":case"instagram":case"kaixin":case"livejournal":case"mixi":case"odnoklassniki":case"openid":case"orange":case"persona":case"qq":case"renren":case"salesforce":case"sinaweibo":case"stackexchange":case"steamcommunity":case"verisign":case"virgilio":case"wordpress":default:return!1}},triggerFlow:function(t){this.loginId=this.restAPI.session;var e=r.api_url_root+"/callback.php?site="+this.restAPI.site+"&id="+this.loginId;this.launchWindow(this.loginRadiusUrl+"?apikey="+this.api_key+"&provider="+t+"&same_window=1&callback="+encodeURIComponent(e))},launchWindow:function(t){var e=this;"poll"===this.listeningMode&&this.startPolling(),this.popup=this.openWindow(t,"Window","menubar=0,resizable=1,width=450,height=500");var n=setInterval(function(){e.popup&&e.popup.closed&&(e.loginRadiusReceived===!1&&e.onLoginRadiusLoginCancel(),e.loginRadiusReceived=!1,clearInterval(n))},500);return!1},openWindow:function(t,e,n){return window.open(t,e,n)},fetchUserWithToken:function(t){s(function(){this.restAPI.request("post","/users/sociallogin",{token:t,page_id:n(7).current.page.get("id")},{success:this.onLoginSuccess,error:this.onLoginError})}.bind(this),0)},onLoginRadiusLoginToken:function(t){this.fetchUserWithToken(t)},onLoginRadiusLoginCancel:function(){o.trigger("/user/login/social/cancel")},onLoginRadiusLoginError:function(t){o.trigger("/user/login/social/error",t.err.msg)},onLoginSuccess:function(t){this.trigger("login",t.session,t.result)},onLoginError:function(t){if(t.message&&"Token not found"===t.message)return!1;var e="Error logging into social account.";t.error&&(e=t.error),this.trigger("login:fail",e),o.trigger("/user/login/social/fail",e),o.trigger("/user/login/fail",e)},onLoginRadiusEvent:function(t){switch(this.listeningMode){case"poll":this.fetchUserWithToken(t.token),this.loginRadiusReceived=!0;break;case"post":(t.origin==r.api_url_root||t.origin==location.origin)&&null!=t.data&&t.data.match(/^\{?[A-Z0-9]{8}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{12}\}?$/i)&&(this.fetchUserWithToken(t.data),this.loginRadiusReceived=!0,this.popup&&(this.popup.focus(),this.popup.close()));break;default:l.assert(!1,"Listening mode undefined")}},poll:function(){this.loginId&&this.popup.closed&&(this.restAPI.request("get","/users/logincache/get",{id:this.loginId},{success:this.onLoginRadiusEvent,error:this.onLoginError}),clearInterval(this.intId),this.loginId=null)},startPolling:function(){this.intId=setInterval(this.poll,100)},startListening:function(){window.addEventListener?window.addEventListener("message",this.onLoginRadiusEvent,!1):window.attachEvent("onmessage",this.onLoginRadiusEvent)},onload:function(){var t=a.getIEVersion(),e=a.insideWebview();0!=t&&9>=t||11==t||e?this.listeningMode="poll":(this.listeningMode="post",this.startListening())}}),c}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(o){var a=n(3);a(o)}}).call(e,n(2))},function(t,e,n){var i,r;(function(s){try{i=[n(1),n(10),n(17)],r=function(t,e,n){var i=function(){this.widgetCount=0,this.widgets={},this.elements={},this.modules={},this.depsLoaded={},this.dom_ready=!1};return i.prototype={register:function(t){if(!(t&&t.name&&t.create&&t.loadDeps))throw"Could not register widget";this.widgets[t.name]=t},addWidget:function(t,e,n){this.modules[n]=this.widgets[t].create.call(viafoura.core,e)},unregister:function(t){if(!this.widgets[t])throw"Could not find widget "+t;delete this.widgets[t]},poll:function(i,r){function o(){e.forEach(t(".vf-widget"),function(i){var s=t(i),o=s.data().widget;if(r&&0!=r["enable_"+o]&&!e.contains(a.elements,i)&&a.widgets[o]){var l=e.uniqueId("w");a.widgetCount++,s.attr("data-widget-id",l),s.toggleClass("vf-mobile",n.isMobile()),a.elements[l]=i,a.widgets[o].loadDeps(function(){a.addWidget(o,i,l)})}}),a.dom_ready?i&&i():s(o,50)}var a=this;o(),t(document).ready(function(){a.dom_ready=!0})},removeAll:function(){var n=this;e.each(this.elements,function(t,e){delete n.elements[e],--n.widgetCount<0&&(n.widgetCount=0)}),e.each(n.modules,function(e,i){if(e.remove&&"function"==typeof e.remove){var r=t(document.createElement("div")),s=e.$el,o=s.children();s.append(r),e.setElement(r),o.detach(),r.append(o),e.remove()}delete n.modules[i]})},count:function(){return this.widgetCount},loadDeps:function(){function n(){e.forEach(t(".vf-widget"),function(e){var n=t(e),r=n.data().widget;!i.depsLoaded[r]&&i.widgets[r]&&(i.depsLoaded[r]=!0,i.widgets[r].loadDeps(function(){}))}),i.dom_ready||s(n,50)}var i=this;if(!i.dom_ready)var r=setInterval(n,50);n(),t(document).ready(function(){clearInterval(r)})}},i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(o){var a=n(3);a(o)}}).call(e,n(2))},function(t,e,n){var i,r;try{i=[n(10),n(1),n(12),n(25),n(27),n(11),n(15),n(45),n(17)],r=function(t,e,i,r,s,o,a,l,c){var u=function(e,n,i){this.session=e,this.user=n,this.ability=new l(i),t.bindAll(this,"onLogin","onLogout","onUserLoaded"),this.listenTo(o,"/user/login",this.login),this.listenTo(o,"/user/logout/click",this.logout),this.listenTo(o,"/user/create",this.signup),this.listenTo(o,"/user/edit",this.editUser),this.listenTo(o,"/session/found",this.setSession),this.listenTo(o,"user.logout",this.logout)};return t.extend(u.prototype,i.Events,{detectSession:function(){var t,n=e("#viafoura-platform").data();return t=n&&n.sid?n.sid:a.getItem(r.sessionKey),this.setSession(t)},fetchUser:function(e){this.user.reset({silent:!0}),e=t.extend({current:!0,wait:!0,batch:!0},e),e.success=c.wrap(e.success,this.onUserLoaded),this.user.fetch(e)},login:function(e,i,r){r=r||{},this.user.reset({silent:!0}),r.success=c.wrap(r.success,this.onLogin),r=t.extend({},r,{login:!0,wait:!0}),this.user.save({email:e,password:i,page_id:n(7).current.page.get("id"),fingerprint:""},r)},logout:function(){this.user.destroy({logout:!0,batch:!1}),this.clear(),this.fetchUser({success:this.onLogout})},signup:function(e,i){i=i||{},e.login=!0,this.user.reset({silent:!0}),i.success=c.wrap(i.success,this.onLogin),e.page_id=n(7).current.page.get("id"),this.user.save(e,t.extend({},i,{wait:!0}))},editUser:function(t,e){this.user.save(t,e)},setSession:function(t){return this.session.set(t)?(this.trigger("session:change",t),!0):!1},resetUser:function(t,e){return this.setSession(t)?(e?(this.user.clear({silent:!0}),this.user.set(e)):this.user.reset(),this.ability.loadPermissions(this.user),!0):!1},clear:function(){this.session.destroy(),this.user.reset()},isLoggedIn:function(){return this.user.isLoggedIn()},onUserLoaded:function(){this.ability.loadPermissions(this.user)},onLogout:function(){o.trigger("/user/logout"),this.trigger("logout")},onLogin:function(t){t.http_status&&201===t.http_status?this.fetchUser({success:function(){this.onUserLoaded(),o.trigger("/user/login/success",this.user),o.trigger("/modal/close")}.bind(this)}):(this.onUserLoaded(),o.trigger("/user/login/success",this.user),o.trigger("/modal/close"))}}),u}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(32),n(27),n(33),n(17)],r=function(t,e,n,i,r){var s=function(t){this.settings=t,this.permissions=[],this.type="none"};return s.prototype={loadPermissions:function(t){this.permissions=[],this.type="none",t.isLoggedIn()?(this.type="user",t.isAdmin()?(this.type="admin",this.can("moderate",e)):t.isModerator()&&(this.type="mod",this.can("moderate",e)),this.can("create",e),this.can("like",e),this.settings.get("enable_dislikes")&&this.can("dislike",e),this.can("update",e,function(e){return e.page.isClosed()?!1:e.isSpam()||e.isDisabled()||e.isRemoved()?!1:0===this.settings.get("enable_user_comment_editing")?!1:e.hasEditTimeLeft()?e.get("user_id")==t.id&&0===e.get("editor_pick"):!1}),this.can("remove",e,function(e){return 0===this.settings.get("enable_user_comment_remove")?!1:e.isSpam()||e.isDisabled()||e.isRemoved()?!1:e.page.isClosed()?!1:e.hasEditTimeLeft()?e.get("user_id")==t.id:!1}),this.can("flag",e,function(t){return!t.user.isModOrAdmin()}),this.can("update",n,function(e){return e.id===t.id}),this.can("updateAvatar",n,function(e){return e.id===t.id&&!e.isSocialAccount()&&this.settings.isDisabled("disable_cookie_avatars")}),this.can("updatePassword",n,function(e){return e.id===t.id&&e.isViafouraAccount()&&this.settings.isDisabled("disable_widget_logins")}),this.can("updateName",n,function(e){return e.id===t.id&&(e.isCustomAccount()||e.isViafouraAccount())&&this.settings.isDisabled("disable_cookie_displayname")}),this.can("updateEmail",n,function(e){return e.id===t.id&&e.isViafouraAccount()}),this.can("updateNotifications",n,function(e){return e.id===t.id&&this.settings.isDisabled("disable_email_notifications")&&e.has("email")}),this.can("record"),this.can("uploadVideo"),this.can("uploadImage"),this.can("follow",i),this.can("follow",n,function(e){return e.id!==t.id}),this.can("rate",i)):t.isBanned()?this.type="banned":t.isGuest()&&(this.type="guest",this.can("create",e,function(t){return this.settings.isEnabled("enable_anonymous_comments")&&"string"==typeof t.get("anonymous_name")&&t.get("anonymous_name").length>0}))},typeIs:function(t){return this.type===t},check:function(t,e){for(var n=0;n<this.permissions.length;n++){var i=this.permissions[n];if(void 0===i.type||e instanceof i.type){if("manage"===i.action)return!0;if(i.action===t)return i.condition?i.condition.call(this,e):!0}}return!1},has:function(e,n,i){return!!t.find(this.permissions,function(t){return t.action===e&&t.type===n&&t.condition===i})},can:function(t,e,n){n||this.cannot(t,e),this.permissions.push({action:t,type:e,condition:n})},cannot:function(e,n){this.permissions=t.filter(this.permissions,function(t){return!(t.action===e&&t.type===n)})}},s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(4),n(7),n(8)],r=function(t,e,n,i){var r=["tinycode"],s=function(t,e){this.apis={},this.services=t||r,this.url_template=e||"//v3-{SERVICE}.{API_URL}"};return t.extend(s.prototype,{init:function(e){return e=t.clone(e)||{},t.each(this.services,function(t){e.service=t;var n=new i(this.getUrl(e),e.domain,e.section);this.apis[t]=n}.bind(this)),this},get:function(t){return this.apis[t]},getUrl:function(e){return e=t.defaults(e||{},{service:"",api_url:""}),this.url_template.replace(/\{SERVICE\}/,e.service).replace(/\{API_URL\}/,e.api_url)}}),s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(4),n(10),n(11),n(17)],r=function(t,e,n,i){function r(t){this.socket=null,this.pingTimer=null,this.lastPing=[],this.sendQueue=[],this.subscriptions={},this.manualClose=!1,this.options=e.defaults(t||{},{maxPingList:3,strictPing:!1,retries:5,pingTimeoutMs:3e4,connectingTimeoutMs:5e3}),this.retries=this.options.retries}return e.extend(r.prototype,n,{connect:function(){if(!("WebSocket"in window))return this.trigger("status","unsupported"),this;if(this.socket)switch(this.socket.readyState){case WebSocket.OPEN:case WebSocket.CONNECTING:return this;case WebSocket.CLOSING:case WebSocket.CLOSED:this.close()}return this.trigger("status","connecting"),this.socket=new WebSocket(t.realtime_socket),this.socket.onopen=this.onOpen.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=function(e){t.debug&&console.log(e),this.trigger("status","disconnected"),this.close()}.bind(this),this},ping:function(){this.pingTimer||(this.pingTimer=setInterval(function(){var t=(new Date).getTime();this.lastPing.push(t),this.lastPing.length>this.options.maxPingList&&this.lastPing.shift(),this.send({action:"ping",time:t})}.bind(this),this.options.pingTimeoutMs))},send:function(t){this.sendQueue.push(t),this.flushQueue()},flushQueue:function(){if(this.socket)switch(this.socket.readyState){case WebSocket.OPEN:for(var t=null;t=this.sendQueue.shift();)this.socket.send(JSON.stringify(t));break;case WebSocket.CONNECTING:}},subscribe:function(t,n){var i={},r=n||e.uniqueId("s");return void 0!==this.subscriptions[r]?r:(i[r]=this.subscriptions[r]=t,this.connect().send({action:"subscribe",filters:i}),r)},subscribePage:function(t){return this.subscribe({page_uuid:[i.toUuid(t)]})},unsubscribe:function(t){var n=e.clone(this.subscriptions,!0);e.each(this.subscriptions,function(i,r){if("string"==typeof t&&r===t||e.isEqual(t,i)){var s={};s[r]=i,this.connect().send({action:"unsubscribe",filters:s}),delete n[r]}},this),this.subscriptions=n,e.size(this.subscriptions)||this.close(!0)},unsubscribePage:function(t){this.unsubscribe({page_uuid:[i.toUuid(t)]})},unsubscribeAll:function(){this.subscriptions={},this.close(!0)},close:function(e){t.debug&&console.log("close: ",arguments),this.manualClose=!!e,this.socket&&this.socket.close(),this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null)},onClose:function(n){if(this.trigger("status","disconnected"),!this.manualClose&&this.retries>0){t.debug&&console.log("connection unexpectedly closed, retrying: ",n),this.retries--;var i=e.clone(this.subscriptions);this.subscriptions={},e.each(i,function(t,e){this.connect().subscribe(t,e)}.bind(this))}this.manualClose=!1},onMessage:function(t){var e=[];if(t&&t.data){if("string"==typeof t.data)try{e=JSON.parse(t.data)}catch(n){}else"object"==typeof t.data&&(e=t.data);!e||e instanceof Array||(e=[e])}for(var i=null;i=e.shift();)if(i.action)switch(i.action){case"subscribe":this.subscribeCallback(i);break;case"pong":this.pongCallback(i)}else i.event_type?this.trigger("content",i):i.filters&&this.subscribeCallback(i)},onOpen:function(){this.ping(),this.trigger("status","connected"),this.flushQueue()},subscribeCallback:function(n){this.trigger("subscribe",n),n.filters&&e.each(n.filters,function(e,n){if(!e.status||"OK"!==e.status){if(t.debug){var i=e.message?" ("+e.message+")":"",r=e.code?"[Error "+e.code+"] ":"";console.log(r+"Subscription failed, removing. "+n+i)}delete this.subscriptions[n]}}.bind(this))},pongCallback:function(n){-1===e.indexOf(this.lastPing,n.time)?(t.debug&&console.log("expired or unknown pong: "+n.time),this.options.strictPing&&this.close()):t.debug&&console.log("ping latency: "+(+new Date-n.time)+"ms")}}),new r}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(10),n(7),n(11),n(17),n(51),n(52),n(49),n(53),n(54),n(4)],r=function(t,e,n,i,r,s,o,a,l,c,u){function h(){return s.isActive(E.namespace)}function d(){return t('.vf-widget[data-widget="comments"]')}function f(e){if(!y&&h()){w+=e;var n=!1;t.each(d(),function(i,s){r.isElementPortionInViewport(s,{vAbs:100,h:.25})&&(n=!0,t(s).data("engage",(0|t(s).data("engage"))+e))}),n&&(_+=e)}}function p(t){var e=new Image;e.src=u.analytics_url.replace(/\{DOMAIN\}/,t.meta.domain)+"?t="+encodeURIComponent(JSON.stringify(t))}function g(){return{nl:navigator.language||null,nu:navigator.userAgent||null,sr:window.screen&&window.screen.width?window.screen.width+"x"+window.screen.height:null,sd:window.screen&&window.screen.colorDepth?window.screen.colorDepth:null,vp:window.innerWidth?window.innerWidth+"x"+window.innerHeight:null,dt:document.title||null,de:document.charset||null,dl:document.documentElement&&document.documentElement.getAttribute?document.documentElement.getAttribute("lang"):null}}function v(t){return{domain:t.domain,site:t.site_id?r.toUuid(t.site_id):void 0,section:t.section_id?r.toUuid(t.section_id):void 0,page:t.page.id?r.toUuid(t.page.id):void 0,pageStatus:t.page.status,ref:t.ref,vf:e.size(t.ref)?!0:!1,path:t.page.path,title:t.page.title,user:t.user.id?r.toUuid(t.user.id):void 0,privilege:t.user.user_privilege,git:u.gitHash}}var m,y=!1,b=333,w=0,_=0,x=0,k=r.uuid4(),T={},E=s.subscribe({interval:6e4});return{trackView:function(t,e){var n=new o;n.chain(l).chain(c).chain(a);var i=v(t);e&&x++,T=n.track(i),p({view:T,ua:g(),meta:i,rs:x,rq:k,v:4})},trackEngagement:function(e){var n={};t.each(d(),function(e,i){var r=t(i);r.data("engage")&&(!n[r.data("widget")]||r.data("engage")>n[r.data("widget")])&&(n[r.data("widget")]=r.data("engage"))}),p({engage:{time:w,vftime:_,widgets:n},view:T,meta:v(e),ua:g(),rs:x,rq:k,v:4}),_=w=0},start:function(){m=setInterval(function(){f(b)},b)},stop:function(){m&&clearInterval(m)}}}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(50)],r=function(t,e){function n(t,n){e.apply(this,arguments),this.cookieName="a",this.cookieExpiry="2y",this.keylist.push("uniqueId","firstVisit","previousVisit","currentVisit","visitCount")}return t.extend(n.prototype,e.prototype,{defaults:function(){var e=this.timestamp();t.defaults(this.data,{uniqueId:this.uuid4(),firstVisit:e,previousVisit:e,currentVisit:e,visitCount:1})},run:function(t){return this.data.uniqueId&&this.data.firstVisit&&this.data.previousVisit&&this.data.currentVisit?t.newVisit&&(this.data.previousVisit!==this.data.currentVisit&&(this.data.previousVisit=this.data.currentVisit),this.data.currentVisit=this.timestamp(),this.data.visitCount++):this.defaults(),t}}),n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(16),n(17)],r=function(t,e,n){function i(t,e){e=e||{},t=t||{},this.cookiePrefix=e.cookiePrefix||"_vf",this.cookieName="",this.data={domain:t.domain,siteUuid:t.site},this.keylist=["domain","siteUuid"]}return t.extend(i.prototype,{timestamp:function(){return Math.round(+new Date/1e3)},timeoffset:function(t){if("string"==typeof t){var e={y:31536e3,d:86400,h:3600,m:60,s:1}[t[t.length-1]]||1;return parseInt(t)*e}return"number"==typeof t?t:0},uuid4:n.uuid4,cookie:function(){return this.cookiePrefix+this.cookieName},read:function(){return e.getItem(this.cookie())},write:function(){e.setItem(this.cookie(),this.stringify(),this.timeoffset(this.cookieExpiry))},track:function(t){return this.parse(this.read()),t=this.run(t),this.write(),t},parse:function(t){for(var e=t&&"string"==typeof t?t.split("."):[],n=0;n<this.keylist.length&&n<e.length;n++)e[n]&&(this.data[this.keylist[n]]=decodeURI(e[n]));return this.data},stringify:function(){for(var t=[],e=0;e<this.keylist.length;e++)t.push(encodeURIComponent(this.data[this.keylist[e]]||"").replace(/\./g,"%2E"));return t.join(".")}}),i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;(function(s){try{i=[n(1),n(10),n(11)],r=function(t,e,n){function i(){this.subscriptions={}}return e.extend(i.prototype,n,{subscribe:function(t){if(t&&t.namespace&&this.subscriptions[t.namespace]){var n=this.subscriptions[t.namespace];return n.subscribers+=1,this.trigger(n.namespace,"subscribed"),n}var n={timeoutID:null};return e.defaults(n,t,{subscribers:0,namespace:e.uniqueId("a"),interval:3e5,handlers:["focus","click","scroll","mousemove","touchstart","touchend","touchcancel","touchleave","touchmove","keypress"],status:"active"}),this.subscriptions[n.namespace]=n,this.bindHandlers(n),this.trigger(n.namespace,"subscribed"),n},unsubscribe:function(e){var n=this.subscriptions[e];n.subscribers-=1,n.subscribers<1&&(clearTimeout(n.timeoutID),t(window).off(e),this.trigger(e,"unsubscribed"),delete this.subscriptions[e])},isActive:function(t){return"active"===this.subscriptions[t].status},setActive:function(t){clearTimeout(t.timeoutID),"active"!==t.status&&(t.status="active",this.trigger(t.namespace,"active")),t.timeoutID=s(this.setInactive.bind(this,t),t.interval)},setInactive:function(t){"inactive"!==t.status&&(t.status="inactive",this.trigger(t.namespace,"inactive"))},bindHandlers:function(e){var n=e.handlers.join("."+e.namespace+" ")+"."+e.namespace;t(window).on(n,this.setActive.bind(this,e))}}),new i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(o){var a=n(3);a(o)}}).call(e,n(2))},function(t,e,n){var i,r;try{i=[n(10),n(50)],r=function(t,e){function n(t){t=t||{},this._chain=[]}return n.prototype={chain:function(t){return this._chain.push(t),this},track:function(e,n){n=n||{};var i={};return t.each(this._chain,function(r){var s=new r(e);n=s.track(n),t.extend(i,s.data)}),i}},n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(50)],r=function(t,e){function n(t,n){e.apply(this,arguments),this.cookieName="b",this.cookieExpiry="30m",this.keylist.push("pageViews","outgoing","sessionStart","isRecirculation")}return t.extend(n.prototype,e.prototype,{defaults:function(){var e=this.timestamp();t.defaults(this.data,{pageViews:1,outgoing:10,sessionStart:e,isRecirculation:!1})},run:function(t){return this.data.sessionStart?this.data.pageViews++:(this.defaults(),t.newVisit=!0),document.referrer&&-1!==document.referrer.indexOf(this.data.domain)&&(this.data.isRecirculation=!0),t}}),n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(50)],r=function(t,e){function n(t,n){e.apply(this,arguments),this.cookieName="z",this.cookieExpiry="6m",this.keylist.push("referrerStart","refVisitCount","ref")}return t.extend(n.prototype,e.prototype,{defaults:function(e){var n=this.timestamp();t.defaults(this.data,{referrerStart:n,refVisitCount:1,ref:e||this.referrer()})},referrer:function(){return document.referrer&&-1===document.referrer.indexOf(this.data.domain)?{medium:"referral",source:document.referrer,terms:""}:{medium:"direct",source:"",terms:""}},run:function(e){if(this.data.referrerStart){if(e.newVisit){var n=this.referrer();"referral"!==n.medium||t.isEqual(n,this.data.ref)?this.data.refVisitCount++:this.defaults(n)}}else this.defaults();return e},parse:function(e){for(var n,i=e&&"string"==typeof e?e.split("."):[],r=0;r<this.keylist.length&&r<i.length;r++)switch(n=i[r],this.keylist[r]){case"ref":if(this.data.ref={},!n)break;var s=this.data.ref;t.each(n.split("|"),function(t){t=t.split("="),s[t[0]]=decodeURI(t[1])});break;default:this.data[this.keylist[r]]=n?decodeURI(i[r]):null}return this.data},stringify:function(){for(var e=[],n=0;n<this.keylist.length;n++)switch(this.keylist[n]){case"ref":e.push(t.chain(this.data.ref).pairs().map(function(t){return t[1]=encodeURIComponent(t[1]||"").replace(/\./g,"%2E"),t.join("=")}).value().join("|"));break;default:e.push(encodeURIComponent(this.data[this.keylist[n]]||"").replace(/\./g,"%2E"))}return e.join(".")}}),n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10)],r=function(t){var e=function(t){this.app=t,this.modules={}};return t.extend(e.prototype,{hasModule:function(t){return"string"==typeof t&&!!this.modules[t]},add:function(t,e){return"string"!=typeof t||"function"!=typeof e?!1:(this.modules[t]=new e(this.app),!0)},remove:function(t){return this.hasModule(t)?(delete this.modules[t],!0):!1},start:function(t){return this.hasModule(t)?(this.modules[t].start(this.app),!0):!1},stop:function(t){return this.hasModule(t)?(this.modules[t].stop(this.app),!0):!1},startAll:function(){var e=this;t.each(this.modules,function(t,n){e.start(n)})},stopAll:function(){var e=this;t.each(this.modules,function(t,n){e.stop(n)})}}),e}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(57)],r=function(t){return t.extend({initialize:function(){},start:function(t){this.app=t,this.listenTo(t.current.settings,"change:enable_google_analytics",this.trackPageview)},stop:function(t){this.stopListening()},loadGaq:function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t.parentNode.insertBefore(e,t)},trackPageview:function(){if(this.app.current.settings.isEnabled("enable_google_analytics")){window._gaq||(this.loadGaq(),window._gaq=[]),window._gaq.push(["viafoura._setAccount","UA-6452517-6"]),window._gaq.push(["viafoura._setDomainName",(location.hostname.indexOf(".")>-1?".":"")+location.hostname]),window._gaq.push(["viafoura._trackPageview"]);var t=this.app.locations.section;void 0!==t&&"root"!==t&&window._gaq.push(["viafoura._setCustomVar",1,"Section",t,3])}}})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(12)],r=function(t,e){var n=function(e){t.isFunction(this.initialize)&&this.initialize.apply(this,arguments)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{start:function(t){},stop:function(){}}),n}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(59),n(1),n(10),n(60),n(17),n(23)],r=function(t,e,n,i,r,s){var o=i.extend({initialize:function(t){this.settings=t,n.bindAll(this,"renderTooltip","tipTemplate"),e.fn.tipsy.defaults.templateMethod=this.renderTooltip,e.fn.tipsy.defaults.tipTemplate=this.tipTemplate},start:function(){r.isMobile()||e(".viafoura .vf-tip").tipsy({gravity:e.fn.tipsy.autoSEW,live:!0})},refresh:function(){var t=this.settings.toJSON();this.tooltipDatas={login:{content:{description:this.i18n("tooltip_login_desc")}},facebook:{content:{description:this.i18n("share_facebook")}},twitter:{content:{description:this.i18n("share_twitter")}},email:{content:{description:this.i18n("share_email")}},viafoura_login_info:{content:{title:"Viafoura",description:this.i18n("viafoura_about")}},trusted:{content:{title:this.i18n("title_trusted"),description:this.i18n("title_trusted_desc")}},connected:{content:{title:this.i18n("badge_connected_hdr"),description:this.i18n("badge_connected_desc",t.badging_connected_repliesmade,t.badging_connected_days)}},engaged:{content:{title:this.i18n("badge_engaged_hdr"),description:this.i18n("badge_engaged_desc",t.badging_engaged_commentsmade,t.badging_engaged_likesmade,t.badging_engaged_days)}},authoritative:{content:{title:this.i18n("badge_authoritative_hdr"),description:this.i18n("badge_authoritative_desc",t.badging_authoritative_likesreceived,t.badging_authoritative_repliesreceived,t.badging_authoritative_days)}},videostar:{content:{title:this.i18n("badge_video_star_hdr"),description:this.i18n("badge_video_star_desc",t.badging_videostar_videosmade,t.badging_videostar_days)}},active:{content:{title:this.i18n("badge_active_hdr"),description:this.i18n("badge_active_desc",t.badging_active_commentsmade,t.badging_active_days)}},"subscribe-page":{content:{description:this.i18n("subscribe_page_desc")}},"unsubscribe-page":{content:{description:this.i18n("unsubscribe_page_desc")}},"subscribe-user":{content:{description:this.i18n("subscribe_user_desc")}},"unsubscribe-user":{content:{description:this.i18n("unsubscribe_user_desc")}},"over-char-limit":{content:{limit:t.comment_max_length}},"realtime-toggle-on":{content:{description:this.i18n("realtime_toggle_on")}},"realtime-toggle-off":{content:{description:this.i18n("realtime_toggle_off")}},"smartmod-toggle-enable":{content:{description:this.i18n("smartmod_toggle_enable")}},"smartmod-toggle-disable":{content:{description:this.i18n("smartmod_toggle_disable")}},"page-settings-disabled":{content:{description:this.i18n("page_settings_disabled")}}}},renderTooltip:function(t,n){var i=this.tooltipDatas[t];return i||(i={content:{description:this.i18n(t)}}),e(this.template(i,n))},tipTemplate:function(){return e(this.template({},"tooltip"))}});return o}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;(function(s){i=[n(1),n(10)],r=function(t,e){function n(t,e){return"function"==typeof t?t.call(e):t}function i(t){for(;t==t.parentNode;)if(t==document)return!0;return!1}function r(n,i,r){e.bindAll(this,"clearCloseTimer"),this.leave=i,this.$element=t(n),this.timeoutId=0,this.options=r,this.enabled=!0,this.fixTitle()}r.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var i=this.tip();if(i.is(":visible"))return;i.find(".vf-tipsy-inner")[this.options.html?"html":"text"](n),i[0].className="viafoura vf-tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"});var r=t(".vf-tipsy").filter(":last");void 0!==r[0]?i.insertAfter(r):i.prependTo(document.body),this.positionTip(),this.positionTip();var s=this;this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity},300,function(){s.options.onOpen(s)}):(i.css({visibility:"visible",opacity:this.options.opacity}).addClass("vf-tip-animate"),this.options.onOpen(this)),this.options.interactive&&(this.$tip.on("mouseenter.tip",this.clearCloseTimer),this.$tip.on("mouseleave.tip",e.bind(this.leave,this.$element[0])))}},positionTip:function(){var e,i=this.$tip,r=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),s=i[0].offsetWidth,o=i[0].offsetHeight,a=n(this.options.gravity,this.$element[0]);switch(a.charAt(0)){case"n":e={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-s/2};break;case"s":e={top:r.top-o-this.options.offset,left:r.left+r.width/2-s/2};break;case"e":e={top:r.top+r.height/2-o/2,left:r.left-s-this.options.offset};break;case"w":e={top:r.top+r.height/2-o/2,left:r.left+r.width+this.options.offset}}var l=i.find(".vf-tipsy-arrow").outerWidth(),c=Math.round(r.left+this.$element.outerWidth()/2),u=Math.round(t(window).width()-(r.left+this.$element.outerWidth()/2)),h=(i.outerWidth()-i.width())/2,d=this.options.styleTipOffsetWE+l/2;if(2==a.length)if("w"==a.charAt(1)){if(e.left=r.left+r.width/2-30,d>c){var f=c-l/2>=h?c-l/2:h;i.find(".vf-tipsy-arrow, .vf-tipsy-arrow-border").css("left",f)}}else if(e.left=r.left+r.width/2-s+30,d>u){var f=u-l/2>=h?u-l/2:h;i.find(".vf-tipsy-arrow, .vf-tipsy-arrow-border").css("right",f)}e.left<0&&(e.left=0),i.css(e).addClass("vf-tipsy-"+a),i.find(".vf-tipsy-arrow")[0].className="vf-tipsy-arrow vf-tipsy-arrow-"+a.charAt(0),i.find(".vf-tipsy-arrow-border")[0].className="vf-tipsy-arrow-border vf-tipsy-arrow-border-"+a.charAt(0),this.options.className&&this.$tip.addClass(n(this.options.className,this.$element[0]))},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},setTitle:function(t){t&&(this.options.title=t)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-title"))&&t.attr("data-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,n=this.options;this.fixTitle();var t,n=this.options;"string"==typeof n.title?t="data-title"==n.title||"title"==n.title?e.attr("title"==n.title?"data-title":n.title):n.title:"function"==typeof n.title&&(t=n.title.call(e[0]));var i=n.templateMethod(t||n.fallback,e.attr("data-template")||n.template);return this.options.onCreate(i),i},tip:function(){return this.$tip||(this.$tip=this.options.tipTemplate(),this.$tip.data("vf-tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||this.remove()},remove:function(){this.hide(),this.$element.removeData("tipsy"),this.$element.off(".tip"),this.$element=null,this.options.onClose(this),this.options=null},clearCloseTimer:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(n){function i(e){var i=t.data(e,"tipsy");return i||(i=new r(e,a,t.fn.tipsy.elementOptions(e,n)),t.data(e,"tipsy",i)),i}function o(){var t=i(this);t.hoverState="in",0==n.delayIn?t.show():(t.fixTitle(),s(function(){"in"==t.hoverState&&t.show()},n.delayIn))}function a(){var t=i(this);t.hoverState="out",0==n.delayOut?t.hide():(t.clearCloseTimer(),t.timeoutId=s(function(){"out"==t.hoverState&&t.hide()},n.delayOut))}if(n===!0)return this.data("tipsy");if("string"==typeof n){var l=this.data("tipsy");return l&&l[n].apply(l,e.rest(arguments)),this}if(n=t.extend({},t.fn.tipsy.defaults,n),n.live||this.each(function(){i(this)}),"manual"!=n.trigger){var c="hover"==n.trigger?"mouseenter":"focus",u="hover"==n.trigger?"mouseleave":"blur";
n.live?(t(this.context).on(c+".tip",this.selector,o),n.stayOpen||t(this.context).on(u+".tip",this.selector,a)):(this.on(c+".tip",o),n.stayOpen||this.on(u+".tip",a))}return this},t.fn.tipsy.elementOptions=function(e,n){return t.metadata?t.extend({},n,t(e).metadata()):n},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"},t.fn.tipsy.autoSEW=function(){var e=t(this),n=e.offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w";return"s"+n},t.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:t.fn.tipsy.autoSEW,html:!0,live:!1,stayOpen:!1,offset:6,opacity:1,title:"title",trigger:"hover",templateMethod:null,template:"title",tipTemplate:null,styleTipOffsetWE:22,onCreate:function(){},onOpen:function(){},onClose:function(){},interactive:!1},t.fn.tipsy.revalidate=function(){t(".vf-tipsy").each(function(){var e=t.data(this,"vf-tipsy-pointee");e&&i(e)||t(this).remove()})},t.fn.tipsy.autoBounds=function(e,n){return function(){var i={},r=t(document).scrollTop()+e,s=t(document).scrollLeft()+e,o=t(this);return n.length>1?(i.ns=n[0],i.ew=n[1]):"e"==n[0]||"w"==n[0]?i.ew=n[0]:i.ns=n[0],o.offset().top<r&&(i.ns="n"),o.offset().left<s&&(i.ew="w"),t(window).width()+t(document).scrollLeft()-(o.offset().left+o.width())<e&&(i.ew="e"),t(window).height()+t(document).scrollTop()-(o.offset().top+o.height())<e&&(i.ns="s"),i.ns?i.ns+(i.ew?i.ew:""):i.ew}}}.apply(e,i),!(void 0!==r&&(t.exports=r))}).call(e,n(2))},function(t,e,n){var i,r;try{i=[n(10),n(12),n(1),n(61),n(28),n(21),n(62),n(63)],r=function(t,e,n,i,r,s,o,a){var l=e.View.extend(t.extend(o,s,a,{_configure:function(n){if(e.View.prototype._configure.apply(this,arguments),this.restAPI=this.options.restAPI||l.core.restAPI,this.domainSettings=this.options.domainSettings||l.core.current.settings,this.currentPage=this.options.currentPage||l.core.current.page,this.currentUser=this.options.currentUser||l.core.current.user,this._i18n=this.options.i18n||l.core.i18n,this.loginManager=this.options.loginManager||l.core.loginManager,this.userManager=this.options.userManager||l.core.userManager,this.locations=this.options.locations||l.core.locations,this.mixins)for(var i=0;i<this.mixins.length;i++)t.extend(this,this.mixins[i])},$body:n("body"),template:function(e,r,s){var o=i(r||t.result(this,"templateName"),s)(e);return n.parseHTML(n.trim(o))},inlineError:function(t){return i("inline_error")({message:t})},inlineSuccess:function(t){return i("inline_success")({message:t})},i18n:function(){return this._i18n.translate.apply(this._i18n,arguments).string},cacheSave:function(t,e){this.cacheHash||(this.cacheHash={});var i={};return e=e||0,t=t||this.$(":input"),t.each(function(){i[n(this).attr("name")]=n(this).val()}),this.cacheHash[e]=i,this},cacheRestore:function(t){if(this.cacheHash){t=t||0;var e=this.cacheHash[t];if(e)for(var n in e)this.$(":input[name="+n+"]").val(e[n]);return this}},cacheClear:function(t){return this.cacheHash?(t=t||0,this.cacheHash[t]=null,this):void 0},renderView:function(e,n){var i=e;return n&&(i={},i[e]=n),t.each(i,function(t,e){t.setElement(this.$(e)).render()},this),this},validateForm:function(e,i){var s,o=e.find("input").filter(function(t){return!n(t).data("validate")});this.formErrors=[],e.find(".vf-error-message").remove(),e.find(".vf-error").removeClass("vf-error");var a=this,l=function(e,n){var i=t.rest(arguments,2);if("password"==n&&i.push(8),r[n]&&!r[n].apply(r,i)){i.shift();var o=r.errorMessage(n,i);a.formErrors.push(o),e.after(a.inlineError(o)).addClass("vf-error"),s=!0}},c=e.find("[data-validate=oldPassword]"),u=e.find("[data-validate=email]");i&&u.length&&l(c,"modemail",c.val());var h=e.find("[data-validate=confirmPassword]"),d=e.find("[data-validate=newPassword]");return h.length&&""!==h.val()||d.length&&""!==d.val()||!i&&c.length&&""!==c.val()&&h.length&&d.length?(l(h,"confirmPassword",h.val(),d.val()),h.attr("data-validate","password"),d.attr("data-validate","password")):(o=o.filter(function(){return this!=h[0]&&this!=d[0]}),i===!1&&(o=o.filter(function(){return this!=c[0]}))),o.each(function(){var t=n(this),e=t.val(),i=t.data("validate");i&&l(t,i,e)}),h.length&&(h.attr("data-validate","confirmPassword"),d.attr("data-validate","newPassword")),!s},parsePath:function(t){return this.locations.parsePath(t)},removeMessages:function(){this.$el.find(".vf-error-message, .vf-success-message").remove()},showServerErrors:function(e){var n=this;this.$el.find(".vf-error-message").remove(),e&&t.each(e,function(t,e){n.$('[name="vf_'+e+'"]').after(n.inlineError(t))})},subStringLastWord:function(t,e,n){if(n=n||15,t.length<e)return t;for(var i=e,r=0;i>1&&" "!=t[i]&&r++<n;)i--;return r>=n&&(i=e),t.substring(0,i)},insertSubViews:function(t){return t=t||{},this.$("div").each(function(e,i){var r=n(i),s=r.data();t[s.view]&&(r.replaceWith(t[s.view].el),t[s.view].render())}),this},templateOnly:function(){var e=n(i(t.result(this,"templateName")).apply(this,arguments));this.$el.replaceWith(e),this.setElement(e),"object"==typeof this.subviews&&this.insertSubViews.call(this,this.subviews)},remove:function(){n.fn.tipsy.revalidate(),this.undelegateEvents(),this.$el.removeData().unbind(),t.each(this.views,function(t,e){t.remove()}),e.View.prototype.remove.call(this)}}));return l}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(23),n(1),n(10),n(17)],r=function(t,e,n,i){return function(){function r(t){var e=this;return this._defaultFn=t,function(t,n){return e._defaultFn(t,n)}}var s=function(e){if(e instanceof Array)for(var n=e.length;n--;)t.templates[e[n]]&&t.registerPartial(e[n],t.templates[e[n]]);else if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&t.templates[e[i]]&&t.registerPartial(i,t.templates[e[i]])},o=new r(function(e,n){return n&&s(n),t.templates[e]});o.format=function(e){e=t.Utils.escapeExpression(e);var n=(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1 <br> $2");return n};var a=function(t,e,n,i){i=i||"";for(var r=1;3>r;r++){var s=n.length-r;if("("===t[0]&&")"===n[s]){i=n.substr(s)+i,n=n.substr(0,s);break}}return t+'<a href="'+n+'" target="_blank">'+e+"</a>"+i};return o.formatLinks=function(t){var e,n,i,r=o.format(t);return e=/(^|.)((https?|ftp):\/\/[\-A-Z0-9+&@#\/%?=~_|!:,.;\(\)]*[\(\)\-A-Z0-9+&@#\/%=~_|])/gim,r=r.replace(e,function(t,e,n){return a(e,n,n)}),n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,r=r.replace(n,function(t,e,n,i){return a(e,n,"http://"+n,i)}),i=/(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6})/gim,r=r.replace(i,'<a href="mailto:$1">$1</a>')},t.registerHelper("addTracking",function(t,e,n){var r=i.parseUri(t);r.queryKey.__vfz=encodeURIComponent(e+"="+(n||""));var s=i.stringifyUriPath(r),o=s.indexOf("?"),a=s.substring(0,o),l=t.indexOf(a);return t.substring(0,l)+s}),t.registerHelper("withFirstDefined",function(){var t,n,i=e.makeArray(arguments),r=i.pop(),s=i;for(t=0,n=s.length;n>t;t++)if("undefined"!=typeof s[t])return r.fn(s[t])}),t.registerHelper("format",o.format),t.registerHelper("formatLinks",o.formatLinks),t.registerHelper("isEqual",function(t,e,n){return t===e?n.fn(this):n.inverse(this)}),t.registerHelper("anyEqual",function(t){var e=[].slice.call(arguments,1),i=n(arguments).last();for(var r in e)if(t===e[r])return i.fn(this);return i.inverse(this)}),t.registerHelper("isNot",function(t,e,n){return t!==e?n.fn(this):n.inverse(this)}),o}()}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(17)],r=function(t){var e={getTimeLeftWords:function(e,n){var i,r=t.getTimeLeft(e,n),s=1e3,o=6e4,a=36e5;if(0>r)return"0 "+this.i18n("seconds");if(10*s>=r)return i=Math.ceil(r/s),i+" "+this.i18n("second_s",i);if(50*s>=r)return 10*Math.ceil(r/(10*s))+" "+this.i18n("seconds");if(15*o>=r)return i=Math.ceil(r/o),i+" "+this.i18n("minute_s",i);if(55*o>=r)return 5*Math.ceil(r/5/o)+" "+this.i18n("minutes");if(12*a>=r){var l=Math.floor(r/a),c=15*Math.round(r%a/15/o);return 60==c?(l++,c=0,l+" "+this.i18n("hour_s",l)):l+" "+this.i18n("hour_s",l)+" and "+c+" "+this.i18n("minutes")}return 23*a>=r?Math.round(r/a)+" "+this.i18n("hours"):r>23*a?(i=Math.round(r/(24*a)),i+" "+this.i18n("day_s",i)):void 0},getRelativeTime:function(t,e){e=e||new Date;var n=e-1e3*t,i=6e4;if(i>n)return this.i18n("time_now");var r=null,s={millisecond:1,second:1e3,minute:60,hour:60,day:24,month:30,year:12};for(var o in s){if(n<s[o])break;r=o,n/=s[o]}return n=Math.floor(n),1!==n&&(r+="s"),this.i18n("relative_date",n,this.i18n(r))}};return e}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[],r=function(){return{socialLogin:function(t,e){return n(7).loginManager.socialLogin(t,e)},oAuthLogin:function(){return n(7).loginManager.oAuthLogin.openWindow()}}}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(10),n(32)],r=function(t,e,n){var i={fetchShare:function(i){i=i||{},e.defaults(i,{id:this.parseHash()});var r=t.Deferred(),s=i.id,o=i.type,a=i.page;return!s&&0!==s||s===i.avoid?(r.reject(),r.promise()):(this.model=new n({id:s,page:a}),this.model.getThread({success:function(t){if(0===t.length)return this.clearShare(),void r.reject();var e=t.models[0];a&&e.page.id!==a.id?(this.clearShare(),r.reject()):o&&e.has("type")&&e.get("type")!==o?(this.clearShare(),r.reject()):r.resolve(t)}.bind(this),error:function(){r.reject()}.bind(this)}),r.promise())},parseHash:function(){var t=window.location.hash.match(/^#vf-(\d+)/);if(t&&t.length>1){var e=parseInt(t[1],10);if("number"==typeof e)return e}return!1},setShare:function(t){var e="";t&&(e="vf-"+t),""!==e?window.location.hash=e:window.location.hash=window.location.hash.split("vf-")[0]},clearShare:function(){this.setShare()}};return i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(1),n(60),n(11),n(17),n(66)],r=function(t,e,n,i,r,s){return n.extend({className:"vf-modal",templateName:function(){return"desktop"===this.style?"modal_desktop":"mobile"===this.style?"modal_mobile":"modal"},mixins:[s],events:{"click .vf-modal-close":"closeModal","touchmove .vf-scrollable-menu-container":"scrollMenu","scroll .vf-scrollable-menu-container":"scrollMenu","scrollstop .vf-scrollable-menu-container":"scrollMenu"},initialize:function(){this.events=i,this.settings=this.domainSettings,this.listenTo(i,"/modal/generic",this.renderSubView),this.listenTo(i,"/modal/close",this.closeModal),e(window).resize(this.onWindowResize.bind(this)),this.active_view="",this.containers={}},render:function(){return this.containers[this.style]||(this.containers[this.style]=e(this.template()).appendTo(this.el)),this.$container=this.containers[this.style],this.$modal=this.$container.find(".vf-modal,.vf-share-modal"),this.$modal.toggleClass("vf-mobile",r.isMobile()),this.$modal.scrollMenuContainer=this.$modal.find(".vf-scrollable-menu-container"),this.$inner_modal=this.$modal.find(".vf-inner-modal-content"),this.$subview=this.$container.find(".vf-modal-subview-content"),this.$modal.click(function(t){t.stopPropagation()}),this.$body.on("keyup.modal",this.keyup.bind(this)),this.$(".vf-modal-close").click(this.closeModal.bind(this)),this.active_view&&this.$subview.html(this.active_view.render(this.settings.toJSON()).el),this},onWindowResize:function(){this.centerElement()},renderSubView:function(e,n){this.closeModal(void 0,function(){n=t.extend({style:"old"},n),this.style=n.style,this.active_view=e,this.render().showModal(function(){n.complete&&t.isFunction(n.complete)&&n.complete(),this.centerElement();var e=this.$subview.find("input")[0];e&&e.focus()}.bind(this))}.bind(this))},centerElement:function(){var t,n=e(window),i=this.$inner_modal,s=0,o=0;return this.$modal&&!i.outerWidth()&&r.getIEVersion()<=8&&0!==r.getIEVersion()?t=this.$modal:i&&i.length>0&&(t=i,s=n.scrollTop(),o=n.scrollLeft()),t&&(s+=(n.height()-t.outerHeight())/2,o+=(n.width()-t.outerWidth())/2,t.css({top:s,left:o})),this},closeModal:function(t,n){if(!t||0===t.button){t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),e(document).off("click.modal");var i=window.pageYOffset;this.$el.removeClass("vf-no-scroll"),this.$modal&&this.$modal.hasClass("vf-modal-fullscreen")&&(t?e(window).scrollTop(this.$el.prevYOffset):e(window).scrollTop(i)),this.hideModal(void 0,n)}},showModal:function(n){return this.$modal.hasClass("vf-modal-fullscreen")&&(this.$el.prevYOffset=window.pageYOffset,this.$el.addClass("vf-no-scroll").css({top:-Math.abs(this.$el.prevYOffset)})),this.$modal.fadeIn(1,function(){n&&t.isFunction(n)&&n(),e(document).on("click.modal",function(t){this.closeModal(t)}.bind(this))}.bind(this)),this},clickModal:function(){this.hideModal()},keyup:function(t){27===t.which&&this.hideModal()},removeModal:function(){this.active_view&&(this.active_view.remove(),this.active_view=null)},hideModal:function(t,n){this.$body.off(".modal"),e(document).off(".modal"),this.$modal?t?(this.$modal.hide(),this.removeModal(),n&&n()):this.$modal.fadeOut(this.removeModal.bind(this),n):n&&n()},scrollMenu:function(){this.onMenuScroll()},scrollUp:function(){this.onScrollUp()},scrollDown:function(){this.onScrollDown()}})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1)],r=function(t){var e={initScrollMenu:function(t){this.scrollMenu={$container:t,$menu:t.find(".vf-scrollable-menu"),$scrollUp:t.siblings("button.up"),$scrollDown:t.siblings("button.down")},this.scrollMenu.$scrollUp.click(this.onScrollUp.bind(this)),this.scrollMenu.$scrollDown.click(this.onScrollDown.bind(this)),this.scrollMenu.$menu.on("touchmove",this.onMenuScroll.bind(this)),this.toggleScrollIcons.bind(this),this.getScrollPosition.bind(this)},onMenuScroll:function(t){var e=this.getScrollPosition(),n=.5*this.scrollMenu.$menu.find("li").height();this.toggleScrollIcons(this.setScrollDirection(e.scrollPosition,n,e.overflowBottom))},toggleScrollIcons:function(t){var e="visible",n="visible";switch(t){case"up":n="hidden";break;case"down":e="hidden"}this.scrollMenu.$scrollUp.css("visibility",e),this.scrollMenu.$scrollDown.css("visibility",n)},setScrollDirection:function(t,e,n){return 0===t?"down":n>0&&n-e>=0?t>n-e?"up":e>t?"down":"both":"up"},onScrollUp:function(){var t=this.getScrollPosition(),e=t.scrollPosition,n=.2*this.scrollMenu.$menu.height();this.scrollMenu.$container.scrollTop(Math.max(e-n,0));var i="both";0>e-n&&(i="down"),this.toggleScrollIcons(i)},onScrollDown:function(){var t=this.getScrollPosition(),e=t.scrollPosition,n=t.overflowBottom,i=.2*this.scrollMenu.$menu.height();this.scrollMenu.$container.scrollTop(Math.min(e+i,n));var r="both";e+i>n&&(r="up"),this.toggleScrollIcons(r)},getScrollPosition:function(){return{scrollPosition:this.scrollMenu.$container[0].scrollTop,overflowBottom:this.scrollMenu.$menu.height()-(this.scrollMenu.$container.height()+parseInt(this.scrollMenu.$container.css("border-bottom-width").replace(/px/,"")))}}};return e}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(17),n(47)],r=function(t,e,n){return{isSelf:function(t,n){try{if(n.isGuest()&&"1"===t.user_anonymous)return!0;if("awaiting_moderation"===t.status&&!n.isModOrAdmin())return!0;var i;switch(t.event_type){case"comment.liked":case"comment.unliked":case"comment.disliked":case"comment.undisliked":case"content.share":i="actor_uuid";break;default:i="user_uuid"}return!(!n||!t||e.toUuid(n.id)!==t[i])}catch(r){return!1}},initRealtime:function(){this.subscriptions=[],this.listenTo(n,"content",this.filterRealtimeUpdate),this.subscribeRealtime()},subscribeRealtime:function(){t.forEach(t.result(this,"realtimeFilters"),function(t,e){parseInt(e)==e&&(e=void 0),this.subscriptions.push(n.subscribe(t,e))}.bind(this))},unsubscribeRealtime:function(){t.forEach(this.subscriptions,function(t){this.subscriptions.push(n.unsubscribe(t))}.bind(this))},filterRealtimeUpdate:function(e){e&&e.filter_id&&t.contains(this.subscriptions,e.filter_id)&&this.realtimeUpdate(e)}}}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(7),n(11),n(65),n(71),n(72),n(69),n(73),n(74)],r=function(t,e,i,r,s,o,a,l){ModalEvents={showLogin:function(){t.current.user.id||0!==t.current.settings.attributes.disable_widget_logins||(1===t.current.settings.get("authprovider_viafoura_enabled")?e.trigger("/modal/generic",new r):0===t.current.settings.get("authprovider_viafoura_enabled")&&e.trigger("/modal/generic",new s))},showAccount:function(i){i.id==t.current.user.id&&(i=t.current.user),n.e(1,function(t){var r=n(108);e.trigger("/modal/generic",new r({model:i}))})},showSignup:function(){0===t.current.settings.attributes.disable_widget_logins&&e.trigger("/modal/generic",new o)},showForgotPassword:function(){e.trigger("/modal/generic",new a)}},e.on("/user/login/click",ModalEvents.showLogin),e.on("onLoginRequired",ModalEvents.showLogin),e.on("/user/signup/click",ModalEvents.showSignup),e.on("/user/account/click",ModalEvents.showAccount),e.on("/user/forgot_password/click",ModalEvents.showForgotPassword)}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(1),n(60),n(27),n(7),n(11),n(70)],r=function(t,e,n,i,r,s,o){var a=n.extend({templateName:"signup",events:{"click .vf-login":"showLogin"},initialize:function(){this.listenTo(s,"/user/login/social/fail",this.onSocialLoginFail),this.listenTo(s,"/user/login/social/cancel",this.onSocialCancel),this.listenTo(s,"/user/login/fail",this.onSocialCancel),this.listenTo(s,"/user/login/social/error",this.onSocialError)},render:function(){return this.pubsub=s,this.$el.html(this.template(r.current.settings.toJSON(),"signup",["login_options"])),this.delegateEvents(),this.$(".vf-signup-form").submit(this.signupSubmit.bind(this)),this},showLogin:function(t){t.preventDefault(),s.trigger("/user/login/click")},signupSubmit:function(t){t&&t.preventDefault();var n=this.$el.find(".vf-signup-form"),i={};this.validateForm(n)&&(e.each(n.serializeArray(),function(t,e){i[e.name.replace(/vf_/,"")]=e.value}),s.trigger("/user/create",i,{error:this.showErrors.bind(this)}))},showErrors:function(t){this.showServerErrors(t.validation_errors)},onSocialLoginFail:function(t){this.showServerErrors({password:t}),this.hideDisable()},onSocialError:function(t){this.hideDisable(),this.showServerErrors({password:t})},onSocialCancel:function(){this.hideDisable()}});return t.extend(a.prototype,o.methods),t.extend(a.prototype.events,o.events),a}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(12),n(1),n(4)],r=function(t,e,n){return{events:{"click .vf-viafoura-login":"viafouraLogin","click .vf-oauth-login":"oauthLogin","click .vf-facebook-login":"facebookLogin","click .vf-google-login":"googleLogin","click .vf-linkedin-login":"linkedinLogin","click .vf-twitter-login":"twitterLogin","click .vf-windowslive-login":"windowsLiveLogin","click .vf-yahoo-login":"yahooLogin","click .vf-aol-login":"aolLogin","click .vf-paypal-login":"paypalLogin","click .vf-qq-login":"qqLogin"},methods:{viafouraLogin:function(t){t.preventDefault()},oauthLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-oauth-login")&&(this.showDisable(".vf-oauth-login"),this.oAuthLogin())},facebookLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-facebook-login")&&(this.showDisable(".vf-facebook-login"),this.socialLogin("facebook"))},aolLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-aol-login")&&(this.showDisable(".vf-aol-login"),this.socialLogin("aol"))},googleLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-google-login")&&(this.showDisable(".vf-google-login"),this.socialLogin("google"))},linkedinLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-linkedin-login")&&(this.showDisable(".vf-linkedin-login"),this.socialLogin("linkedin"))},twitterLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-twitter-login")&&(this.showDisable(".vf-twitter-login"),this.socialLogin("twitter"))},windowsLiveLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-windowslive-login")&&(this.showDisable(".vf-windowslive-login"),this.socialLogin("live_id"))},yahooLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-yahoo-login")&&(this.showDisable(".vf-yahoo-login"),this.socialLogin("yahoo"))},paypalLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-paypal-login")&&(this.showDisable(".vf-paypal-login"),this.socialLogin("paypal"))},qqLogin:function(t){t.preventDefault(),this.isLoginEnabled(".vf-qq-login")&&(this.showDisable(".vf-qq-login"),this.socialLogin("qq"))},isLoginEnabled:function(t){return!this.$(t).hasClass("vf-disabled")},showDisable:function(t){this.hideDisable(),this.$(".vf-social-button, .vf-social-logins a").not(".vf-viafoura-login").addClass("vf-disabled"),this.domainSettings.isEnabled("authprovider_viafoura_enabled")?this.$(t).loader("show",{position:"right",gifType:"gray"}):this.$el.find(".vf-social-login-modal")[0]?(this.$(t).addClass("vf-social-clicked"),this.$(".vf-extras-area").loader("show",{loaderSize:"large",inside:!0,gifType:"whitelarge"})):this.$(t).loader("show")},isDisabled:function(){return 0!==this.$(".vf-disabled").length},hideDisable:function(){this.$(".vf-social-button, .vf-social-logins a").removeClass("vf-disabled vf-social-clicked").each(function(){e(this).loader("hide")}),this.$(".vf-extras-area")[0]&&this.$(".vf-extras-area").html("<hr>").loader("hide")}}}}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(60),n(7),n(11),n(70)],r=function(t,e,n,i,r){var s=e.extend({templateName:"login",events:{"click .vf-forgot-password":"forgotPasswordClicked","click .vf-signup":"signupClicked"},initialize:function(e){t.bindAll(this,"onFormError","loginError","loginSuccess"),this.settings=n.current.settings,this.listenTo(i,"/user/login/social/fail",this.onSocialLoginFail),this.listenTo(i,"/user/login/social/cancel",this.onSocialCancel),this.listenTo(i,"/user/login/fail",this.onSocialCancel),this.listenTo(i,"/user/login/social/error",this.onSocialError)},render:function(){return this.lockSubmit=!1,this.$el.html(this.template(this.settings.toJSON(),"login",["login_options"])),this.$("form").submit(this.submitForm.bind(this)),this.delegateEvents(),this},forgotPasswordClicked:function(t){t.preventDefault(),i.trigger("/user/forgot_password/click")},signupClicked:function(t){t.preventDefault(),i.trigger("/user/signup/click")},submitForm:function(t){t&&t.preventDefault();var e=this.$("form");if(this.lockSubmit===!1)if(this.validateForm(e)){this.lockSubmit=!0;var n=e.serializeObject();i.trigger("/user/login",n.vf_email,n.vf_password,{error:this.loginError,success:this.loginSuccess})}else for(var r=0;r<this.formErrors.length;r++)this.onFormError(this.formErrors[r]);return!1},onFormError:function(t){i.trigger("/user/login/fail",t)},loginError:function(t){this.lockSubmit=!1,this.$(".vf-password-input").after(this.inlineError(t.error)),i.trigger("/user/login/fail",t.error)},loginSuccess:function(){this.lockSubmit=!1},onSocialLoginFail:function(t){this.showServerErrors({password:t}),this.hideDisable()},onSocialError:function(t){this.hideDisable(),this.showServerErrors({password:t})},onSocialCancel:function(){this.hideDisable()}});return t.extend(s.prototype,r.methods),t.extend(s.prototype.events,r.events),s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(60),n(7),n(11),n(70)],r=function(t,e,n,i,r){var s=e.extend({templateName:"social_login",events:{},initialize:function(e){t.bindAll(this,"loginError"),this.settings=n.current.settings,this.listenTo(i,"/user/login/social/fail",this.loginError),this.listenTo(i,"/user/login/social/cancel",this.onSocialCancel),this.listenTo(i,"/user/login/fail",this.loginError),this.listenTo(i,"/user/login/social/error",this.loginError)},render:function(){return this.$el.html(this.template(this.settings.toJSON(),"social_login")),this},loginError:function(t){this.hideDisable(),this.$(".vf-extras-area").empty().html(this.inlineError(t))},onSocialCancel:function(){this.hideDisable()}});return t.extend(s.prototype,r.methods),t.extend(s.prototype.events,r.events),s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(1),n(60),n(28),n(27),n(7),n(11)],r=function(t,e,n,i,r,s,o){return n.extend({templateName:"forgot",events:{"click .vf-login":"showLogin","submit form":"submitForgotPassword"},render:function(){return this.$el.html(this.template(s.current.settings.toJSON())),t.bindAll(this,"showErrors","showSuccess"),this.delegateEvents(),this.$form=this.$el.find("form"),this.$email=this.$form.find(".vf-username-input"),this},showLogin:function(t){t.preventDefault(),o.trigger("/user/login/click")},submitForgotPassword:function(t){t&&t.preventDefault();var n=this.$form,i={};this.removeMessages(),this.validateForm(n)&&(e.each(n.serializeArray(),function(t,e){i[e.name.replace(/vf_/,"")]=e.value}),this.restAPI.request({verb:"post",route:"account/password",data:{email:i.email},success:this.showSuccess,error:this.showErrors}))},showErrors:function(t){this.showServerErrors(t.validation_errors)},showSuccess:function(){this.$(".vf-username-input").val(""),this.removeMessages(),this.$(".vf-form").prepend(this.inlineSuccess(this.i18n("forgot_success_msg")))}})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;i=[n(23)],r=function(t){var e=t.template,n=t.templates=t.templates||{};return n.account=e(function(t,e,n,i,r){function s(t,e){var i,r,s,a="";return a+='\n                    <li><i class="vf-videostar vf-tip ',s={hash:{},inverse:b.noop,fn:b.program(2,o,e),data:e},i=n.isEqual||t.isEqual,r=i?i.call(t,(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.videostar),0,s):w.call(t,"isEqual",(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.videostar),0,s),(r||0===r)&&(a+=r),a+='" data-title="videostar" data-template="dialog"></i></li>\n                    '}function o(t,e){return"vf-disabled"}function a(t,e){var i,r,s,a="";return a+='\n                    <li><i class="vf-authoritative vf-tip ',s={hash:{},inverse:b.noop,fn:b.program(2,o,e),data:e},i=n.isEqual||t.isEqual,r=i?i.call(t,(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.authoritative),0,s):w.call(t,"isEqual",(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.authoritative),0,s),(r||0===r)&&(a+=r),a+='" data-title="authoritative" data-template="dialog"></i></li>\n                    '}function l(t,e){var i,r,s,a="";return a+='\n                    <li><i class="vf-active vf-tip ',s={hash:{},inverse:b.noop,fn:b.program(2,o,e),data:e},i=n.isEqual||t.isEqual,r=i?i.call(t,(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.active),0,s):w.call(t,"isEqual",(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.active),0,s),(r||0===r)&&(a+=r),a+='" data-title="active" data-template="dialog"></i></li>\n                    '}function c(t,e){var i,r,s,a="";return a+='\n                    <li><i class="vf-connected vf-tip ',s={hash:{},inverse:b.noop,fn:b.program(2,o,e),data:e},i=n.isEqual||t.isEqual,r=i?i.call(t,(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.connected),0,s):w.call(t,"isEqual",(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.connected),0,s),(r||0===r)&&(a+=r),a+='" data-title="connected" data-template="dialog"></i></li>\n                    '}function u(t,e){var i,r,s,a="";return a+='\n                    <li><i class="vf-engaged vf-tip ',s={hash:{},inverse:b.noop,fn:b.program(2,o,e),data:e},i=n.isEqual||t.isEqual,r=i?i.call(t,(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.engaged),0,s):w.call(t,"isEqual",(i=t.user,i=null==i||i===!1?i:i.badges,null==i||i===!1?i:i.engaged),0,s),(r||0===r)&&(a+=r),a+='" data-title="engaged" data-template="dialog"></i></li>\n                    '}function h(t,e){var i,r,s="";return s+="<li><a class='vf-videos vf-is-selection' href='#' data-container='vf-video-container'>",r={hash:{},data:e},s+=_((i=n.i18n||t.i18n,i?i.call(t,"videos",r):w.call(t,"i18n","videos",r)))+"</a></li>"}function d(t,e){var i,r,s="";return s+="<li><a class='vf-images vf-is-selection' href='#' data-container='vf-images-container'>",r={hash:{},data:e},s+=_((i=n.i18n||t.i18n,i?i.call(t,"images",r):w.call(t,"i18n","images",r)))+"</a></li>"}function f(t,e){var i,r,s="";return s+="<li class=\"vf-right\"><a class='vf-settings vf-is-selection' href='#' data-container='vf-settings-container'>",r={hash:{},data:e},s+=_((i=n.i18n||t.i18n,i?i.call(t,"settings_lnk",r):w.call(t,"i18n","settings_lnk",r)))+"</a></li>"}function p(t,e){var r,s="";return s+="<div class='vf-settings-container vf-is-content'>",r=b.invokePartial(i.settings,"settings",t,n,i,e),(r||0===r)&&(s+=r),s+="</div>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=this.merge(i,t.partials),r=r||{};var g,v,m,y="",b=this,w=n.helperMissing,_=this.escapeExpression,x="function";return y+="<div class='vf-user-profile'>\n    <div class='vf-header vf-clearfix'>\n        <div class='vf-comment-user' data-id='"+_((g=e.user,g=null==g||g===!1?g:g.id,typeof g===x?g.apply(e):g))+"'>\n            <a class='vf-avatar-container' href='javascript:void(0);'>\n                <img class='vf-avatar' src='"+_((g=e.user,g=null==g||g===!1?g:g.pic_small,typeof g===x?g.apply(e):g))+"' alt='"+_((g=e.user,g=null==g||g===!1?g:g.name,typeof g===x?g.apply(e):g))+"'>\n            </a>\n        </div>\n        <div class='vf-user-info vf-clearfix'>\n            <div class=\"vf-left\">\n                <div class='vf-username'>"+_((g=e.user,g=null==g||g===!1?g:g.name,typeof g===x?g.apply(e):g))+"</div>\n                <div>",m={hash:{},data:r},y+=_((g=n.i18n||e.i18n,g?g.call(e,"rank_count",m):w.call(e,"i18n","rank_count",m)))+" <span class='vf-rank'>"+_((g=e.user,g=null==g||g===!1?g:g.rank_overall,typeof g===x?g.apply(e):g))+"</span></div>\n                <div>",m={hash:{},data:r},y+=_((g=n.i18n||e.i18n,g?g.call(e,"likes_stat",(g=e.user,null==g||g===!1?g:g.likes_received),m):w.call(e,"i18n","likes_stat",(g=e.user,null==g||g===!1?g:g.likes_received),m)))+" <span class='vf-count-likes'>"+_((g=e.user,g=null==g||g===!1?g:g.likes_received,typeof g===x?g.apply(e):g))+"</span></div>\n                <ul class='vf-achievements'>\n                    ",v=n["if"].call(e,(g=e.settings,null==g||g===!1?g:g.badging_videostar_display),{hash:{},inverse:b.noop,fn:b.program(1,s,r),data:r}),(v||0===v)&&(y+=v),y+="\n                    ",v=n["if"].call(e,(g=e.settings,null==g||g===!1?g:g.badging_authoritative_display),{hash:{},inverse:b.noop,fn:b.program(4,a,r),data:r}),(v||0===v)&&(y+=v),y+="\n                    ",v=n["if"].call(e,(g=e.settings,null==g||g===!1?g:g.badging_active_display),{hash:{},inverse:b.noop,fn:b.program(6,l,r),data:r}),(v||0===v)&&(y+=v),y+="\n                    ",v=n["if"].call(e,(g=e.settings,null==g||g===!1?g:g.badging_connected_display),{hash:{},inverse:b.noop,fn:b.program(8,c,r),data:r}),(v||0===v)&&(y+=v),y+="\n                    ",v=n["if"].call(e,(g=e.settings,null==g||g===!1?g:g.badging_engaged_display),{hash:{},inverse:b.noop,fn:b.program(10,u,r),data:r}),(v||0===v)&&(y+=v),y+='\n                </ul>\n            <div class="vf-subscribe-wrap">\n                <a data-id="'+_((g=e.user,g=null==g||g===!1?g:g.id,typeof g===x?g.apply(e):g))+"\" class='vf-subscribe vf-btn vf-tip' href='#' data-title=\"subscribe-user\">",m={hash:{},data:r},y+=_((g=n.i18n||e.i18n,g?g.call(e,"subscribe_btn",m):w.call(e,"i18n","subscribe_btn",m)))+"</a>\n            </div>\n            </div>\n            <ul class='vf-user-meta vf-right vf-clearfix'>\n                <li><div class='vf-user-comments vf-count'>"+_((g=e.user,g=null==g||g===!1?g:g.comments_made,typeof g===x?g.apply(e):g))+"</div>",m={hash:{},data:r},
y+=_((g=n.i18n||e.i18n,g?g.call(e,"comments",m):w.call(e,"i18n","comments",m)))+"</li>\n                <li><div class='vf-user-videos vf-count'>"+_((g=e.user,g=null==g||g===!1?g:g.video_comments_made,typeof g===x?g.apply(e):g))+"</div>",m={hash:{},data:r},y+=_((g=n.i18n||e.i18n,g?g.call(e,"videos",m):w.call(e,"i18n","videos",m)))+"</li>\n                <li><div class='vf-user-images vf-count'>"+_((g=e.user,g=null==g||g===!1?g:g.picture_comments_made,typeof g===x?g.apply(e):g))+"</div>",m={hash:{},data:r},y+=_((g=n.i18n||e.i18n,g?g.call(e,"images",m):w.call(e,"i18n","images",m)))+"</li>\n            </ul>\n        </div>\n    </div>\n    <ul class='vf-account-options vf-tabs vf-clearfix'>\n        <li class='vf-current'><a class='vf-comments vf-is-selection' href='#' data-container='vf-text-container'>",m={hash:{},data:r},y+=_((g=n.i18n||e.i18n,g?g.call(e,"comments",m):w.call(e,"i18n","comments",m)))+"</a></li>\n        ",v=n["if"].call(e,(g=e.user,null==g||g===!1?g:g.video_comments_made),{hash:{},inverse:b.noop,fn:b.program(12,h,r),data:r}),(v||0===v)&&(y+=v),y+="\n        ",v=n["if"].call(e,(g=e.user,null==g||g===!1?g:g.picture_comments_made),{hash:{},inverse:b.noop,fn:b.program(14,d,r),data:r}),(v||0===v)&&(y+=v),y+="\n        ",v=n["if"].call(e,e.showSettings,{hash:{},inverse:b.noop,fn:b.program(16,f,r),data:r}),(v||0===v)&&(y+=v),y+="\n    </ul>\n</div>\n<div class='vf-user-content vf-content-views'>\n    <div class='vf-text-container vf-is-content vf-current'></div>\n    <div class='vf-video-container vf-is-content'></div>\n    <div class='vf-images-container vf-is-content'></div>\n    ",v=n["if"].call(e,e.showSettings,{hash:{},inverse:b.noop,fn:b.program(18,p,r),data:r}),(v||0===v)&&(y+=v),y+="\n</div>\n"}),n.forgot=e(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,o,a="",l=n.helperMissing,c=this.escapeExpression;return a+="<div class='vf-password-retrieval'>\n	<div class='vf-header'>\n		<div class='vf-modal-title'>",o={hash:{},data:r},a+=c((s=n.i18n||e.i18n,s?s.call(e,"forgot_password_lnk",o):l.call(e,"i18n","forgot_password_lnk",o)))+":</div>\n	</div>\n	<div class='vf-forms'>\n		<form action=''>\n			<div class='vf-form'>\n				<div class=\"vf-block\">\n					<a class='vf-link vf-login' href='#'>",o={hash:{},data:r},a+=c((s=n.i18n||e.i18n,s?s.call(e,"login_goto_lnk",o):l.call(e,"i18n","login_goto_lnk",o)))+"</a>\n				</div>\n				<div class='vf-form-title'>",o={hash:{},data:r},a+=c((s=n.i18n||e.i18n,s?s.call(e,"forgot_password_txt",o):l.call(e,"i18n","forgot_password_txt",o)))+"</div>\n				<label for='vf_email'>",o={hash:{},data:r},a+=c((s=n.i18n||e.i18n,s?s.call(e,"email_lbl",o):l.call(e,"i18n","email_lbl",o)))+"</label>\n				<input name='vf_email' type='text' class='vf-username-input' placeholder=\"",o={hash:{},data:r},a+=c((s=n.i18n||e.i18n,s?s.call(e,"email_placeholder",o):l.call(e,"i18n","email_placeholder",o)))+"\" tabIndex='1' data-validate=\"email\">\n				<div class='vf-form-actions'>\n					<input type='submit' class='vf-submit-button' tabIndex='4' value='",o={hash:{},data:r},a+=c((s=n.i18n||e.i18n,s?s.call(e,"forgot_password_btn",o):l.call(e,"i18n","forgot_password_btn",o)))+"'>\n				</div>\n			</div>\n		</form>\n	</div>\n</div>"}),n.login=e(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=this.merge(i,t.partials),r=r||{};var s,o,a,l="",c=n.helperMissing,u=this.escapeExpression,h=this;return l+="<div class='vf-user-login'>\n    <div class='vf-header'>\n        <div class='vf-modal-title'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"login_select_hdr",a):c.call(e,"i18n","login_select_hdr",a)))+":</div>\n    </div>\n    <div class='vf-sidebar'>\n        ",o=h.invokePartial(i.login_options,"login_options",e,n,i,r),(o||0===o)&&(l+=o),l+="\n    </div>\n    <div class='vf-content'>\n        <form action=''>\n            <div class='vf-form'>\n\n                <div class=\"vf-block\">\n                    <a href='#' class='vf-link vf-signup'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"signup_goto_lnk",a):c.call(e,"i18n","signup_goto_lnk",a)))+"</a>\n                </div>\n\n                <div class='vf-form-title'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"login_lbl",a):c.call(e,"i18n","login_lbl",a)))+"</div>\n                <label for='vf_email'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"email_lbl",a):c.call(e,"i18n","email_lbl",a)))+"</label>\n                <input name='vf_email' type='text' class='vf-username-input' placeholder=\"",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"email_placeholder",a):c.call(e,"i18n","email_placeholder",a)))+"\" tabIndex='1'>\n                <label for='vf_password'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"password_lbl",a):c.call(e,"i18n","password_lbl",a)))+"</label>\n                <input name='vf_password' type='password' class='vf-password-input' placeholder=\"",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"password_placeholder",a):c.call(e,"i18n","password_placeholder",a)))+"\" tabIndex='2'>\n\n                <div class=\"vf-block\">\n                    <a href='#' class='vf-link vf-forgot-password'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"forgot_password_lnk",a):c.call(e,"i18n","forgot_password_lnk",a)))+"</a>\n                </div>\n\n                <div class='vf-form-actions'>\n                    <input type='submit' class='vf-submit-button' tabIndex='4' value='",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"login_btn",a):c.call(e,"i18n","login_btn",a)))+"'>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>"}),n.login_options=e(function(t,e,n,i,r){function s(t,e){return"\n    <li><a href='#' class='vf-viafoura-login vf-current vf-social-button'><span class=\"vf-social-icon\"></span>Viafoura</a>\n    </li>"}function o(t,e){var i,r="";return r+="\n    <li><a href='#' class='vf-oauth-login vf-social-button' id='vf-oauth-login'><span class=\"vf-social-icon\"></span>",(i=n.authprovider_oauth_display_name)?i=i.call(t,{hash:{},data:e}):(i=t.authprovider_oauth_display_name,i=typeof i===b?i.apply(t):i),r+=w(i)+"</a></li>\n    "}function a(t,e){return"\n    <li><a href='#' class='vf-facebook-login vf-social-button' id='vf-facebook-login'><span class=\"vf-social-icon\"></span><span>Facebook</span></a></li>\n    "}function l(t,e){return"\n    <li><a href='#' class='vf-google-login vf-social-button' id='vf-google-login'><span class=\"vf-social-icon\"></span>Google</a></li>\n    "}function c(t,e){return"\n    <li><a href='#' class='vf-twitter-login vf-social-button' id='vf-twitter-login'><span class=\"vf-social-icon\"></span>Twitter</a></li>\n    "}function u(t,e){return"\n    <li><a href='#' class='vf-aol-login vf-social-button' id='vf-aol-login'><span class=\"vf-social-icon\"></span>Aol</a></li>\n    "}function h(t,e){return"\n    <li><a href='#' class='vf-linkedin-login vf-social-button' id='vf-linkedin-login'><span class=\"vf-social-icon\"></span>LinkedIn</a></li>\n    "}function d(t,e){return"\n    <li><a href='#' class='vf-paypal-login vf-social-button' id='vf-paypal-login'><span class=\"vf-social-icon\"></span>PayPal</a></li>\n    "}function f(t,e){return"\n    <li><a href='#' class='vf-qq-login vf-social-button' id='vf-qq-login'><span class=\"vf-social-icon\"></span>Tencent QQ</a></li>\n    "}function p(t,e){return"\n    <li><a href='#' class='vf-tumblr-login vf-social-button' id='vf-tumblr-login'><span class=\"vf-social-icon\"></span>Tumblr</a></li>\n    "}function g(t,e){return"\n    <li><a href='#' class='vf-windowslive-login vf-social-button' id='vf-windowslive-login'><span class=\"vf-social-icon\"></span>Windows Live</a></li>\n    "}function v(t,e){return"\n    <li><a href='#' class='vf-yahoo-login vf-social-button' id='vf-yahoo-login'><span class=\"vf-social-icon\"></span>Yahoo!</a></li>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var m,y="",b="function",w=this.escapeExpression,_=this;return y+="<ul class='vf-login-options'>\n    ",m=n["if"].call(e,e.authprovider_viafoura_enabled,{hash:{},inverse:_.noop,fn:_.program(1,s,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_oauth_enabled,{hash:{},inverse:_.noop,fn:_.program(3,o,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_facebook_enabled,{hash:{},inverse:_.noop,fn:_.program(5,a,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_google_enabled,{hash:{},inverse:_.noop,fn:_.program(7,l,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_twitter_enabled,{hash:{},inverse:_.noop,fn:_.program(9,c,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_aol_enabled,{hash:{},inverse:_.noop,fn:_.program(11,u,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_linkedin_enabled,{hash:{},inverse:_.noop,fn:_.program(13,h,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_paypal_enabled,{hash:{},inverse:_.noop,fn:_.program(15,d,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_qq_enabled,{hash:{},inverse:_.noop,fn:_.program(17,f,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_tumblr_enabled,{hash:{},inverse:_.noop,fn:_.program(19,p,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_windowslive_enabled,{hash:{},inverse:_.noop,fn:_.program(21,g,r),data:r}),(m||0===m)&&(y+=m),y+="\n    ",m=n["if"].call(e,e.authprovider_yahoo_enabled,{hash:{},inverse:_.noop,fn:_.program(23,v,r),data:r}),(m||0===m)&&(y+=m),y+="\n</ul>\n"}),n.modal=e(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},"<div class='viafoura'>\n	<div class='vf-modal' style='display:none'>\n		<div class='vf-inner-modal vf-inner-modal-content'>\n			<a class='vf-modal-close' href='#'>&#215;</a>\n			<div class=\"vf-modal-subview vf-modal-subview-content\"></div>\n		</div>\n	</div>\n</div>\n"}),n.modal_desktop=e(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'<div class="viafoura">\n    <div class="vf-share-modal vf-modal-partial">\n        <span class="close vf-modal-close"></span>\n        <section class="vf-modal-subview-content"></section>\n    </div>\n</div>\n'}),n.modal_mobile=e(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'<div class="viafoura">\n    <div class="vf-share-modal vf-modal-fullscreen">\n        <span class="close vf-modal-close"></span>\n        <button class="up vf-scroll-icon"></button>\n        <section class="vf-scrollable-menu-container vf-modal-subview-content">\n        </section>\n        <button class="down vf-scroll-icon"></button>\n    </div>\n</div>\n'}),n.recorder=e(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,o="",a="function",l=this.escapeExpression;return o+="<div class='vf-video-recorder vf-bg'>\n	<div class='vf-header'>\n		\n	</div>\n	<div class='vf-recorder-container'>\n		<div class='vf-recorder' style='width: 368px; height: 218px;'><object\n                 classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'\n                 id='VideoRecorder'\n                 width='368'\n                 height='218'\n                 codebase='http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab'\n            ><param name='movie'\n                    value='",(s=n.swf_url)?s=s.call(e,{hash:{},data:r}):(s=e.swf_url,s=typeof s===a?s.apply(e):s),o+=l(s)+"'\n            ><param name='wmode'\n                    value='opaque'\n            ><param name='quality'\n                    value='high'\n            ><param name='bgcolor'\n                    value='#333333'\n            ><param name='flashvars'\n                    value='domain=",(s=n.domain)?s=s.call(e,{hash:{},data:r}):(s=e.domain,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;connectionString=",(s=n.connection)?s=s.call(e,{hash:{},data:r}):(s=e.connection,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;uploadComplete=",(s=n.uploadComplete)?s=s.call(e,{hash:{},data:r}):(s=e.uploadComplete,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;recordButtonClick=",(s=n.recordButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.recordButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;stopRecordButtonClick=",(s=n.stopRecordButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.stopRecordButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;previewButtonClick=",(s=n.previewButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.previewButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;saveButtonClick=",(s=n.saveButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.saveButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;redoButtonClick=",(s=n.redoButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.redoButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;recorderFailure=",(s=n.recorderFailure)?s=s.call(e,{hash:{},data:r}):(s=e.recorderFailure,s=typeof s===a?s.apply(e):s),o+=l(s)+"'\n            ><param name='allowScriptAccess'\n                    value='always'\n            ><embed src='",(s=n.swf_url)?s=s.call(e,{hash:{},data:r}):(s=e.swf_url,s=typeof s===a?s.apply(e):s),o+=l(s)+"'\n                    wmode='opaque'\n                    quality='high'\n                    bgcolor='#333333'\n                    flashvars='domain=",(s=n.domain)?s=s.call(e,{hash:{},data:r}):(s=e.domain,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;connectionString=",(s=n.connection)?s=s.call(e,{hash:{},data:r}):(s=e.connection,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;uploadComplete=",(s=n.uploadComplete)?s=s.call(e,{hash:{},data:r}):(s=e.uploadComplete,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;recordButtonClick=",(s=n.recordButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.recordButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;stopRecordButtonClick=",(s=n.stopRecordButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.stopRecordButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;previewButtonClick=",(s=n.previewButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.previewButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;saveButtonClick=",(s=n.saveButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.saveButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;redoButtonClick=",(s=n.redoButtonClick)?s=s.call(e,{hash:{},data:r}):(s=e.redoButtonClick,s=typeof s===a?s.apply(e):s),o+=l(s)+"&amp;recorderFailure=",(s=n.recorderFailure)?s=s.call(e,{hash:{},data:r}):(s=e.recorderFailure,s=typeof s===a?s.apply(e):s),o+=l(s)+"'\n                    allowscriptaccess='always'\n                    width='368'\n                    height='218'\n                    name='VideoRecorder'\n                    align='middle'\n                    play='true'\n                    loop='false'\n                    type='application/x-shockwave-flash'\n                    pluginspage='http://www.adobe.com/go/getflashplayer'\n        ></object></div>\n	</div> <!-- end of -->\n</div>"}),n.settings=e(function(t,e,n,i,r){function s(t,e){var i,r,s="";return s+="\n                <div class='vf-form-title'>",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"user_profile_hdr",r):v.call(t,"i18n","user_profile_hdr",r)))+"</div>\n                <label for='vf_name'>",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"display_name_lbl",r):v.call(t,"i18n","display_name_lbl",r)))+"</label>\n                <input type='text' name='vf_name' maxlength=\"255\" value='"+m((i=t.user,i=null==i||i===!1?i:i.name,typeof i===y?i.apply(t):i))+'\' data-validate="name">\n            '}function o(t,e){var i,r,s="";return s+="\n                <label for='vf_email'>",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"email_lbl",r):v.call(t,"i18n","email_lbl",r)))+"</label>\n                <input type='text' name='vf_email' value='"+m((i=t.user,i=null==i||i===!1?i:i.email,typeof i===y?i.apply(t):i))+'\' data-validate="email">\n            '}function a(t,e){var i,r,s="";return s+="\n            <div class='vf-avatar-options'>\n                <div class='vf-form-title'>",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"user_avatar_hdr",r):v.call(t,"i18n","user_avatar_hdr",r)))+"</div>\n                <input type='file' name='avatar' size='10' id='avatar-image' class=\"vf-avatar-picker\">\n                <p>",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"avatar_max_size_txt",r):v.call(t,"i18n","avatar_max_size_txt",r)))+"</p>\n                <p>",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"avatar_supported_txt",r):v.call(t,"i18n","avatar_supported_txt",r)))+"</p>\n                <p><a href='#' class=\"vf-set-default-avatar\">",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"avatar_use_default_lnk",r):v.call(t,"i18n","avatar_use_default_lnk",r)))+"</a></p>\n            </div>\n        "}function l(t,e){return"\n        <hr>\n        "}function c(t,e){var i,r,s="";return s+="\n        <div class=\"vf-password-options\">\n            <div class='vf-form-title'>",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"change_password_hdr",r):v.call(t,"i18n","change_password_hdr",r)))+"</div>\n\n            <label for='vf_old_password'>",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"old_password_lbl",r):v.call(t,"i18n","old_password_lbl",r)))+"</label>\n            <input type='password' name='vf_old_password' placeholder=\"",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"old_password_placeholder",r):v.call(t,"i18n","old_password_placeholder",r)))+'" data-validate="oldPassword">\n\n            <label for=\'vf_new_password\'>',r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"new_password_lbl",r):v.call(t,"i18n","new_password_lbl",r)))+"</label>\n            <input type='password' name='vf_new_password' placeholder=\"",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"new_password_placeholder",r):v.call(t,"i18n","new_password_placeholder",r)))+'" data-validate="newPassword">\n\n            <label for=\'vf_confirm_password\'>',r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"confirm_password_lbl",r):v.call(t,"i18n","confirm_password_lbl",r)))+"</label>\n            <input type='password' name='vf_confirm_password' placeholder=\"",r={hash:{},data:e},s+=m((i=n.i18n||t.i18n,i?i.call(t,"confirm_password_placeholder",r):v.call(t,"i18n","confirm_password_placeholder",r)))+'" data-validate="confirmPassword">\n        </div>\n        <hr>\n        '}function u(t,e){var i,r,s,o="";return o+="\n    		<div class='vf-form-title'>",s={hash:{},data:e},o+=m((i=n.i18n||t.i18n,i?i.call(t,"email_notification_hdr",s):v.call(t,"i18n","email_notification_hdr",s)))+"</div>\n    		<table class='vf-email-settings'>\n    			<tr>\n    				<th class='vf-first-col'>",s={hash:{},data:e},o+=m((i=n.i18n||t.i18n,i?i.call(t,"email_me_when_lbl",s):v.call(t,"i18n","email_me_when_lbl",s)))+"</th>\n    				<th class='vf-hightlight'>",s={hash:{},data:e},o+=m((i=n.i18n||t.i18n,i?i.call(t,"email_immediately_option",s):v.call(t,"i18n","email_immediately_option",s)))+"</th>\n    				<th>",s={hash:{},data:e},o+=m((i=n.i18n||t.i18n,i?i.call(t,"email_never_option",s):v.call(t,"i18n","email_never_option",s)))+"</th>\n    			</tr>\n    			<tr class='vf-hightlight'>\n    				<td class='vf-first-col'>",s={hash:{},data:e},o+=m((i=n.i18n||t.i18n,i?i.call(t,"email_me_when_txt",s):v.call(t,"i18n","email_me_when_txt",s)))+"</td>\n    				<td class='vf-hightlight vf-settings-option'>\n    					<input name='email_notice_frequency' type='radio' value='immediately' ",s={hash:{},inverse:b.noop,fn:b.program(12,h,e),data:e},i=n.isEqual||t.isEqual,r=i?i.call(t,(i=t.user,null==i||i===!1?i:i.email_notice_frequency),1,s):v.call(t,"isEqual",(i=t.user,null==i||i===!1?i:i.email_notice_frequency),1,s),(r||0===r)&&(o+=r),o+=">\n    				</td>\n    				<td class=\"vf-settings-option\">\n    					<input name='email_notice_frequency' type='radio' value='never' ",s={hash:{},inverse:b.noop,fn:b.program(12,h,e),data:e},i=n.anyEqual||t.anyEqual,r=i?i.call(t,(i=t.user,null==i||i===!1?i:i.email_notice_frequency),0,2,3,s):v.call(t,"anyEqual",(i=t.user,null==i||i===!1?i:i.email_notice_frequency),0,2,3,s),(r||0===r)&&(o+=r),o+=">\n    				</td>\n    			</tr>\n    		</table>\n    		<hr>\n        "}function h(t,e){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var d,f,p,g="",v=n.helperMissing,m=this.escapeExpression,y="function",b=this;return g+="<div class='vf-forms'>\n	<form action='' class='vf-form'>\n		<div class='vf-success-message' style='display:none'>",p={hash:{},data:r},g+=m((d=n.i18n||e.i18n,d?d.call(e,"profile_edit_success",p):v.call(e,"i18n","profile_edit_success",p)))+"</div>\n		<div class='vf-error-message' style='display:none'></div>\n\n        <div class='vf-user-options'>\n            ",f=n["if"].call(e,e.canUpdateName,{hash:{},inverse:b.noop,fn:b.program(1,s,r),data:r}),(f||0===f)&&(g+=f),g+="\n\n            ",f=n["if"].call(e,e.canUpdateEmail,{hash:{},inverse:b.noop,fn:b.program(3,o,r),data:r}),(f||0===f)&&(g+=f),g+="\n\n        </div>\n\n        ",f=n["if"].call(e,e.canUpdateAvatar,{hash:{},inverse:b.noop,fn:b.program(5,a,r),data:r}),(f||0===f)&&(g+=f),g+="\n\n        ",f=n["if"].call(e,e.hasOptionsOrAvatar,{hash:{},inverse:b.noop,fn:b.program(7,l,r),data:r}),(f||0===f)&&(g+=f),g+="\n\n        ",f=n["if"].call(e,e.canUpdatePassword,{hash:{},inverse:b.noop,fn:b.program(9,c,r),data:r}),(f||0===f)&&(g+=f),g+="\n\n  		",f=n["if"].call(e,e.canUpdateNotifications,{hash:{},inverse:b.noop,fn:b.program(11,u,r),data:r}),(f||0===f)&&(g+=f),g+="\n		<input class='vf-account-submit' type='submit' value='",p={hash:{},data:r},g+=m((d=n.i18n||e.i18n,d?d.call(e,"save_btn",p):v.call(e,"i18n","save_btn",p)))+"'>\n	</form>\n</div>\n"}),n.signup=e(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=this.merge(i,t.partials),r=r||{};var s,o,a,l="",c=n.helperMissing,u=this.escapeExpression,h=this;return l+="<div class='vf-user-signup vf-bg'>\n	<div class='vf-header'>\n		<div class='vf-modal-title'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"signup_hdr",a):c.call(e,"i18n","signup_hdr",a)))+":</div>\n	</div>\n	<div class='vf-sidebar'>\n		",o=h.invokePartial(i.login_options,"login_options",e,n,i,r),(o||0===o)&&(l+=o),l+="\n	</div>\n	<div class='vf-content'>\n		<form action='' class=\"vf-signup-form\">\n			<div class='vf-form'>\n\n				<div class=\"vf-block\">\n					<a class='vf-link vf-login' href='#'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"login_goto_lnk",a):c.call(e,"i18n","login_goto_lnk",a)))+"</a>\n				</div>\n\n				<div class='vf-form-title'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"signup_lbl",a):c.call(e,"i18n","signup_lbl",a)))+"</div>\n				<label for='vf_name'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"display_name_lbl",a):c.call(e,"i18n","display_name_lbl",a)))+"</label>\n				<input name='vf_name' type='text' class='vf-name-input' placeholder=\"",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"display_name_placeholder",a):c.call(e,"i18n","display_name_placeholder",a)))+'" tabIndex=\'1\' data-validate="name" maxlength="255">\n				<label for=\'vf_email\'>',a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"email_lbl",a):c.call(e,"i18n","email_lbl",a)))+"</label>\n				<input name='vf_email' type='email' class='vf-email-input' placeholder=\"",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"email_placeholder",a):c.call(e,"i18n","email_placeholder",a)))+"\" tabIndex='2' data-validate=\"email\">\n				<label for='vf_password'>",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"password_lbl",a):c.call(e,"i18n","password_lbl",a)))+"</label>\n				<input name='vf_password' type='password' class='vf-password-input' placeholder=\"",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"password_placeholder",a):c.call(e,"i18n","password_placeholder",a)))+"\" tabIndex='4' data-validate=\"password\">\n				<div class='vf-form-actions'>\n					<input type='submit' class='vf-submit-button' tabIndex='5' value=\"",a={hash:{},data:r},l+=u((s=n.i18n||e.i18n,s?s.call(e,"signup_btn",a):c.call(e,"i18n","signup_btn",a)))+'">\n				</div>\n			</div>\n		</form>\n	</div>\n</div>\n'}),n.social_login=e(function(t,e,n,i,r){function s(t,e){return"\n            <li><a href='#' class='vf-facebook-login vf-social-button' id='vf-facebook-login'><span class=\"vf-social-icon\"></span><span>Facebook</span></a></li>\n            "}function o(t,e){return"\n            <li><a href='#' class='vf-google-login vf-social-button' id='vf-google-login'><span class=\"vf-social-icon\"></span>Google</a></li>\n            "}function a(t,e){return"\n            <li><a href='#' class='vf-twitter-login vf-social-button' id='vf-twitter-login'><span class=\"vf-social-icon\"></span>Twitter</a></li>\n            "}function l(t,e){return"\n            <li><a href='#' class='vf-aol-login vf-social-button' id='vf-aol-login'><span class=\"vf-social-icon\"></span>Aol</a></li>\n            "}function c(t,e){return"\n            <li><a href='#' class='vf-linkedin-login vf-social-button' id='vf-linkedin-login'><span class=\"vf-social-icon\"></span>LinkedIn</a></li>\n            "}function u(t,e){return"\n            <li><a href='#' class='vf-paypal-login vf-social-button' id='vf-paypal-login'><span class=\"vf-social-icon\"></span>PayPal</a></li>\n            "}function h(t,e){return"\n            <li><a href='#' class='vf-qq-login vf-social-button' id='vf-qq-login'><span class=\"vf-social-icon\"></span>Tencent QQ</a></li>\n            "}function d(t,e){return"\n            <li><a href='#' class='vf-tumblr-login vf-social-button' id='vf-tumblr-login'><span class=\"vf-social-icon\"></span>Tumblr</a></li>\n            "}function f(t,e){return"\n            <li><a href='#' class='vf-windowslive-login vf-social-button' id='vf-windowslive-login'><span class=\"vf-social-icon\"></span>Windows Live</a></li>\n            "}function p(t,e){return"\n            <li><a href='#' class='vf-yahoo-login vf-social-button' id='vf-yahoo-login'><span class=\"vf-social-icon\"></span>Yahoo!</a></li>\n            "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var g,v,m,y="",b=n.helperMissing,w=this.escapeExpression,_=this;return y+="<div class='vf-social-login-modal'>\n    <div class='vf-header'>\n        <div class='vf-modal-title'>",m={hash:{},data:r},y+=w((g=n.i18n||e.i18n,g?g.call(e,"login_select_hdr",m):b.call(e,"i18n","login_select_hdr",m)))+":</div>\n    </div>\n    <div class='vf-content'>\n        <div class='vf-form-title'>",m={hash:{},data:r},y+=w((g=n.i18n||e.i18n,g?g.call(e,"social_login_lbl",m):b.call(e,"i18n","social_login_lbl",m)))+"</div>\n        <ul class='vf-clearfix'>\n            ",v=n["if"].call(e,e.authprovider_facebook_enabled,{hash:{},inverse:_.noop,fn:_.program(1,s,r),data:r}),(v||0===v)&&(y+=v),y+="\n            ",v=n["if"].call(e,e.authprovider_google_enabled,{hash:{},inverse:_.noop,fn:_.program(3,o,r),data:r}),(v||0===v)&&(y+=v),y+="\n            ",v=n["if"].call(e,e.authprovider_twitter_enabled,{hash:{},inverse:_.noop,fn:_.program(5,a,r),data:r}),(v||0===v)&&(y+=v),y+="\n            ",v=n["if"].call(e,e.authprovider_aol_enabled,{hash:{},inverse:_.noop,fn:_.program(7,l,r),data:r}),(v||0===v)&&(y+=v),y+="\n            ",v=n["if"].call(e,e.authprovider_linkedin_enabled,{hash:{},inverse:_.noop,fn:_.program(9,c,r),data:r}),(v||0===v)&&(y+=v),y+="\n            ",v=n["if"].call(e,e.authprovider_paypal_enabled,{hash:{},inverse:_.noop,fn:_.program(11,u,r),data:r}),(v||0===v)&&(y+=v),y+="\n            ",v=n["if"].call(e,e.authprovider_qq_enabled,{hash:{},inverse:_.noop,fn:_.program(13,h,r),data:r}),(v||0===v)&&(y+=v),y+="\n            ",v=n["if"].call(e,e.authprovider_tumblr_enabled,{hash:{},inverse:_.noop,fn:_.program(15,d,r),data:r}),(v||0===v)&&(y+=v),y+="\n            ",v=n["if"].call(e,e.authprovider_windowslive_enabled,{hash:{},inverse:_.noop,fn:_.program(17,f,r),data:r}),(v||0===v)&&(y+=v),y+="\n            ",v=n["if"].call(e,e.authprovider_yahoo_enabled,{hash:{},inverse:_.noop,fn:_.program(19,p,r),data:r}),(v||0===v)&&(y+=v),y+='\n        </ul>\n        <div class="vf-extras-area">\n            <hr>\n        </div>\n    </div>\n</div>\n'}),n.user_header=e(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,o="",a="function",l=this.escapeExpression;return o+='<div class="vf-comment-user">\n</div>\n<div class="vf-user-info">\n	<div class="name">',(s=n.name)?s=s.call(e,{hash:{},data:r}):(s=e.name,s=typeof s===a?s.apply(e):s),o+=l(s)+"</div>\n</div>"}),n}.apply(e,i),!(void 0!==r&&(t.exports=r))},,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i,r;try{i=[n(10),n(1),n(60),n(11)],r=function(t,e,n,i){var r=n.extend({tagName:"ul",className:"vf-list",initialize:function(e){this.canView=e.canView,this.itemView=e.itemView,this.views=[],this.settings=e.settings||{},this.index=0,t.bindAll(this,"appendItem","prependItem","render"),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"add",this.add),this.listenTo(this.collection,"sync",this.resetIndex)},render:function(){return this.views=[],this.$el&&this.collection.length>=0&&(this.$el.empty(),this.collection.each(this.appendItem)),this},add:function(t,e,n){var i={prepend:this.prependItem,append:this.appendItem},r=i[n.insert_method||"append"](t);r&&n.animate&&r.hide().slideDown()},appendItem:function(t){if(!this.canView||this.canView(t)){var e=new this.itemView({model:t,settings:this.settings});return this.views.push(e),e.render().$el.appendTo(this.el)}},prependItem:function(t){if(!this.canView||this.canView(t)){var e=new this.itemView({model:t,settings:this.settings}),n=this.$el.children().eq(this.index);return this.views.splice(this.index,0,e),this.index+=1,e.render().$el.insertBefore(n)}},resetIndex:function(){this.index=0}});return r}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},,,,,,,,,,,,,,,,,function(t,e,n){var i,r;try{i=[n(113),n(115),n(149),n(151)],r=function(){}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(7),n(17)],r=function(t,e){var i;t.register({name:"comments",create:function(e){if(t.current.settings.get("enable_commenting")){var n=new i({el:e,section:t.locations.section});return n}},loadDeps:function(t){n.e(2,function(){n(114),n.e(1,function(e){i=n(75),t.call()})})}})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},,function(t,e,n){var i,r;try{i=[n(7),n(116),n(120),n(123),n(126)],r=function(t,e,i,r,s){var o;t.register({name:"trending-articles",create:function(t){return new o({el:t})},loadDeps:function(t){n.e(3,function(){o=n(128),t&&t()})}});var a;t.register({name:"trending-comments",create:function(t){return new a({el:t})},loadDeps:function(t){n.e(3,function(){a=n(132),t&&t()})}});var l;t.register({name:"quote",create:function(t){return new l({el:t})},loadDeps:function(t){n.e(3,function(){l=n(136),t&&t()})}});var c;t.register({name:"users",create:function(t){return new c({el:t})},loadDeps:function(t){n.e(3,function(){c=n(134),t&&t()})}});var u;t.register({name:"sharebar",create:function(t){return new u({el:t})},loadDeps:function(t){n.e(4,function(){u=n(138),t&&t()})}});var h;t.register({name:"sharetotal",create:function(t){return new h({el:t})},loadDeps:function(t){n.e(4,function(){h=n(148),t&&t()})}}),t.register({name:"community-articles",create:function(t){return new e({el:t})},loadDeps:function(t){n.e(2,function(){n(114),t&&t()})}}),t.register({name:"community-users",create:function(t){return new i({el:t})},loadDeps:function(t){n.e(2,function(){n(114),t&&t()})}}),t.register({name:"community-comments",create:function(t){return new r({el:t,show:"recent"})},loadDeps:function(t){n.e(2,function(){n(114),t&&t()})}}),t.register({name:"community-popular",create:function(t){return new r({el:t,show:"top"})},loadDeps:function(t){
n.e(2,function(){n(114),t&&t()})}}),t.register({name:"community-tabs",create:function(t){return new s({el:t})},loadDeps:function(t){n.e(2,function(){n(114),t&&t()})}}),t.register({name:"community-tab",create:function(t){return new s({el:t})},loadDeps:function(t){n.e(2,function(){n(114),t&&t()})}})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(117),n(95),n(118),n(119),n(7)],r=function(t,e,n,i,r){var s=t.extend({initialize:function(t){var r=this.$el.data();this.collection=new n,this.view=new e({itemView:i,collection:this.collection,settings:r}),this.collection.settings.section=null,void 0!==r.section&&(this.collection.settings.section=r.section),this.collection.settings.days=r.days||0,this.collection.settings.limit=r.limit||5,r.navigation&&(this.navigation=r.navigation),this.listenTo(this.collection,"reset",this.render),this.collection.fetch({batch:!0,reset:!0})}});return s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(60),n(7)],r=function(t,e,n){var i=e.extend({templateName:"community",events:{"click .vf-next-btn":"nextPage","click .vf-prev-btn":"prevPage"},initialize:function(t){var e=this.$el.data();this.view=new t.mainView({collection:t.collection(),itemView:t.itemView}),e.navigation&&(this.navigation=e.navigation)},render:function(){this.$el.html(this.template(this.$el.data())),this.$el.find(".vf-data-container").append(this.view.el),this.renderUI()},renderUI:function(){if("cycle"===this.navigation){var t=this.collection,e=this.$(".vf-prev-btn"),n=this.$(".vf-next-btn");t.before_count||t.after_count?(e.toggleClass("vf-disable",!t.before_count),n.toggleClass("vf-disable",!t.after_count)):(e.hide(),n.hide())}},nextPage:function(t){t.preventDefault();var e=this.collection,n=e.settings;n.before_id&&delete n.before_id,e.after_count>0&&(n.after_id=e.at(e.length-1).id,e.fetch({reset:!0}))},prevPage:function(t){t.preventDefault();var e=this.collection,n=e.settings;n.after_id&&delete n.after_id,e.before_count>0&&(e.settings.before_id=e.at(0).id,e.fetch({reset:!0}))}});return i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(30),n(33),n(11)],r=function(t,e,n,i){var r=e.extend({model:n,url:"/pages",initialize:function(n,i){e.prototype.initialize.apply(this,arguments),this.settings={show:"top",days:0,limit:5},i&&i.settings&&t.extend(this.settings,i.settings)}});return r}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(60),n(7)],r=function(t,e,n){var i=e.extend({templateName:"page_row",tagName:"li",className:"vf-item vf-page-row",initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){var t=this.model.toJSON(),e=this.options.settings,i={model:t,host:location.hostname,hasImage:e.hasImage||!1,hasDescription:e.hasDescription||!1,hasCount:!0,page_url:t.host+t.path,current_page_id:n.current.page.id};return this.$el.html(this.template(i)),this}});return i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(117),n(95),n(121),n(122),n(7)],r=function(t,e,n,i,r){var s=t.extend({initialize:function(t){var r=this.$el.data();this.collection=new n,this.view=new e({itemView:i,collection:this.collection}),this.collection.settings.days=r.days||0,this.collection.settings.limit=r.limit||5,this.collection.settings.format=r.format||"list",this.collection.settings.section=null,void 0!==r.section&&(this.collection.settings.section=r.section),r.navigation&&(this.navigation=r.navigation),this.listenTo(this.collection,"reset",this.render),this.collection.fetch({batch:!0,reset:!0})}});return s}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(10),n(30),n(27),n(11)],r=function(t,e,n,i){var r=e.extend({model:n,url:"/users",initialize:function(n,i){e.prototype.initialize.apply(this,arguments),this.settings={show:"top",days:0,limit:5},i&&i.settings&&t.extend(this.settings,i.settings)}});return r}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(60),n(7),n(11)],r=function(t,e,n){var i=t.extend({templateName:"user_row",tagName:"li",className:"vf-item vf-user-row clearfix",events:{"click .vf-username":"showAccount","click .vf-avatar":"showAccount"},initialize:function(){this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$(".vf-avatar").attr("onerror","this.src='"+this.model.defaults.pic_small+"'"),this},showAccount:function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation()),n.trigger("/user/account/click",this.model)}});return i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(117),n(95),n(29),n(124),n(7),n(125)],r=function(t,e,n,i,r,s,o){var a=e.extend({initialize:function(t){var e=this.$el.data();this.collection=new i,this.orientation=e.orientation||"vertical",this.collection.settings.section=null,void 0!==e.section&&(this.collection.settings.section=e.section),this.collection.settings.show=t.show||"top",this.collection.settings.type=e.type||"comment",this.collection.settings.days=e.days||0,e.path&&(this.collection.rootUrl="/pages/"+encodeURIComponent(this.parsePath(decodeURIComponent(e.path))),"comment"===this.collection.settings.type&&(this.collection.settings.type="any")),e.navigation&&(this.navigation=e.navigation),this.cols=e.cols||1,this.rows=e.rows||e.limit||5,"horizontal"===e.orientation?this.collection.settings.limit=this.cols*this.rows:(this.collection.settings.limit=this.rows,this.view=new n({itemView:r,collection:this.collection})),"editor_pick"===e.filter&&(this.collection.settings.show="editor-picks"),this.collection.fetch({batch:!0,reset:!0}),this.listenTo(this.collection,"reset",this.render)},render:function(){this.$el.html(this.template(this.$el.data())),this.$data_container=this.$el.find(".vf-data-container"),"horizontal"===this.orientation?this.renderHorizontal():this.$el.find(".vf-data-container").append(this.view.el),this.renderUI()},renderHorizontal:function(){var e,n=this;this.collection.each(function(i,r){r%n.cols===0&&(e=n.createRow());var s=new o({model:i}),a=t(s.render().el);a.css({width:n.getColWidth()}),e.append(a),r%n.cols===0&&n.$data_container.append(e)})},createRow:function(){var e=t("<div />");return e.addClass("vf-community-widget vf-clearfix"),e},getColWidth:function(){this.$el.css({visibility:"hidden",display:"block"});var t=this.$data_container.width()/this.cols;return this.$el.removeAttr("style"),t}});return a}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(60),n(7),n(11),n(1)],r=function(t,e,n,i){var r=t.extend({templateName:"comment_row",tagName:"li",className:"vf-item",events:{"click .vf-username":"showAccount"},initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){var t=this.getComment();return t.current_page_id=e.current.page.id,this.$el.html(this.template(t)),this.delegateEvents(),this.model.user.isGuest()&&(this.$el.addClass("vf-is-anonymous"),this.$el.undelegate(".vf-username","click")),this},getComment:function(){var t=this.model.toJSON();return t.timeAgo=this.getRelativeTime(t.date_created,this.domainSettings.currentTime()),t.video&&t.video.thumbs&&(t.video_placeholder=t.video.thumbs.medium),t.content&&t.content.replace(/&#?[a-zA-Z0-9]+;/g,"#").length>75&&(t.content=this.subStringLastWord(t.content,71)+" ..."),t.picture&&(t.picture.s?t.imageURL=t.picture.s.url:t.picture.t&&(t.imageURL=t.picture.t.url)),t},showAccount:function(t){t.preventDefault(),t.stopPropagation(),n.trigger("/user/account/click",this.model.toJSON().user)}});return r}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(7),n(11),n(124)],r=function(t,e,n){return n.extend({templateName:"popular",tagName:"div",className:"vf-community-comment",events:{"click .vf-user":"showAccount"},render:function(){var e=this.getComment();return e.current_page_id=t.current.page.id,this.$el.html(this.template(e)),this.delegateEvents(),this.model.user.isGuest()&&(this.$el.addClass("vf-is-anonymous"),this.$el.undelegate(".vf-username","click")),this},showAccount:function(t){t.preventDefault(),t.stopPropagation(),e.trigger("/user/account/click",this.model.get("user"))}})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(7),n(60)],r=function(t,e,n){var i=n.extend({templateName:"tabs",events:{"click .vf-community-tabs > li a":"changeTabs"},initialize:function(e){this.$widgets=this.$el.children(".vf-widget");var n=this.tabs=[];this.$widgets.length>0&&(t.each(this.$widgets,function(e,i){var r=t(i),s="vf-tabs-"+e;n.push({title:r.data("title"),container:s}),r.addClass(s)}),this.render())},render:function(){this.$el.find(".vf-nav.vf-clearfix.vf-community-tabs").remove(),this.$el.prepend(this.template());for(var e=0;e<this.tabs.length;e++){var n=t("<li><a data-con="+this.tabs[e].container+" href='#'>"+this.tabs[e].title+"</a></li>");this.$(".vf-community-tabs").append(n)}this.$tabs=this.$el.find("ul li"),this.$widgets.first().addClass("vf-current"),this.$tabs.first().addClass("vf-current")},changeTabs:function(e){e.preventDefault();var n=t(e.target);this.$widgets.removeClass("vf-current"),this.$tabs.removeClass("vf-current"),n.parent().addClass("vf-current"),this.$el.find("."+n.data("con")).addClass("vf-current")}});return i}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i,r;try{i=[n(7),n(150),n(33)],r=function(t,e,i){t.register({name:"counter",create:function(t){var n=new i;return new e({el:t,model:n})},loadDeps:function(t){n.e(2,function(){n(114),t&&t()})}})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(60),n(7),n(11)],r=function(t,e,n,i){var r=e.extend({initialize:function(t){var e,r=this.$el.data();e=r.path?this.parsePath(r.path):r.id?r.id:this.parsePath(n.locations.path),this.model.set("id",encodeURIComponent(e)),this.listenTo(this.model,"change",this.render),this.listenTo(i,"comment:created",this.incrementCount),this.model.fetch({batch:!0}),this.render()},render:function(){var t=this.model.get("num_replies");return this.$el.text(t),this},incrementCount:function(t){t.get("page").id==this.model.id&&this.model.set("num_replies",this.model.get("num_replies")+1)}});return r}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(7),n(152)],r=function(t,e){t.register({name:"rating-star",create:function(t){return new e({el:t})},loadDeps:function(t){n.e(2,function(){n(114),t&&t()})}})}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(10),n(7),n(60),n(11),n(33)],r=function(t,e,n,i,r,s){var o=i.extend({templateName:"ratings",events:{"mouseover .vf-rating":"clearRatings","mouseout .vf-rating":"restoreRatings","click span":"rate"},initialize:function(t){e.bindAll(this,"update"),this.user=n.current.user,this.settings=n.current.settings;var i=this.$el.data(),r=n.current.page,o=1===this.settings.attributes.enable_page_rating;e.bindAll(this,"render","onPageFetch"),o&&i.path&&(i.path=encodeURIComponent(this.parsePath(i.path)),r=new s({id:i.path}),r.fetch({batch:!0,success:this.onPageFetch})),this.model=r,i.path||this.onPageFetch()},onPageFetch:function(){this.render(),this.listenTo(this.model,"change",this.render)},render:function(){var t=this.model.toJSON();this.$el.html(this.template(t)),this.$ratings=this.$el.find(".vf-ratings"),this.setRating(this.currentRating())},currentRating:function(){var t=this.model;if(this.user.isLoggedIn()){var e=t.get("ratings");if(e&&e[t.id])return e[t.id].points.toFixed(1)}return t.get("rating").toFixed(1)},rate:function(e){if(e.preventDefault(),this.authorize("rate",this.model)){var n=t(e.target),i=n.data().value;this.restAPI.request("put","ratings/"+this.model.id,{points:i},{success:this.update,error:this.update})}},update:function(t){t&&t.result&&this.model.set(t.result)},select:function(e){var n=t(e.target);this.setRatings(n.data().value)},restoreRatings:function(t){this.setRating(this.currentRating())},clearRatings:function(t){this.$(".vf-rating span").removeClass("vf-till")},setRating:function(e){t(this.$el.find(".vf-rating span")[-1*(e-5)]).addClass("vf-till")}});return o}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}},function(t,e,n){var i,r;try{i=[n(1),n(4)],r=function(t,e){function n(e,n){r?t(e).html(a).children().addClass("vf-loading"):t.each(l,function(i,r){i==n.gifType&&t(e).html(r)})}function i(t){t.html("&#xe602;")}for(var r=!1,s=["animationName","webkitAnimationName","mozAnimationName","MSAnimationName","oanimationName"],o=document.createElement("div"),a='<span class="vf-l1"></span><span class="vf-l2"></span><span class="vf-l3"></span>',l={white:'<img src="'+e.asset_url+'img/vf-loader-white.gif" alt="loading">',whitelarge:'<img src="'+e.asset_url+'img/vf-loader-white-large.gif" alt="loading">',gray:'<img src="'+e.asset_url+'img/vf-loader-gray.gif" alt="loading">',blue:'<img src="'+e.asset_url+'img/vf-loader-blue.gif" alt="loading">',bluegray:'<img src="'+e.asset_url+'img/vf-loader-gray-blue.gif" alt="loading">'},c=0;c<s.length;c++)if(void 0!==o.style[s[c]]){r=!0;break}var u=[];t.fn.loader=function(e,r){if(0===this.length)return this;r=r||{};var s;return"show"===e?(s=t("<div>").addClass("vf-loader"),"large"==r.loaderSize&&s.addClass("vf-loader-large"),r.block&&s.addClass("vf-loader-block"),r.gifType||(r.gifType="white"),r.position||(r.position="left"),r.inside?this.html(s):"right"==r.position?(s.addClass("vf-loader-right"),this.after(s)):this.before(s),s.siblings(".vf-loader")[0]&&this.siblings(".vf-loader").remove(),this.siblings(".vf-loader-error")[0]&&this.siblings(".vf-loader-error").each(function(){t(this).tipsy("remove").remove()}),this.parents(".vf-comment-actions, .vf-flag-container")[0]&&this.parents(".vf-comment-actions, .vf-flag-container").removeClass("vf-force-focus"),n(s,r),t.data(this[0],"loader",s)):"hide"===e?(s=t.data(this[0],"loader"),s&&(s.remove(),t.data(this[0],"loader",null))):"error"==e&&(t.fn.loader.call(this,"hide"),s=t("<div class='vf-loader-error'>"),this.parents(".vf-comment-actions, .vf-flag-container")[0]&&this.parents(".vf-comment-actions, .vf-flag-container").addClass("vf-force-focus"),"right"==r.position?(s.addClass("vf-loader-right-error"),this.after(s)):this.before(s),u.push(this[0]),i(s),t.data(this[0],"loader",s)),s},t.fn.loader.hideErrors=function(){for(var e=0;e<u.length;e++)t(u[e]).loader("hide");return u.length=0,this}}.apply(e,i),!(void 0!==r&&(t.exports=r))}catch(s){var o=n(3);o(s)}}]);